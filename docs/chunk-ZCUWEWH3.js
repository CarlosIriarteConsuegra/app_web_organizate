import{a as ot,b as rt,c as st,d as se,e as he,f as ve,g as le,h as ce,i as lt,j as pe,k as mt,l as fe,m as pt,n as de,o as dt,p as Ie,q as ut,r as _t,s as gt,t as ft,u as xt,v as Ct,w as ht,x as vt}from"./chunk-WOB22T72.js";import{A as O,Aa as Ce,B as Te,Bc as me,Cc as ct,D as _,E as g,F as Ze,Fa as U,G as Je,Ga as l,Ha as E,I as G,Ia as w,Ib as Ge,J as Pe,Ja as H,Jb as N,Ka as v,Kb as L,La as b,Ma as S,O as k,Pa as T,Qa as I,Rb as V,T as j,V as c,W as P,Wb as Z,a as R,bb as K,bc as J,cb as Qe,cc as et,d as y,db as X,dc as Q,ec as tt,gb as z,gc as $,ha as d,hb as Oe,ic as ee,ja as p,jb as B,jc as te,kb as Y,kc as it,lc as ie,ma as A,mb as $e,nc as ne,oa as D,oc as Ue,pa as r,pc as nt,qa as n,qc as M,ra as x,rc as oe,sa as W,sc as re,ta as F,va as h,wa as C,wc as ae,xa as m,xc as at}from"./chunk-CPW5HPP5.js";var be=(()=>{let s=class s extends oe{constructor(o,i,a,f){super(o,a),this.messageService=i,this.loadingService=f}getPlataforms(){return this.http.get(`${M.microproxy_cursos}plataformas`)}postPlataform(o){return this.http.post(`${M.microproxy_cursos}plataformas`,o)}putPlataform(o){return this.http.put(`${M.microproxy_cursos}plataformas`,o)}deletePlataforms(o){this.loadingService.ejecutarLoading("Eliminando plataformas...");for(let i of o)if(i.cursosPlataforma&&i.cursosPlataforma.length>0)this.messageService.add({severity:"error",summary:"Plataforma con cursos",detail:`La plataforma ${i.nombre} tiene cursos asginados, por lo cual no se puede eliminar`,life:3e3}),o=o.filter(a=>a.id!=i.id),this.loadingService.finalizarLoading();else{let a={headers:new B({"Content-Type":"application/json"}),body:i};this.http.delete(`${M.microproxy_cursos}plataformas`,a).subscribe({next:f=>y(this,null,function*(){console.log("Solicitud DELETE exitosa",f),this.messageService.add({severity:"success",summary:"Eliminada",detail:`Plataforma ${i.nombre} eliminada`,life:3e3}),this.loadingService.finalizarLoading()}),error:f=>{console.log("Solicitud DELETE error",f),o=o.filter(u=>u.id!=i.id),this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:f.statusText,life:3e3}),this.loadingService.finalizarLoading()}})}return o}deletePlataform(o){if(this.loadingService.ejecutarLoading("Eliminando plataformas..."),o.cursosPlataforma&&o.cursosPlataforma.length>0)this.messageService.add({severity:"error",summary:"Plataforma con cursos",detail:`La plataforma ${o.nombre} tiene cursos asginados, por lo cual no se puede eliminar`,life:3e3}),this.loadingService.finalizarLoading();else{let i={headers:new B({"Content-Type":"application/json"}),body:o};this.http.delete(`${M.microproxy_cursos}plataformas`,i).subscribe({next:a=>y(this,null,function*(){console.log("Solicitud DELETE exitosa",a),this.messageService.add({severity:"success",summary:"Eliminada",detail:`Plataforma ${o.nombre} eliminada`,life:3e3}),this.loadingService.finalizarLoading()}),error:a=>{console.log("Solicitud DELETE error",a),this.messageService.add({severity:"error",summary:"Error Eliminar",detail:`Error al eliminar la plataforma ${o.nombre}`,life:3e3}),this.loadingService.finalizarLoading()}})}}};s.\u0275fac=function(i){return new(i||s)(k(Y),k(V),k(re),k(L))},s.\u0275prov=G({token:s,factory:s.\u0275fac});let t=s;return t})();function zt(t,s){if(t&1){let e=h();r(0,"button",16),C("click",function(){_(e);let i=m(2);return g(i.openNew())}),n()}}function Nt(t,s){if(t&1){let e=h();r(0,"button",17),C("click",function(){_(e);let i=m(2);return g(i.deleteSelectedPlataformas())}),n()}if(t&2){let e=m(2);p("disabled",!e.selectedPlataformas||!e.selectedPlataformas.length)}}function Ht(t,s){if(t&1&&(r(0,"div",13),d(1,zt,1,0,"button",14)(2,Nt,1,1,"button",15),n()),t&2){let e=m();c(),p("ngIf",e.tokenService.isAdmin()),c(),p("ngIf",e.tokenService.isAdmin()&&e.plataformas&&e.plataformas.length>0)}}function qt(t,s){if(t&1&&(r(0,"h5",19),l(1),n()),t&2){let e=m(2);c(),w("Total ",e.plataformas.length," Plataformas")}}function Ot(t,s){if(t&1&&d(0,qt,2,1,"h5",18),t&2){let e=m();p("ngIf",e.plataformas&&e.plataformas.length>0)}}function Gt(t,s){if(t&1){let e=h();r(0,"div",25)(1,"h5",19),l(2,"Plataformas"),n(),r(3,"span",26),x(4,"i",27),r(5,"input",28),C("input",function(i){_(e),m();let a=U(2),f=m();return g(f.onGlobalFilter(a,i))}),n()()()}}function Ut(t,s){t&1&&(r(0,"th",31),x(1,"p-tableHeaderCheckbox"),n())}function Kt(t,s){if(t&1&&(r(0,"tr"),d(1,Ut,2,0,"th",29),r(2,"th",30),l(3,"Plataforma"),n()()),t&2){let e=m(2);c(),p("ngIf",e.tokenService.isAdmin())}}function Xt(t,s){if(t&1&&(r(0,"td"),x(1,"p-tableCheckbox",45),n()),t&2){let e=m().$implicit;c(),p("value",e)}}function Yt(t,s){if(t&1){let e=h();r(0,"div",46)(1,"button",47),C("click",function(){_(e);let i=m().$implicit,a=m(2);return g(a.editPlataforma(i))}),n(),r(2,"button",48),C("click",function(){_(e);let i=m().$implicit,a=m(2);return g(a.deletePlataforma(i))}),n()()}}function Zt(t,s){if(t&1&&(r(0,"tr"),d(1,Xt,2,1,"td",6),r(2,"td")(3,"div",32),x(4,"img",33),r(5,"div",34)(6,"div",35)(7,"div",36),l(8),n(),r(9,"div")(10,"p")(11,"span",37),l(12,"Cursos: "),n(),l(13),n()(),r(14,"div",38)(15,"p"),l(16),n()(),r(17,"div",39)(18,"a",40),x(19,"button",41),n()()(),r(20,"div",42),d(21,Yt,3,0,"div",43),r(22,"div",44)(23,"p")(24,"span",37),l(25,"Creado el: "),n(),l(26),n()(),r(27,"div")(28,"p")(29,"span",37),l(30,"Ultima actualizaci\xF3n: "),n(),l(31),n()()()()()()()),t&2){let e=s.$implicit,o=m(2);c(),p("ngIf",o.tokenService.isAdmin()),c(3),p("src",e.logo,j)("alt",e.nombre),c(4),H("",e.codigo,"-",e.nombre,""),c(5),E(e.cursosPlataforma?e.cursosPlataforma.length:0),c(3),E(e.descripcion),c(2),p("href",e.link,j),c(3),p("ngIf",o.tokenService.isAdmin()),c(5),E(o.datePipe.transform(e.createdAt,"dd/MM/yyyy HH:MM:SS")),c(5),E(o.datePipe.transform(e.updateAt,"dd/MM/yyyy HH:MM:SS"))}}var Jt=()=>["codigo","nombre","descripcion"],yt=()=>[10,20,30];function Qt(t,s){if(t&1){let e=h();W(0),r(1,"p-table",20,21),S("selectionChange",function(i){_(e);let a=m();return b(a.selectedPlataformas,i)||(a.selectedPlataformas=i),g(i)}),d(3,Gt,6,0,"ng-template",22)(4,Kt,4,1,"ng-template",23)(5,Zt,32,11,"ng-template",24),n(),F()}if(t&2){let e=m();c(),p("value",e.plataformas)("scrollable",!0)("columns",e.cols)("rows",2)("globalFilterFields",T(10,Jt))("paginator",!0)("rowsPerPageOptions",T(11,yt))("showCurrentPageReport",!0),v("selection",e.selectedPlataformas),p("rowHover",!0)}}function $t(t,s){t&1&&(W(0),r(1,"h1",30),l(2,"No tienes plataformas registradas"),n(),F())}function ei(t,s){if(t&1&&x(0,"img",64),t&2){let e=m(2);p("src",e.plataforma.logo,j)("alt",e.plataforma.logo)}}var Se=t=>({"ng-invalid ng-dirty":t});function ti(t,s){if(t&1){let e=h();r(0,"div",51)(1,"label",65),l(2,"Codigo"),n(),r(3,"input",66),S("ngModelChange",function(i){_(e);let a=m(2);return b(a.plataforma.codigo,i)||(a.plataforma.codigo=i),g(i)}),n()()}if(t&2){let e=m(2);c(3),v("ngModel",e.plataforma.codigo),p("ngClass",I(2,Se,e.submitted&&!e.plataforma.codigo))}}function ii(t,s){t&1&&(r(0,"small",68),l(1,"El codigo es requerido."),n())}function ni(t,s){if(t&1){let e=h();r(0,"div",51)(1,"label",65),l(2,"Codigo"),n(),r(3,"input",67),S("ngModelChange",function(i){_(e);let a=m(2);return b(a.plataforma.codigo,i)||(a.plataforma.codigo=i),g(i)}),n(),d(4,ii,2,0,"small",54),n()}if(t&2){let e=m(2);c(3),v("ngModel",e.plataforma.codigo),p("ngClass",I(3,Se,e.submitted&&!e.plataforma.codigo)),c(),p("ngIf",e.submitted&&!e.plataforma.codigo)}}function oi(t,s){t&1&&(r(0,"small",68),l(1,"El nombre es requerido."),n())}function ri(t,s){t&1&&(r(0,"small",68),l(1,"La descripci\xF3n es requerida."),n())}function ai(t,s){t&1&&(r(0,"small",68),l(1,"El logo es requerido."),n())}function si(t,s){t&1&&(r(0,"small",68),l(1,"El link es requerido."),n())}function li(t,s){t&1&&(r(0,"div",25)(1,"h5",19),l(2,"Cursos"),n()())}function ci(t,s){t&1&&(r(0,"tr")(1,"th",69),l(2,"Codigo "),x(3,"p-sortIcon",70),n(),r(4,"th",71),l(5,"Nombre "),x(6,"p-sortIcon",72),n(),r(7,"th",73),l(8,"Descripci\xF3n "),x(9,"p-sortIcon",74),n(),r(10,"th",73),l(11,"Nivel "),x(12,"p-sortIcon",74),n(),r(13,"th",75),l(14,"Curso Plataforma "),x(15,"p-sortIcon",76),n(),r(16,"th",77),l(17,"Descargar Curso "),x(18,"p-sortIcon",78),n(),r(19,"th",79),l(20,"Creaci\xF3n "),x(21,"p-sortIcon",80),n(),r(22,"th",81),l(23,"Actualizaci\xF3n "),x(24,"p-sortIcon",82),n()())}function mi(t,s){if(t&1&&(r(0,"tr")(1,"td",83)(2,"span",84),l(3,"Codigo"),n(),l(4),n(),r(5,"td",83)(6,"span",84),l(7,"Nombre"),n(),l(8),n(),r(9,"td",83)(10,"span",84),l(11,"Descripci\xF3n"),n(),l(12),n(),r(13,"td",83)(14,"span",84),l(15,"Nivel"),n(),l(16),n(),r(17,"td",83)(18,"span",84),l(19,"Curso Plataforma"),n(),l(20),n(),r(21,"td",83)(22,"span",84),l(23,"Descargar Curso"),n(),l(24),n(),r(25,"td",85)(26,"span",84),l(27,"Creaci\xF3n"),n(),l(28),n(),r(29,"td",85)(30,"span",84),l(31,"Actualizaci\xF3n"),n(),l(32),n()()),t&2){let e=s.$implicit;c(4),w(" ",e.codigo," "),c(4),w(" ",e.nombre," "),c(4),w(" ",e.descripcion," "),c(4),w(" ",e.nivel," "),c(4),w(" ",e.linkCurso," "),c(4),w(" ",e.linkCursoTeleg," "),c(4),w(" ",e.createdAt," "),c(4),w(" ",e.updateAt," ")}}function pi(t,s){if(t&1&&(r(0,"p-table",63,21),d(2,li,3,0,"ng-template",22)(3,ci,25,0,"ng-template",23)(4,mi,33,8,"ng-template",24),n()),t&2){let e=m(2);p("value",e.plataforma.cursosPlataforma)("columns",e.cols)("rows",10)("paginator",!0)("rowsPerPageOptions",T(7,yt))("showCurrentPageReport",!0)("rowHover",!0)}}function di(t,s){if(t&1){let e=h();d(0,ei,1,2,"img",49)(1,ti,4,4,"div",50)(2,ni,5,5),r(3,"div",51)(4,"label",52),l(5,"Nombre"),n(),r(6,"input",53),S("ngModelChange",function(i){_(e);let a=m();return b(a.plataforma.nombre,i)||(a.plataforma.nombre=i),g(i)}),n(),d(7,oi,2,0,"small",54),n(),r(8,"div",51)(9,"label",55),l(10,"Descripci\xF3n"),n(),r(11,"textarea",56),S("ngModelChange",function(i){_(e);let a=m();return b(a.plataforma.descripcion,i)||(a.plataforma.descripcion=i),g(i)}),n(),d(12,ri,2,0,"small",54),n(),r(13,"div",57)(14,"div",58)(15,"label",59),l(16,"Logo"),n(),r(17,"input",60),S("ngModelChange",function(i){_(e);let a=m();return b(a.plataforma.logo,i)||(a.plataforma.logo=i),g(i)}),n(),d(18,ai,2,0,"small",54),n(),r(19,"div",58)(20,"label",61),l(21,"Link"),n(),r(22,"input",62),S("ngModelChange",function(i){_(e);let a=m();return b(a.plataforma.link,i)||(a.plataforma.link=i),g(i)}),n(),d(23,si,2,0,"small",54),n()(),d(24,pi,5,8,"p-table",63)}if(t&2){let e=m();p("ngIf",e.plataforma.logo),c(),D(1,e.plataforma.id?1:2),c(5),v("ngModel",e.plataforma.nombre),p("ngClass",I(15,Se,e.submitted&&!e.plataforma.nombre)),c(),p("ngIf",e.submitted&&!e.plataforma.nombre),c(4),v("ngModel",e.plataforma.descripcion),p("ngClass",I(17,Se,e.submitted&&!e.plataforma.descripcion)),c(),p("ngIf",e.submitted&&!e.plataforma.descripcion),c(5),v("ngModel",e.plataforma.logo),p("ngClass",I(19,Se,e.submitted&&!e.plataforma.logo)),c(),p("ngIf",e.submitted&&!e.plataforma.logo),c(4),v("ngModel",e.plataforma.link),p("ngClass",I(21,Se,e.submitted&&!e.plataforma.link)),c(),p("ngIf",e.submitted&&!e.plataforma.link),c(),D(24,e.plataforma.cursosPlataforma?24:-1)}}function ui(t,s){if(t&1){let e=h();r(0,"button",86),C("click",function(){_(e);let i=m();return g(i.hideDialog())}),n(),r(1,"button",87),C("click",function(){_(e);let i=m();return g(i.savePlataform())}),n()}}function _i(t,s){if(t&1&&(r(0,"span"),l(1,"\xBFEsta seguro/a de eliminar la plataforma "),r(2,"b"),l(3),n(),l(4,"?"),n()),t&2){let e=m();c(3),E(e.plataforma.nombre)}}function gi(t,s){if(t&1){let e=h();r(0,"button",88),C("click",function(){_(e);let i=m();return g(i.deletePlataformaDialog=!1)}),n(),r(1,"button",89),C("click",function(){_(e);let i=m();return g(i.confirmDelete())}),n()}}function fi(t,s){if(t&1){let e=h();r(0,"button",88),C("click",function(){_(e);let i=m();return g(i.deletePlataformasDialog=!1)}),n(),r(1,"button",89),C("click",function(){_(e);let i=m();return g(i.confirmDeleteSelected())}),n()}}var xi=()=>({width:"500px"}),St=()=>({width:"450px"}),wt=(()=>{let s=class s{constructor(o,i,a,f,u){this.plataformasService=o,this.messageService=i,this.datePipe=a,this.tokenService=f,this.loadingService=u,this.plataformas=[],this.plataformasEdit=[],this.plataforma={},this.selectedPlataformas=[],this.plataformaDialog=!1,this.deletePlataformaDialog=!1,this.deletePlataformasDialog=!1,this.submitted=!1,this.cols=[],this.rowsPerPageOptions=[5,10,20]}ngOnInit(){this.loadingService.ejecutarLoading("Cargando plataformas..."),this.plataformasService.getPlataforms().subscribe({next:o=>y(this,null,function*(){o.length>0?this.plataformas=o:this.messageService.add({severity:"warn",summary:"Sin informaci\xF3n",detail:"No tienes plataformas registradas",life:3e3}),this.loadingService.finalizarLoading()}),error:o=>{this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:o.statusText,life:3e3}),this.loadingService.finalizarLoading()}}),this.cols=[{field:"codigo",header:"Codigo"},{field:"nombre",header:"Nombre"},{field:"descripcion",header:"Descripci\xF3n"},{field:"logo",header:"Logo"},{field:"link",header:"Link"},{field:"cursos",header:"Cursos"},{field:"creacion",header:"Creaci\xF3n"},{field:"actualizacion",header:"Actualizaci\xF3n"}]}openNew(){this.plataforma={},this.submitted=!1,this.plataformaDialog=!0}deleteSelectedPlataformas(){this.deletePlataformasDialog=!0}editPlataforma(o){this.plataforma=R({},o),this.plataformaDialog=!0}deletePlataforma(o){this.deletePlataformaDialog=!0,this.plataforma=R({},o),this.selectedPlataformas.push(this.plataforma)}confirmDeleteSelected(){return y(this,null,function*(){this.deletePlataformasDialog=!1,this.selectedPlataformas=this.plataformasService.deletePlataforms(this.selectedPlataformas),this.plataformas=this.plataformas.filter(o=>!this.selectedPlataformas.includes(o)),this.selectedPlataformas=[]})}confirmDelete(){this.deletePlataformaDialog=!1,this.plataformasService.deletePlataform(this.plataforma),this.plataformas=this.plataformas.filter(o=>o.id!==this.plataforma.id),this.plataforma={}}hideDialog(){this.plataformaDialog=!1,this.submitted=!1}savePlataform(){this.submitted=!0,this.plataformasEdit=this.plataformas,this.plataforma.codigo?.trim()&&this.plataforma.nombre?.trim()&&this.plataforma.descripcion?.trim()&&this.plataforma.logo?.trim()&&(this.plataforma.id?(this.loadingService.ejecutarLoading("Actualizando plataforma..."),this.plataformasService.putPlataform(this.plataforma).subscribe({next:o=>y(this,null,function*(){this.plataformasEdit[this.findIndexById(this.plataforma.codigo)]=yield this.plataforma,this.messageService.add({severity:"success",summary:"Successful",detail:"Plataforma Actualizada",life:3e3}),this.loadingService.finalizarLoading()}),error:o=>{if(typeof o.error.statusMessage=="string")this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:o.statusText,life:3e3});else for(let i of o.error.statusMessage.message)this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:i,life:3e3});this.loadingService.finalizarLoading()}})):(this.loadingService.ejecutarLoading("Guardando plataforma..."),this.plataformasService.postPlataform(this.plataforma).subscribe({next:o=>y(this,null,function*(){o.cursosPlataforma=[],this.plataformasEdit.push(o),this.messageService.add({severity:"success",summary:"Successful",detail:"Plataforma Creada",life:3e3}),this.loadingService.finalizarLoading()}),error:o=>{if(typeof o.error.statusMessage=="string")this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:o.statusText,life:3e3});else for(let i of o.error.statusMessage.message)this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:i,life:3e3});this.loadingService.finalizarLoading()}})),this.plataformaDialog=!1)}findIndexById(o){let i=-1;for(let a=0;a<this.plataformas.length;a++)if(this.plataformas[a].codigo===o){i=a;break}return i}onGlobalFilter(o,i){o.filterGlobal(i.target.value,"contains")}};s.\u0275fac=function(i){return new(i||s)(P(be),P(V),P(z),P(N),P(L))},s.\u0275cmp=O({type:s,selectors:[["app-plataformas"]],decls:23,vars:18,consts:[[1,"grid"],[1,"col-12","p-0","lg:p-3"],[1,"card","px-3","py-3","lg:px-5","lg:py-5"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[4,"ngIf"],["header","Detalles de la Plataforma",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["header","Confirmar eliminaci\xF3n",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[1,"my-2"],["pButton","","pRipple","","label","Nueva","icon","pi pi-plus","class","p-button-success mr-2 p-2",3,"click",4,"ngIf"],["pButton","","pRipple","","label","Eliminar","icon","pi pi-trash","class","p-button-danger p-2",3,"disabled","click",4,"ngIf"],["pButton","","pRipple","","label","Nueva","icon","pi pi-plus",1,"p-button-success","mr-2","p-2",3,"click"],["pButton","","pRipple","","label","Eliminar","icon","pi pi-trash",1,"p-button-danger","p-2",3,"disabled","click"],["class","m-0",4,"ngIf"],[1,"m-0"],["scrollDirection","both","scrollHeight","400px","responsiveLayout","scroll","currentPageReportTemplate","Viendo {first} a {last} de {totalRecords} plataformas","selectionMode","multiple","dataKey","id",3,"value","scrollable","columns","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","selection","rowHover","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar...",1,"w-full","sm:w-auto",3,"input"],["style","width: 3rem",4,"ngIf"],[1,"text-center"],[2,"width","3rem"],[1,"flex","flex-row","xl:align-items-start","p-4","gap-4","align-items-center",2,"width","600px !important"],[1,"w-2","shadow-2","block","xl:block","mx-auto","border-round",3,"src","alt"],[1,"flex","flex-row","justify-content-between","align-items-start","flex-1","gap-4"],[1,"flex","flex-column","align-items-center","sm:align-items-start","gap-2"],[1,"text-2xl","font-bold","text-900"],[1,"font-bold"],[1,"text-1","text-700"],[1,"flex","align-items-center","gap-3"],["target","_blank","rel","noopener noreferrer",3,"href"],["pButton","","pRipple","","label","Ir a la plataforma",1,"p-button-info"],[1,"flex","flex-column"],["class","flex",4,"ngIf"],[1,"mt-4"],[3,"value"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-warning",3,"click"],["width","100","class","mt-0 mx-auto mb-5 block shadow-2",3,"src","alt",4,"ngIf"],["class","field"],[1,"field"],["for","nombre"],["type","text","pInputText","","id","name","maxlength","200","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","descripcion"],["id","descripcion","pInputTextarea","","maxlength","500","required","","autofocus","","rows","3","cols","20",3,"ngModel","ngClass","ngModelChange"],[1,"formgrid","grid"],[1,"field","col"],["for","logo"],["type","text","pInputText","","id","logo","maxlength","150","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","link"],["type","text","pInputText","","id","link","maxlength","200","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["responsiveLayout","scroll","currentPageReportTemplate","Viendo {first} a {last} de {totalRecords} cursos","dataKey","id",3,"value","columns","rows","paginator","rowsPerPageOptions","showCurrentPageReport","rowHover"],["width","100",1,"mt-0","mx-auto","mb-5","block","shadow-2",3,"src","alt"],["for","codigo"],["type","text","pInputText","","id","codigo","disabled","","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["type","text","pInputText","","id","codigo","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],[1,"ng-dirty","ng-invalid"],["pSortableColumn","codigo"],["field","codigo"],["pSortableColumn","nombre"],["field","nombre"],["pSortableColumn","descripcion"],["field","descripcion"],["pSortableColumn","linkCurso"],["field","linkCurso"],["pSortableColumn","descargarCurso"],["field","descargarCurso"],["pSortableColumn","creacion"],["field","creacion"],["pSortableColumn","actualizacion"],["field","actualizacion"],[2,"width","14%","min-width","10rem"],[1,"p-column-title"],[2,"width","50%","min-width","16rem"],["pButton","","pRipple","","label","Cancelar","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Guardar","icon","pi pi-check",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Si",1,"p-button-text",3,"click"]],template:function(i,a){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),x(3,"p-toast"),r(4,"p-toolbar",3),d(5,Ht,3,2,"ng-template",4)(6,Ot,1,1,"ng-template",5),n(),d(7,Qt,6,12,"ng-container",6)(8,$t,3,0,"ng-container",6),n(),r(9,"p-dialog",7),S("visibleChange",function(u){return b(a.plataformaDialog,u)||(a.plataformaDialog=u),u}),d(10,di,25,23,"ng-template",8)(11,ui,2,0,"ng-template",9),n(),r(12,"p-dialog",10),S("visibleChange",function(u){return b(a.deletePlataformaDialog,u)||(a.deletePlataformaDialog=u),u}),r(13,"div",11),x(14,"i",12),d(15,_i,5,1,"span",6),n(),d(16,gi,2,0,"ng-template",9),n(),r(17,"p-dialog",10),S("visibleChange",function(u){return b(a.deletePlataformasDialog,u)||(a.deletePlataformasDialog=u),u}),r(18,"div",11),x(19,"i",12),r(20,"span"),l(21,"\xBFEsta seguro/a de eliminar las plataformas seleccionadas?"),n()(),d(22,fi,2,0,"ng-template",9),n()()()),i&2&&(c(7),p("ngIf",a.plataformas&&a.plataformas.length>0),c(),p("ngIf",!(a.plataformas&&a.plataformas.length>0)),c(),A(T(15,xi)),v("visible",a.plataformaDialog),p("modal",!0),c(3),A(T(16,St)),v("visible",a.deletePlataformaDialog),p("modal",!0),c(3),p("ngIf",a.plataforma),c(2),A(T(17,St)),v("visible",a.deletePlataformasDialog),p("modal",!0))},dependencies:[$,ee,ie,ne,te,K,X,Q,Z,se,he,ve,le,ce,J,me,pe,ae,fe,de]});let t=s;return t})();var ye=(()=>{let s=class s extends oe{constructor(o,i,a,f){super(o,a),this.messageService=i,this.loadingService=f}getCursos(){return this.http.get(`${M.microproxy_cursos}cursos`)}postCurso(o){return this.http.post(`${M.microproxy_cursos}cursos`,o)}putCurso(o){return this.http.put(`${M.microproxy_cursos}cursos`,o)}deleteCursos(o){for(let i of o)if(this.loadingService.ejecutarLoading("Eliminando cursos..."),i.rutas&&i.rutas.length>0)this.messageService.add({severity:"error",summary:"Curso en rutas",detail:`El curso ${i.nombre} pertenece a rutas de aprendizaje`,life:3e3}),o=o.filter(a=>a.id!=i.id),this.loadingService.finalizarLoading();else{let a={headers:new B({"Content-Type":"application/json"}),body:i};this.http.delete(`${M.microproxy_cursos}cursos`,a).subscribe({next:f=>y(this,null,function*(){this.messageService.add({severity:"success",summary:"Eliminado",detail:`Curso ${i.nombre} eliminado`,life:3e3}),this.loadingService.finalizarLoading()}),error:f=>{o=o.filter(u=>u.id!=i.id),this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:f.statusText,life:3e3}),this.loadingService.finalizarLoading()}})}return o}deleteCurso(o){if(this.loadingService.ejecutarLoading("Eliminando curso..."),o.rutas&&o.rutas.length>0)this.messageService.add({severity:"error",summary:"Curso en rutas",detail:`El curso ${o.nombre} pertenece a rutas de aprendizaje`,life:3e3}),this.loadingService.finalizarLoading();else{let i={headers:new B({"Content-Type":"application/json"}),body:o};this.http.delete(`${M.microproxy_cursos}cursos`,i).subscribe({next:a=>y(this,null,function*(){this.messageService.add({severity:"success",summary:"Eliminado",detail:`Curso ${o.nombre} eliminado`,life:3e3}),this.loadingService.finalizarLoading()}),error:a=>{this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:a.statusText,life:3e3}),this.loadingService.finalizarLoading()}})}}};s.\u0275fac=function(i){return new(i||s)(k(Y),k(V),k(re),k(L))},s.\u0275prov=G({token:s,factory:s.\u0275fac});let t=s;return t})();var we=(()=>{let s=class s extends oe{constructor(o,i,a,f){super(o,a),this.messageService=i,this.loadingService=f}getAreasCursos(){return this.http.get(`${M.microproxy_cursos}area-curso`)}postAreaCursos(o){return this.http.post(`${M.microproxy_cursos}area-curso`,o)}putAreaCursos(o){return this.http.put(`${M.microproxy_cursos}area-curso`,o)}deleteAreasCursos(o){for(let i of o)if(this.loadingService.ejecutarLoading("Eliminando areas de cursos"),i.cursos&&i.cursos.length>0)this.messageService.add({severity:"error",summary:"Area de cursos con cursos",detail:`El area de cursos ${i.nombre} tiene cursos asginados, por lo cual no se puede eliminar`,life:3e3}),o=o.filter(a=>a.id!==i.id),this.loadingService.finalizarLoading();else{let a={headers:new B({"Content-Type":"application/json"}),body:i};this.http.delete(`${M.microproxy_cursos}area-curso`,a).subscribe({next:f=>y(this,null,function*(){console.log("Solicitud DELETE exitosa",f),this.messageService.add({severity:"success",summary:"Eliminada",detail:`Area de cursos ${i.nombre} eliminada`,life:3e3}),this.loadingService.finalizarLoading()}),error:f=>{console.log("Solicitud DELETE error",f),o=o.filter(u=>u.id!==i.id),this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:f.statusText,life:3e3}),this.loadingService.finalizarLoading()}})}return o}deleteAreaCursos(o){if(this.loadingService.ejecutarLoading("Eliminando area de cursos"),o.cursos&&o.cursos.length>0)this.messageService.add({severity:"error",summary:"Area de cursos con cursos",detail:`El area de cursos ${o.nombre} tiene cursos asginados, por lo cual no se puede eliminar`,life:3e3}),this.loadingService.finalizarLoading();else{let i={headers:new B({"Content-Type":"application/json"}),body:o};this.http.delete(`${M.microproxy_cursos}area-curso`,i).subscribe({next:a=>y(this,null,function*(){console.log("Solicitud DELETE exitosa",a),this.messageService.add({severity:"success",summary:"Eliminada",detail:`Area de cursos ${o.nombre} eliminada`,life:3e3}),this.loadingService.finalizarLoading()}),error:a=>{console.log("Solicitud DELETE error",a),this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:a.statusText,life:3e3}),this.loadingService.finalizarLoading()}})}}};s.\u0275fac=function(i){return new(i||s)(k(Y),k(V),k(re),k(L))},s.\u0275prov=G({token:s,factory:s.\u0275fac});let t=s;return t})();var Ee=(()=>{let s=class s extends oe{constructor(o,i,a,f){super(o,a),this.messageService=i,this.loadingService=f}getProfesores(){return this.http.get(`${M.microproxy_cursos}profesores`)}postProfesor(o){return this.http.post(`${M.microproxy_cursos}profesores`,o)}putProfesor(o){return this.http.put(`${M.microproxy_cursos}profesores`,o)}deleteProfesores(o){for(let i of o)if(this.loadingService.ejecutarLoading("Eliminando profesores..."),i.cursos&&i.cursos.length>0)this.messageService.add({severity:"error",summary:"Profesor con cursos",detail:`El profesor ${i.nombre} tiene cursos asginados, por lo cual no se puede eliminar`,life:3e3}),o=o.filter(a=>a.id!==i.id),this.loadingService.finalizarLoading();else{let a={headers:new B({"Content-Type":"application/json"}),body:i};this.http.delete(`${M.microproxy_cursos}profesores`,a).subscribe({next:f=>y(this,null,function*(){console.log("Solicitud DELETE exitosa",f),this.messageService.add({severity:"success",summary:"Eliminada",detail:`Profesor ${i.nombre} eliminado`,life:3e3}),this.loadingService.finalizarLoading()}),error:f=>{console.log("Solicitud DELETE error",f),o=o.filter(u=>u.id!==i.id),this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:f.statusText,life:3e3}),this.loadingService.finalizarLoading()}})}return o}deleteProfesor(o){if(this.loadingService.ejecutarLoading("Eliminando profesor..."),o.cursos&&o.cursos.length>0)this.messageService.add({severity:"error",summary:"Profesor con cursos",detail:`El profesor ${o.nombre} tiene cursos asginados, por lo cual no se puede eliminar`,life:3e3}),this.loadingService.finalizarLoading();else{let i={headers:new B({"Content-Type":"application/json"}),body:o};this.http.delete(`${M.microproxy_cursos}profesores`,i).subscribe({next:a=>y(this,null,function*(){console.log("Solicitud DELETE exitosa",a),this.messageService.add({severity:"success",summary:"Eliminada",detail:`Profesor ${o.nombre} eliminado`,life:3e3}),this.loadingService.finalizarLoading()}),error:a=>{console.log("Solicitud DELETE error",a),this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:a.statusText,life:3e3}),this.loadingService.finalizarLoading()}})}}};s.\u0275fac=function(i){return new(i||s)(k(Y),k(V),k(re),k(L))},s.\u0275prov=G({token:s,factory:s.\u0275fac});let t=s;return t})();function hi(t,s){if(t&1){let e=h();r(0,"button",16),C("click",function(){_(e);let i=m(2);return g(i.openNew())}),n()}}function vi(t,s){if(t&1){let e=h();r(0,"button",17),C("click",function(){_(e);let i=m(2);return g(i.deleteSelectedCursos())}),n()}if(t&2){let e=m(2);p("disabled",!e.selectedCursos||!e.selectedCursos.length)}}function bi(t,s){if(t&1&&(r(0,"div",13),d(1,hi,1,0,"button",14)(2,vi,1,1,"button",15),n()),t&2){let e=m();c(),p("ngIf",e.tokenService.isAdmin()),c(),p("ngIf",e.tokenService.isAdmin()&&e.cursos&&e.cursos.length>0)}}function Si(t,s){if(t&1&&(r(0,"h5",19),l(1),n()),t&2){let e=m(2);c(),w("Total ",e.cursos?e.cursos.length:0," Cursos ")}}function yi(t,s){if(t&1&&d(0,Si,2,1,"h5",18),t&2){let e=m();p("ngIf",e.cursos&&e.cursos.length>0)}}function wi(t,s){if(t&1){let e=h();r(0,"div",25)(1,"h5",19),l(2,"Cursos"),n(),r(3,"span",26),x(4,"i",27),r(5,"input",28),C("input",function(i){_(e),m();let a=U(2),f=m();return g(f.onGlobalFilter(a,i))}),n()()()}}function Ei(t,s){t&1&&(r(0,"th",31),x(1,"p-tableHeaderCheckbox"),n())}function Ti(t,s){if(t&1&&(r(0,"tr"),d(1,Ei,2,0,"th",29),r(2,"th",30),l(3,"Curso"),n()()),t&2){let e=m(2);c(),p("ngIf",e.tokenService.isAdmin())}}function Pi(t,s){if(t&1&&(r(0,"td"),x(1,"p-tableCheckbox",45),n()),t&2){let e=m().$implicit;c(),p("value",e)}}function Ii(t,s){if(t&1){let e=h();r(0,"div",46)(1,"button",47),C("click",function(){_(e);let i=m().$implicit,a=m(2);return g(a.editCurso(i))}),n(),r(2,"button",48),C("click",function(){_(e);let i=m().$implicit,a=m(2);return g(a.deleteCurso(i))}),n()()}}function Mi(t,s){if(t&1&&(r(0,"span",51),l(1),n()),t&2){let e=s.$implicit;c(),E(e.nombre)}}function ki(t,s){if(t&1&&(r(0,"div")(1,"h5",49),l(2,"Areas del Curso: "),n(),d(3,Mi,2,1,"span",50),n()),t&2){let e=m().$implicit;c(3),p("ngForOf",e.areascurso)}}function Vi(t,s){t&1&&(r(0,"h5",52),l(1,"No hay areas de cursos asignadas"),n())}function Ai(t,s){if(t&1&&(r(0,"span",51),l(1),n()),t&2){let e=s.$implicit;c(),E(e.nombre)}}function Di(t,s){if(t&1&&(r(0,"div")(1,"h5",49),l(2,"Profesores: "),n(),d(3,Ai,2,1,"span",50),n()),t&2){let e=m().$implicit;c(3),p("ngForOf",e.profesores)}}function Li(t,s){t&1&&(r(0,"h5",52),l(1,"No hay profesores asignados"),n())}function Ri(t,s){if(t&1&&(r(0,"span",51),l(1),n()),t&2){let e=s.$implicit;c(),E(e.nombre)}}function Wi(t,s){if(t&1&&(r(0,"div")(1,"h5",49),l(2,"Rutas: "),n(),d(3,Ri,2,1,"span",50),n()),t&2){let e=m().$implicit;c(3),p("ngForOf",e.rutas)}}function Fi(t,s){t&1&&(r(0,"h5",52),l(1,"No esta en una ruta de aprendizaje"),n())}function Bi(t,s){if(t&1&&(r(0,"tr"),d(1,Pi,2,1,"td",6),r(2,"td")(3,"div",32)(4,"div",33)(5,"div",34)(6,"div",35),l(7),n(),r(8,"div")(9,"p")(10,"span",36),l(11,"Nivel: "),n(),l(12),x(13,"br"),r(14,"span",36),l(15,"Idioma: "),n(),l(16),x(17,"br"),r(18,"span",36),l(19,"Plataforma: "),n(),l(20),n(),x(21,"p"),n(),r(22,"div",37)(23,"p"),l(24),n()(),r(25,"div",38)(26,"div",38)(27,"a",39),x(28,"button",40),n()(),r(29,"div",38)(30,"a",39),x(31,"button",41),n()()()(),r(32,"div",42),d(33,Ii,3,0,"div",43),r(34,"div"),d(35,ki,4,1,"div")(36,Vi,2,0)(37,Di,4,1,"div")(38,Li,2,0)(39,Wi,4,1,"div")(40,Fi,2,0),n(),r(41,"div",44)(42,"p")(43,"span",36),l(44,"Creado el: "),n(),l(45),n()(),r(46,"div")(47,"p")(48,"span",36),l(49,"Ultima actualizaci\xF3n: "),n(),l(50),n()()()()()()()),t&2){let e=s.$implicit,o=m(2);c(),p("ngIf",o.tokenService.isAdmin()),c(6),H("",e.codigo,"-",e.nombre,""),c(5),E(e.nivel),c(4),E(e.idioma),c(4),w("",e.plataforma?e.plataforma.nombre:"No esta asignado"," "),c(4),E(e.descripcion),c(3),p("href",e.linkCurso,j),c(3),p("href",e.linkCursoTeleg,j),c(3),p("ngIf",o.tokenService.isAdmin()),c(2),D(35,e.areascurso!=null&&e.areascurso.length>0?35:36),c(2),D(37,e.profesores!=null&&e.profesores.length>0?37:38),c(2),D(39,e.rutas!=null&&e.rutas.length>0?39:40),c(6),w("",o.datePipe.transform(e.createdAt,"dd/MM/yyyy HH:MM:SS")," "),c(5),w("",o.datePipe.transform(e.updateAt,"dd/MM/yyyy HH:MM:SS")," ")}}var ji=()=>["codigo","nombre","descripcion","idioma"],zi=()=>[10,20,30];function Ni(t,s){if(t&1){let e=h();W(0),r(1,"p-table",20,21),S("selectionChange",function(i){_(e);let a=m();return b(a.selectedCursos,i)||(a.selectedCursos=i),g(i)}),d(3,wi,6,0,"ng-template",22)(4,Ti,4,1,"ng-template",23)(5,Bi,51,15,"ng-template",24),n(),F()}if(t&2){let e=m();c(),p("value",e.cursos)("scrollable",!0)("columns",e.cols)("rows",2)("globalFilterFields",T(10,ji))("paginator",!0)("rowsPerPageOptions",T(11,zi))("showCurrentPageReport",!0),v("selection",e.selectedCursos),p("rowHover",!0)}}function Hi(t,s){t&1&&(W(0),r(1,"h1",30),l(2,"No tienes cursos registrados"),n(),F())}var xe=t=>({"ng-invalid ng-dirty":t});function qi(t,s){if(t&1){let e=h();r(0,"input",78),S("ngModelChange",function(i){_(e);let a=m(2);return b(a.curso.codigo,i)||(a.curso.codigo=i),g(i)}),n()}if(t&2){let e=m(2);v("ngModel",e.curso.codigo),p("ngClass",I(2,xe,e.submitted&&!e.curso.codigo))}}function Oi(t,s){if(t&1){let e=h();r(0,"input",79),S("ngModelChange",function(i){_(e);let a=m(2);return b(a.curso.codigo,i)||(a.curso.codigo=i),g(i)}),n()}if(t&2){let e=m(2);v("ngModel",e.curso.codigo),p("ngClass",I(2,xe,e.submitted&&!e.curso.codigo))}}function Gi(t,s){t&1&&(r(0,"small",80),l(1,"El codigo es requerido."),n())}function Ui(t,s){t&1&&(r(0,"small",80),l(1,"El nombre es requerido."),n())}function Ki(t,s){t&1&&(r(0,"small",80),l(1,"La descripci\xF3n es requerida."),n())}function Xi(t,s){t&1&&(r(0,"small",80),l(1,"El nivel es requerido."),n())}function Yi(t,s){t&1&&(r(0,"small",80),l(1,"El idioma es requerido."),n())}function Zi(t,s){t&1&&(r(0,"small",80),l(1,"El logo es requerido."),n())}function Ji(t,s){t&1&&(r(0,"small",80),l(1,"El link es requerido."),n())}function Qi(t,s){if(t&1&&(r(0,"div")(1,"span"),l(2),n(),l(3,"-"),r(4,"span"),l(5),n()()),t&2){let e=s.$implicit;c(2),E(e.codigo),c(3),E(e.nombre)}}function $i(t,s){if(t&1&&(r(0,"div",82)(1,"span",83),l(2),n()()),t&2){let e=s.$implicit;c(2),E(e.nombre)}}function en(t,s){if(t&1&&(r(0,"div")(1,"h3"),l(2,"Areas del Curso"),n(),d(3,$i,3,1,"div",81),n()),t&2){let e=m(2);c(3),p("ngForOf",e.selectdAreasCursos)}}function tn(t,s){t&1&&(r(0,"div")(1,"h3",52),l(2,"No hay areas de cursos asignadas"),n()())}function nn(t,s){if(t&1&&(r(0,"div",82)(1,"span",83),l(2),n()()),t&2){let e=s.$implicit;c(2),E(e.nombre)}}function on(t,s){if(t&1&&(r(0,"div")(1,"h3"),l(2,"Profesores"),n(),d(3,nn,3,1,"div",81),n()),t&2){let e=m(2);c(3),p("ngForOf",e.selectedProfesores)}}function rn(t,s){t&1&&(r(0,"h3",52),l(1,"No hay profesores asignados"),n())}function an(t,s){if(t&1&&(r(0,"div",82)(1,"span",83),l(2),n()()),t&2){let e=s.$implicit;c(2),E(e.nombre)}}function sn(t,s){if(t&1&&(r(0,"div")(1,"h3"),l(2,"Rutas"),n(),d(3,an,3,1,"div",81),n()),t&2){let e=m(2);c(3),p("ngForOf",e.curso.rutas)}}function ln(t,s){t&1&&(r(0,"h3",52),l(1,"No esta en una ruta de aprendizaje"),n())}function cn(t,s){if(t&1){let e=h();r(0,"div",53)(1,"div",54)(2,"label",55),l(3,"Codigo"),n(),d(4,qi,1,4,"input",56)(5,Oi,1,4)(6,Gi,2,0,"small",57),n()(),r(7,"div",58)(8,"label",59),l(9,"Nombre"),n(),r(10,"input",60),S("ngModelChange",function(i){_(e);let a=m();return b(a.curso.nombre,i)||(a.curso.nombre=i),g(i)}),n(),d(11,Ui,2,0,"small",57),n(),r(12,"div",58)(13,"label",61),l(14,"Plataforma"),n(),r(15,"p-dropdown",62),S("ngModelChange",function(i){_(e);let a=m();return b(a.selectdPlataforma,i)||(a.selectdPlataforma=i),g(i)}),n()(),r(16,"div",58)(17,"label",63),l(18,"Descripci\xF3n"),n(),r(19,"textarea",64),S("ngModelChange",function(i){_(e);let a=m();return b(a.curso.descripcion,i)||(a.curso.descripcion=i),g(i)}),n(),d(20,Ki,2,0,"small",57),n(),r(21,"div",53)(22,"div",54)(23,"label",65),l(24,"Nivel del Curso"),n(),r(25,"input",66),S("ngModelChange",function(i){_(e);let a=m();return b(a.curso.nivel,i)||(a.curso.nivel=i),g(i)}),n(),d(26,Xi,2,0,"small",57),n(),r(27,"div",54)(28,"label",67),l(29,"Idioma"),n(),r(30,"input",68),S("ngModelChange",function(i){_(e);let a=m();return b(a.curso.idioma,i)||(a.curso.idioma=i),g(i)}),n(),d(31,Yi,2,0,"small",57),n()(),r(32,"div",53)(33,"div",54)(34,"label",69),l(35,"Link"),n(),r(36,"input",70),S("ngModelChange",function(i){_(e);let a=m();return b(a.curso.linkCurso,i)||(a.curso.linkCurso=i),g(i)}),n(),d(37,Zi,2,0,"small",57),n(),r(38,"div",54)(39,"label",71),l(40,"Link Descargar Curso"),n(),r(41,"input",72),S("ngModelChange",function(i){_(e);let a=m();return b(a.curso.linkCursoTeleg,i)||(a.curso.linkCursoTeleg=i),g(i)}),n(),d(42,Ji,2,0,"small",57),n()(),r(43,"div",58)(44,"label",73),l(45,"Areas del Curso"),n(),r(46,"p-multiSelect",74),S("ngModelChange",function(i){_(e);let a=m();return b(a.selectdAreasCursos,i)||(a.selectdAreasCursos=i),g(i)}),d(47,Qi,6,2,"ng-template",75),n()(),r(48,"div",58)(49,"label",76),l(50,"Profesores del Curso"),n(),r(51,"p-multiSelect",77),S("ngModelChange",function(i){_(e);let a=m();return b(a.selectedProfesores,i)||(a.selectedProfesores=i),g(i)}),n()(),r(52,"div",58),d(53,en,4,1,"div")(54,tn,3,0),n(),r(55,"div",58),d(56,on,4,1,"div")(57,rn,2,0),n(),r(58,"div",58),d(59,sn,4,1,"div")(60,ln,2,0),n()}if(t&2){let e=m();c(4),D(4,e.curso.id?4:5),c(2),p("ngIf",e.submitted&&!e.curso.codigo),c(4),v("ngModel",e.curso.nombre),p("ngClass",I(29,xe,e.submitted&&!e.curso.nombre)),c(),p("ngIf",e.submitted&&!e.curso.nombre),c(4),p("options",e.plataformas),v("ngModel",e.selectdPlataforma),c(4),v("ngModel",e.curso.descripcion),p("ngClass",I(31,xe,e.submitted&&!e.curso.descripcion)),c(),p("ngIf",e.submitted&&!e.curso.descripcion),c(5),v("ngModel",e.curso.nivel),p("ngClass",I(33,xe,e.submitted&&!e.curso.nivel)),c(),p("ngIf",e.submitted&&!e.curso.nivel),c(4),v("ngModel",e.curso.idioma),p("ngClass",I(35,xe,e.submitted&&!e.curso.idioma)),c(),p("ngIf",e.submitted&&!e.curso.idioma),c(5),v("ngModel",e.curso.linkCurso),p("ngClass",I(37,xe,e.submitted&&!e.curso.linkCurso)),c(),p("ngIf",e.submitted&&!e.curso.linkCurso),c(4),v("ngModel",e.curso.linkCursoTeleg),p("ngClass",I(39,xe,e.submitted&&!e.curso.linkCursoTeleg)),c(),p("ngIf",e.submitted&&!e.curso.linkCursoTeleg),c(4),p("options",e.areasCursos),v("ngModel",e.selectdAreasCursos),c(5),p("options",e.profesores),v("ngModel",e.selectedProfesores),c(2),D(53,e.selectdAreasCursos!=null&&e.selectdAreasCursos.length>0?53:54),c(3),D(56,e.selectedProfesores!=null&&e.selectedProfesores.length>0?56:57),c(3),D(59,e.curso.rutas!=null&&e.curso.rutas.length>0?59:60)}}function mn(t,s){if(t&1){let e=h();r(0,"button",84),C("click",function(){_(e);let i=m();return g(i.hideDialog())}),n(),r(1,"button",85),C("click",function(){_(e);let i=m();return g(i.saveCurso())}),n()}}function pn(t,s){if(t&1&&(r(0,"span"),l(1,"\xBFEsta seguro/a de eliminar la plataforma "),r(2,"b"),l(3),n(),l(4,"?"),n()),t&2){let e=m();c(3),E(e.curso.nombre)}}function dn(t,s){if(t&1){let e=h();r(0,"button",86),C("click",function(){_(e);let i=m();return g(i.deleteCursoDialog=!1)}),n(),r(1,"button",87),C("click",function(){_(e);let i=m();return g(i.confirmDelete())}),n()}}function un(t,s){if(t&1&&(r(0,"span"),l(1,"\xBFEsta seguro/a de eliminar la plataforma "),r(2,"b"),l(3),n(),l(4,"?"),n()),t&2){let e=m();c(3),E(e.curso.nombre)}}function _n(t,s){if(t&1){let e=h();r(0,"button",86),C("click",function(){_(e);let i=m();return g(i.deleteCursoDialog=!1)}),n(),r(1,"button",87),C("click",function(){_(e);let i=m();return g(i.confirmDelete())}),n()}}function gn(t,s){if(t&1){let e=h();r(0,"button",86),C("click",function(){_(e);let i=m();return g(i.deleteCursosDialog=!1)}),n(),r(1,"button",87),C("click",function(){_(e);let i=m();return g(i.confirmDeleteSelected())}),n()}}var fn=()=>({width:"500px"}),Xe=()=>({width:"450px"}),It=(()=>{let s=class s{constructor(o,i,a,f,u,ue,Bt,jt){this.cursosService=o,this.plataformasService=i,this.areaCursosService=a,this.profesoresService=f,this.messageService=u,this.datePipe=ue,this.tokenService=Bt,this.loadingService=jt,this.cursos=[],this.cursosEdit=[],this.curso={},this.selectedCursos=[],this.cursoDialog=!1,this.deleteCursoDialog=!1,this.deleteCursosDialog=!1,this.submitted=!1,this.rowsPerPageOptions=[5,10,20],this.plataformas=[],this.selectdPlataforma={},this.areasCursos=[],this.selectdAreasCursos=[],this.profesores=[],this.selectedProfesores=[]}ngOnInit(){let o=!1,i=!1,a=!1,f=!1;this.loadingService.ejecutarLoading("Cargando cursos..."),this.cursosService.getCursos().subscribe({next:u=>y(this,null,function*(){u&&u.length>0?this.cursos=u:this.messageService.add({severity:"warn",summary:"Sin informaci\xF3n",detail:"No tienes cursos registrados",life:3e3}),o=!0,o&&i&&a&&f&&this.loadingService.finalizarLoading()}),error:u=>y(this,null,function*(){this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:u.statusText,life:3e3}),o=!0,o&&i&&a&&f&&this.loadingService.finalizarLoading()})}),this.plataformasService.getPlataforms().subscribe({next:u=>y(this,null,function*(){u&&u.length>0?(this.plataformas=u,this.plataformas.forEach(ue=>{delete ue.cursos})):this.messageService.add({severity:"warn",summary:"Sin informaci\xF3n",detail:"No tienes plataformas registradas",life:3e3}),i=!0,o&&i&&a&&f&&this.loadingService.finalizarLoading()}),error:u=>y(this,null,function*(){this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:u.statusText,life:3e3}),i=!0,o&&i&&a&&f&&this.loadingService.finalizarLoading()})}),this.areaCursosService.getAreasCursos().subscribe({next:u=>y(this,null,function*(){u&&u.length>0?(this.areasCursos=u,this.areasCursos.forEach(ue=>{delete ue.cursos})):this.messageService.add({severity:"warn",summary:"Sin informaci\xF3n",detail:"No tienes areas de cursos registradas",life:3e3}),a=!0,o&&i&&a&&f&&this.loadingService.finalizarLoading()}),error:u=>y(this,null,function*(){this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:u.statusText,life:3e3}),a=!0,o&&i&&a&&f&&this.loadingService.finalizarLoading()})}),this.profesoresService.getProfesores().subscribe({next:u=>y(this,null,function*(){u&&u.length>0?(this.profesores=u,this.profesores.forEach(ue=>{delete ue.cursos})):this.messageService.add({severity:"warn",summary:"Sin informaci\xF3n",detail:"No tienes profesores registrados",life:3e3}),f=!0,o&&i&&a&&f&&this.loadingService.finalizarLoading()}),error:u=>y(this,null,function*(){this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:u.statusText,life:3e3}),f=!0,o&&i&&a&&f&&this.loadingService.finalizarLoading()})}),this.cols=[{field:"curso",header:"Curso"}]}getNivel(o){switch(o){case 1:return"Principiante";case 2:return"Intermedio";case 3:return"Avanzado";case 4:return"Profesional";default:return"Indefinido"}}openNew(){this.selectdPlataforma={},this.selectdAreasCursos=[],this.selectedProfesores=[],this.curso={},this.submitted=!1,this.cursoDialog=!0}deleteSelectedCursos(){this.deleteCursosDialog=!0}editCurso(o){this.curso=R({},o),this.selectdPlataforma=this.curso.plataforma?this.curso.plataforma:{},this.selectdAreasCursos=this.curso.areascurso?this.curso.areascurso:[],this.selectedProfesores=this.curso.profesores?this.curso.profesores:[],this.cursoDialog=!0}deleteCurso(o){this.deleteCursoDialog=!0,this.curso=R({},o),this.selectedCursos.push(this.curso)}confirmDeleteSelected(){return y(this,null,function*(){this.deleteCursosDialog=!1,this.selectedCursos=this.cursosService.deleteCursos(this.selectedCursos),this.cursos=this.cursos.filter(o=>!this.selectedCursos.includes(o)),this.selectedCursos=[]})}confirmDelete(){this.deleteCursoDialog=!1,this.cursosService.deleteCurso(this.curso),this.cursos=this.cursos.filter(o=>o.id!==this.curso.id),this.curso={}}hideDialog(){this.cursoDialog=!1,this.submitted=!1}saveCurso(){this.submitted=!0,this.cursosEdit=this.cursos,this.curso.plataforma=this.selectdPlataforma,this.curso.areascurso=this.selectdAreasCursos,this.curso.profesores=this.selectedProfesores,this.curso.codigo?.trim()&&this.curso.nombre?.trim()&&this.curso.descripcion?.trim()&&this.curso.nivel!=null&&this.curso.idioma?.trim()?(this.curso.id?(this.loadingService.ejecutarLoading("Actualizando curso..."),this.cursosService.putCurso(this.curso).subscribe({next:o=>y(this,null,function*(){this.cursosEdit[this.findIndexById(this.curso.codigo)]=o,this.messageService.add({severity:"success",summary:"Successful",detail:"Curso Actualizado",life:3e3}),this.loadingService.finalizarLoading()}),error:o=>{if(typeof o.error.statusMessage=="string")this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:o.statusText,life:3e3});else for(let i of o.error.statusMessage.message)this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:i,life:3e3});this.loadingService.finalizarLoading()}})):(this.loadingService.ejecutarLoading("Guardando curso..."),this.cursosService.postCurso(this.curso).subscribe({next:o=>y(this,null,function*(){o.rutas=[],this.cursosEdit.push(o),this.messageService.add({severity:"success",summary:"Successful",detail:"Curso Creado",life:3e3}),this.loadingService.finalizarLoading()}),error:o=>{if(typeof o.error.statusMessage=="string")this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:o.statusText,life:3e3});else for(let i of o.error.statusMessage.message)this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:i,life:3e3});this.loadingService.finalizarLoading()}})),this.cursoDialog=!1):this.messageService.add({severity:"error",summary:"Campos sin llenar",detail:"Algunos campos obligatorios no han sido digilenciados",life:3e3})}findIndexById(o){let i=-1;for(let a=0;a<this.cursos.length;a++)if(this.cursos[a].codigo===o){i=a;break}return i}onGlobalFilter(o,i){o.filterGlobal(i.target.value,"contains")}};s.\u0275fac=function(i){return new(i||s)(P(ye),P(be),P(we),P(Ee),P(V),P(z),P(N),P(L))},s.\u0275cmp=O({type:s,selectors:[["app-cursos"]],decls:28,vars:24,consts:[[1,"grid"],[1,"col-12","p-0","lg:p-3"],[1,"card","px-3","py-3","lg:px-5","lg:py-5"],["styleClass","mb-4 p-2"],["pTemplate","left"],["pTemplate","right"],[4,"ngIf"],["header","Detalles del Curso",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["header","Confirmar eliminaci\xF3n",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[1,"my-2"],["pButton","","pRipple","","label","Nueva","icon","pi pi-plus","class","p-button-success mr-2 p-2",3,"click",4,"ngIf"],["pButton","","pRipple","","label","Eliminar","icon","pi pi-trash","class","p-button-danger p-2",3,"disabled","click",4,"ngIf"],["pButton","","pRipple","","label","Nueva","icon","pi pi-plus",1,"p-button-success","mr-2","p-2",3,"click"],["pButton","","pRipple","","label","Eliminar","icon","pi pi-trash",1,"p-button-danger","p-2",3,"disabled","click"],["class","m-0",4,"ngIf"],[1,"m-0"],["scrollDirection","both","scrollHeight","400px","responsiveLayout","scroll","selectionMode","multiple","dataKey","id",3,"value","scrollable","columns","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","selection","rowHover","selectionChange"],["dt",""],["pTemplate","caption","styleClass","p-2"],["pTemplate","header","styleClass","p-1"],["pTemplate","body"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center","p-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar...",1,"w-full","sm:w-auto",3,"input"],["class","p-0 text-center",4,"ngIf"],[1,"text-center"],[1,"p-0","text-center"],[1,"flex","flex-row","p-2","gap-3","align-items-start",2,"width","700px !important"],[1,"flex","flex-row","justify-content-between","align-items-start","flex-1","gap-4"],[1,"flex","flex-column","align-items-start","gap-2"],[1,"text-2xl","font-bold","text-900"],[1,"font-bold"],[1,"text-1","text-700"],[1,"flex","align-items-center","gap-3"],["target","_blank","rel","noopener noreferrer",3,"href"],["pButton","","pRipple","","label","Ir al curso",1,"p-button-info"],["pButton","","pRipple","","label","Descargar curso",1,"p-button-info"],[1,"flex","flex-column"],["class","flex",4,"ngIf"],[1,"mt-4"],[3,"value"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-warning",3,"click"],[1,"inline-block"],["class","font-bold text-white bg-primary p-2 m-2 min-w-max inline-block","style","border: solid 1px #3b82f6; border-radius: 5px;",4,"ngFor","ngForOf"],[1,"font-bold","text-white","bg-primary","p-2","m-2","min-w-max","inline-block",2,"border","solid 1px #3b82f6","border-radius","5px"],[1,"mt-2","mb-2"],[1,"formgrid","grid"],[1,"field","col"],["for","codigo"],["type","text","pInputText","","id","codigo","disabled","","required","","autofocus","",3,"ngModel","ngClass"],["class","ng-dirty ng-invalid",4,"ngIf"],[1,"field"],["for","nombre"],["type","text","pInputText","","id","name","maxlength","200","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","plataforma"],["inputId","plataforma","optionLabel","nombre","placeholder","Seleccionar plataforma",3,"options","ngModel","ngModelChange"],["for","descripcion"],["id","descripcion","pInputTextarea","","maxlength","500","required","","autofocus","","rows","3","cols","20",3,"ngModel","ngClass","ngModelChange"],["for","nivel"],["type","number","pInputText","","id","link","maxlength","200","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","idioma"],["type","text","pInputText","","id","idioma","maxlength","25","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","link"],["type","text","pInputText","","id","logo","maxlength","150","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","linkDescargar"],["type","text","pInputText","","id","link","maxlength","200","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","areascurso"],["optionLabel","nombre","placeholder","Seleccionar areas del curso","display","chip",3,"options","ngModel","ngModelChange"],["pTemplate","selectdAreasCursos"],["for","profesores"],["optionLabel","nombre","placeholder","Seleccionar profesores del curso","display","chip",3,"options","ngModel","ngModelChange"],["type","text","pInputText","","id","codigo","disabled","","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["type","text","pInputText","","id","codigo","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],[1,"ng-dirty","ng-invalid"],["class","min-w-max inline-block bg-primary p-2 m-2","style","border: solid 1px #3b82f6; border-radius: 5px;",4,"ngFor","ngForOf"],[1,"min-w-max","inline-block","bg-primary","p-2","m-2",2,"border","solid 1px #3b82f6","border-radius","5px"],[1,"font-bold","text-white"],["pButton","","pRipple","","label","Cancelar","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Guardar","icon","pi pi-check",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Si",1,"p-button-text",3,"click"]],template:function(i,a){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),x(3,"p-toast"),r(4,"p-toolbar",3),d(5,bi,3,2,"ng-template",4)(6,yi,1,1,"ng-template",5),n(),d(7,Ni,6,12,"ng-container",6)(8,Hi,3,0,"ng-container",6),n(),r(9,"p-dialog",7),S("visibleChange",function(u){return b(a.cursoDialog,u)||(a.cursoDialog=u),u}),d(10,cn,61,41,"ng-template",8)(11,mn,2,0,"ng-template",9),n(),r(12,"p-dialog",10),S("visibleChange",function(u){return b(a.deleteCursoDialog,u)||(a.deleteCursoDialog=u),u}),r(13,"div",11),x(14,"i",12),d(15,pn,5,1,"span",6),n(),d(16,dn,2,0,"ng-template",9),n(),r(17,"p-dialog",10),S("visibleChange",function(u){return b(a.deleteCursoDialog,u)||(a.deleteCursoDialog=u),u}),r(18,"div",11),x(19,"i",12),d(20,un,5,1,"span",6),n(),d(21,_n,2,0,"ng-template",9),n(),r(22,"p-dialog",10),S("visibleChange",function(u){return b(a.deleteCursosDialog,u)||(a.deleteCursosDialog=u),u}),r(23,"div",11),x(24,"i",12),r(25,"span"),l(26,"\xBFEsta seguro/a de eliminar las plataformas seleccionadas?"),n()(),d(27,gn,2,0,"ng-template",9),n()()()),i&2&&(c(7),p("ngIf",a.cursos&&a.cursos.length>0),c(),p("ngIf",!(a.cursos&&a.cursos.length>0)),c(),A(T(20,fn)),v("visible",a.cursoDialog),p("modal",!0),c(3),A(T(21,Xe)),v("visible",a.deleteCursoDialog),p("modal",!0),c(3),p("ngIf",a.curso),c(2),A(T(22,Xe)),v("visible",a.deleteCursoDialog),p("modal",!0),c(3),p("ngIf",a.curso),c(2),A(T(23,Xe)),v("visible",a.deleteCursosDialog),p("modal",!0))},dependencies:[$,it,ee,ie,ne,te,K,Qe,X,Q,Z,se,le,ce,J,me,pe,ae,fe,ot,de,Ie]});let t=s;return t})();var Ne=(()=>{let s=class s extends oe{constructor(o,i,a,f){super(o,a),this.messageService=i,this.loadingService=f}getRutas(){return this.http.get(`${M.microproxy_cursos}rutas`)}postRuta(o){return this.http.post(`${M.microproxy_cursos}rutas`,o)}putRuta(o){return this.http.put(`${M.microproxy_cursos}rutas`,o)}deleteRutas(o){for(let i of o){this.loadingService.ejecutarLoading("Eliminando rutas...");let a={headers:new B({"Content-Type":"application/json"}),body:i};this.http.delete(`${M.microproxy_cursos}rutas`,a).subscribe({next:f=>y(this,null,function*(){this.messageService.add({severity:"success",summary:"Eliminado",detail:`Ruta ${i.nombre} eliminada`,life:3e3}),this.loadingService.finalizarLoading()}),error:f=>{o=o.filter(u=>u.id!=i.id),this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:f.statusText,life:3e3}),this.loadingService.finalizarLoading()}})}return o}deleteRuta(o){this.loadingService.ejecutarLoading("Eliminando ruta...");let i={headers:new B({"Content-Type":"application/json"}),body:o};this.http.delete(`${M.microproxy_cursos}rutas`,i).subscribe({next:a=>y(this,null,function*(){this.messageService.add({severity:"success",summary:"Eliminado",detail:`Ruta ${o.nombre} eliminada`,life:3e3}),this.loadingService.finalizarLoading()}),error:a=>{this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:a.statusText,life:3e3}),this.loadingService.finalizarLoading()}})}};s.\u0275fac=function(i){return new(i||s)(k(Y),k(V),k(re),k(L))},s.\u0275prov=G({token:s,factory:s.\u0275fac});let t=s;return t})();function Cn(t,s){if(t&1){let e=h();r(0,"button",17),C("click",function(){_(e);let i=m(2);return g(i.openNew())}),n()}}function hn(t,s){if(t&1){let e=h();r(0,"button",18),C("click",function(){_(e);let i=m(2);return g(i.deleteSelectedRutas())}),n()}if(t&2){let e=m(2);p("disabled",!e.selectedRutas||!e.selectedRutas.length)}}function vn(t,s){if(t&1&&(r(0,"div",14),d(1,Cn,1,0,"button",15)(2,hn,1,1,"button",16),n()),t&2){let e=m();c(),p("ngIf",e.tokenService.isAdmin()),c(),p("ngIf",e.tokenService.isAdmin()&&e.rutas&&e.rutas.length>0)}}function bn(t,s){if(t&1&&(r(0,"h5",20),l(1),n()),t&2){let e=m(2);c(),w("Total ",e.rutas.length," Rutas")}}function Sn(t,s){if(t&1&&d(0,bn,2,1,"h5",19),t&2){let e=m();p("ngIf",e.rutas&&e.rutas.length>0)}}function yn(t,s){if(t&1){let e=h();r(0,"div",26)(1,"h5",20),l(2,"Rutas"),n(),r(3,"span",27),x(4,"i",28),r(5,"input",29),C("input",function(i){_(e),m();let a=U(2),f=m();return g(f.onGlobalFilter(a,i))}),n()()()}}function wn(t,s){t&1&&(r(0,"th",32),x(1,"p-tableHeaderCheckbox"),n())}function En(t,s){if(t&1&&(r(0,"tr"),d(1,wn,2,0,"th",30),r(2,"th",31),l(3,"Ruta"),n()()),t&2){let e=m(2);c(),p("ngIf",e.tokenService.isAdmin())}}function Tn(t,s){if(t&1&&(r(0,"td"),x(1,"p-tableCheckbox",43),n()),t&2){let e=m().$implicit;c(),p("value",e)}}function Pn(t,s){if(t&1){let e=h();r(0,"div",44)(1,"button",45),C("click",function(){_(e);let i=m().$implicit,a=m(2);return g(a.editRuta(i))}),n(),r(2,"button",46),C("click",function(){_(e);let i=m().$implicit,a=m(2);return g(a.deleteRuta(i))}),n()()}}function In(t,s){if(t&1&&(r(0,"tr"),d(1,Tn,2,1,"td",7),r(2,"td",33)(3,"div",34)(4,"div",35)(5,"div",36)(6,"div",37),l(7),n(),r(8,"div")(9,"p")(10,"span",38),l(11,"Cursos: "),n(),l(12),n()(),r(13,"div",39)(14,"p"),l(15),n()()(),r(16,"div",40),d(17,Pn,3,0,"div",41),r(18,"div",42)(19,"p")(20,"span",38),l(21,"Creado el: "),n(),l(22),n()(),r(23,"div")(24,"p")(25,"span",38),l(26,"Ultima actualizaci\xF3n: "),n(),l(27),n()()()()()()()),t&2){let e=s.$implicit,o=m(2);c(),p("ngIf",o.tokenService.isAdmin()),c(6),H("",e.codigo,"-",e.nombre,""),c(5),E(e.cursos?e.cursos.length:0),c(3),E(e.descripcion),c(2),p("ngIf",o.tokenService.isAdmin()),c(5),E(o.datePipe.transform(e.createdAt,"dd/MM/yyyy HH:MM:SS")),c(5),E(o.datePipe.transform(e.updateAt,"dd/MM/yyyy HH:MM:SS"))}}var Mn=()=>["codigo","nombre","descripcion"],kn=()=>[10,20,30];function Vn(t,s){if(t&1){let e=h();W(0),r(1,"p-table",21,22),S("selectionChange",function(i){_(e);let a=m();return b(a.selectedRutas,i)||(a.selectedRutas=i),g(i)}),d(3,yn,6,0,"ng-template",23)(4,En,4,1,"ng-template",24)(5,In,28,8,"ng-template",25),n(),F()}if(t&2){let e=m();c(),p("value",e.rutas)("scrollable",!0)("columns",e.cols)("rows",10)("globalFilterFields",T(10,Mn))("paginator",!0)("rowsPerPageOptions",T(11,kn))("showCurrentPageReport",!0),v("selection",e.selectedRutas),p("rowHover",!0)}}function An(t,s){t&1&&(W(0),r(1,"h1",31),l(2,"No tienes rutas registradas"),n(),F())}var He=t=>({"ng-invalid ng-dirty":t});function Dn(t,s){if(t&1){let e=h();r(0,"div",48)(1,"label",57),l(2,"Codigo"),n(),r(3,"input",58),S("ngModelChange",function(i){_(e);let a=m(2);return b(a.ruta.codigo,i)||(a.ruta.codigo=i),g(i)}),n()()}if(t&2){let e=m(2);c(3),v("ngModel",e.ruta.codigo),p("ngClass",I(2,He,e.submitted&&!e.ruta.codigo))}}function Ln(t,s){t&1&&(r(0,"small",60),l(1,"El codigo es requerido."),n())}function Rn(t,s){if(t&1){let e=h();r(0,"div",48)(1,"label",57),l(2,"Codigo"),n(),r(3,"input",59),S("ngModelChange",function(i){_(e);let a=m(2);return b(a.ruta.codigo,i)||(a.ruta.codigo=i),g(i)}),n(),d(4,Ln,2,0,"small",51),n()}if(t&2){let e=m(2);c(3),v("ngModel",e.ruta.codigo),p("ngClass",I(3,He,e.submitted&&!e.ruta.codigo)),c(),p("ngIf",e.submitted&&!e.ruta.codigo)}}function Wn(t,s){t&1&&(r(0,"small",60),l(1,"El nombre es requerido."),n())}function Fn(t,s){t&1&&(r(0,"small",60),l(1,"La descripci\xF3n es requerida."),n())}function Bn(t,s){if(t&1&&(r(0,"div",62)(1,"div",63)(2,"span",38),l(3),n(),r(4,"div",64)(5,"span"),l(6),n()()()()),t&2){let e=s.$implicit;c(3),H("",e.codigo,"-",e.nombre,""),c(3),E(e.descripcion)}}var jn=()=>({"max-height":"30rem"});function zn(t,s){if(t&1&&(r(0,"p-orderList",56),d(1,Bn,7,3,"ng-template",61),n()),t&2){let e=m(2);p("value",e.selectedCursos)("listStyle",T(3,jn))("dragdrop",!0)}}function Nn(t,s){if(t&1){let e=h();d(0,Dn,4,4,"div",47)(1,Rn,5,5),r(2,"div",48)(3,"label",49),l(4,"Nombre"),n(),r(5,"input",50),S("ngModelChange",function(i){_(e);let a=m();return b(a.ruta.nombre,i)||(a.ruta.nombre=i),g(i)}),n(),d(6,Wn,2,0,"small",51),n(),r(7,"div",48)(8,"label",52),l(9,"Descripci\xF3n"),n(),r(10,"textarea",53),S("ngModelChange",function(i){_(e);let a=m();return b(a.ruta.descripcion,i)||(a.ruta.descripcion=i),g(i)}),n(),d(11,Fn,2,0,"small",51),n(),r(12,"div",48)(13,"label",54),l(14,"Cursos de la ruta"),n(),r(15,"p-multiSelect",55),S("ngModelChange",function(i){_(e);let a=m();return b(a.selectedCursos,i)||(a.selectedCursos=i),g(i)}),n()(),d(16,zn,2,4,"p-orderList",56)}if(t&2){let e=m();D(0,e.ruta.id?0:1),c(5),v("ngModel",e.ruta.nombre),p("ngClass",I(10,He,e.submitted&&!e.ruta.nombre)),c(),p("ngIf",e.submitted&&!e.ruta.nombre),c(4),v("ngModel",e.ruta.descripcion),p("ngClass",I(12,He,e.submitted&&!e.ruta.descripcion)),c(),p("ngIf",e.submitted&&!e.ruta.descripcion),c(4),p("options",e.cursos),v("ngModel",e.selectedCursos),c(),D(16,e.selectedCursos?16:-1)}}function Hn(t,s){if(t&1){let e=h();r(0,"button",65),C("click",function(){_(e);let i=m();return g(i.hideDialog())}),n(),r(1,"button",66),C("click",function(){_(e);let i=m();return g(i.saveRuta())}),n()}}function qn(t,s){if(t&1&&(r(0,"span"),l(1,"\xBFEsta seguro/a de eliminar la ruta "),r(2,"b"),l(3),n(),l(4,"?"),n()),t&2){let e=m();c(3),E(e.ruta.nombre)}}function On(t,s){if(t&1){let e=h();r(0,"button",67),C("click",function(){_(e);let i=m();return g(i.deleteRutaDialog=!1)}),n(),r(1,"button",68),C("click",function(){_(e);let i=m();return g(i.confirmDelete())}),n()}}function Gn(t,s){if(t&1){let e=h();r(0,"button",67),C("click",function(){_(e);let i=m();return g(i.deleteRutasDialog=!1)}),n(),r(1,"button",68),C("click",function(){_(e);let i=m();return g(i.confirmDeleteSelected())}),n()}}var Un=()=>({width:"500px"}),Mt=()=>({width:"450px"}),kt=(()=>{let s=class s{constructor(o,i,a,f,u,ue){this.rutasService=o,this.messageService=i,this.datePipe=a,this.cursosService=f,this.tokenService=u,this.loadingService=ue,this.rutas=[],this.rutasEdit=[],this.ruta={},this.selectedRutas=[],this.rutaDialog=!1,this.deleteRutaDialog=!1,this.deleteRutasDialog=!1,this.submitted=!1,this.cols=[],this.rowsPerPageOptions=[5,10,20],this.cursos=[],this.selectedCursos=[]}ngOnInit(){let o=!1,i=!1;this.loadingService.ejecutarLoading("Cargando rutas..."),this.rutasService.getRutas().subscribe({next:a=>y(this,null,function*(){a.length>0?this.rutas=a:this.messageService.add({severity:"warn",summary:"Sin informaci\xF3n",detail:"No tienes rutas registradas",life:3e3}),o=!0,o&&i&&this.loadingService.finalizarLoading()}),error:a=>{this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:a.statusText,life:3e3}),o=!0,o&&i&&this.loadingService.finalizarLoading()}}),this.cursosService.getCursos().subscribe({next:a=>y(this,null,function*(){a.length>0?(this.cursos=a,this.cursos.forEach(f=>{delete f.rutas,delete f.areascurso,delete f.plataforma,delete f.profesores})):this.messageService.add({severity:"warn",summary:"Sin informaci\xF3n",detail:"No tienes cursos registradas",life:3e3}),i=!0,o&&i&&this.loadingService.finalizarLoading()}),error:a=>{this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:a.statusText,life:3e3}),i=!0,o&&i&&this.loadingService.finalizarLoading()}}),this.cols=[{field:"codigo",header:"Codigo"},{field:"nombre",header:"Nombre"},{field:"descripcion",header:"Descripci\xF3n"},{field:"creacion",header:"Creaci\xF3n"},{field:"actualizacion",header:"Actualizaci\xF3n"}]}openNew(){this.ruta={},this.selectedCursos=[],this.submitted=!1,this.rutaDialog=!0}deleteSelectedRutas(){this.deleteRutasDialog=!0}editRuta(o){this.selectedCursos=o.cursos?o.cursos:[],this.ruta=R({},o),this.rutaDialog=!0}deleteRuta(o){this.deleteRutaDialog=!0,this.ruta=R({},o),this.selectedRutas.push(this.ruta)}confirmDeleteSelected(){return y(this,null,function*(){this.deleteRutasDialog=!1,this.selectedRutas=this.rutasService.deleteRutas(this.selectedRutas),this.rutas=this.rutas.filter(o=>!this.selectedRutas.includes(o)),this.selectedRutas=[]})}confirmDelete(){this.deleteRutaDialog=!1,this.rutasService.deleteRuta(this.ruta),this.rutas=this.rutas.filter(o=>o.id!==this.ruta.id),this.ruta={}}hideDialog(){this.rutaDialog=!1,this.submitted=!1}saveRuta(){this.submitted=!0,this.rutasEdit=this.rutas,this.ruta.cursos=this.selectedCursos,console.log(this.ruta),this.ruta.codigo?.trim()&&this.ruta.nombre?.trim()&&this.ruta.descripcion?.trim()&&(this.ruta.id?(this.loadingService.ejecutarLoading("Actualizando ruta..."),this.rutasService.putRuta(this.ruta).subscribe({next:o=>y(this,null,function*(){this.rutasEdit[this.findIndexById(this.ruta.codigo)]=this.ruta,this.messageService.add({severity:"success",summary:"Successful",detail:"Ruta Actualizada",life:3e3}),this.loadingService.finalizarLoading()}),error:o=>{if(typeof o.error.statusMessage=="string")this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:o.statusText,life:3e3});else for(let i of o.error.statusMessage.message)this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:i,life:3e3});this.loadingService.finalizarLoading()}})):(this.loadingService.ejecutarLoading("Guardando ruta..."),this.rutasService.postRuta(this.ruta).subscribe({next:o=>y(this,null,function*(){this.rutasEdit.push(o),this.messageService.add({severity:"success",summary:"Exitosa",detail:"Ruta Creada",life:3e3}),this.loadingService.finalizarLoading()}),error:o=>{if(typeof o.error.statusMessage=="string")this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:o.statusText,life:3e3});else for(let i of o.error.statusMessage.message)this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:i,life:3e3});this.loadingService.finalizarLoading()}})),this.rutaDialog=!1)}findIndexById(o){let i=-1;for(let a=0;a<this.rutas.length;a++)if(this.rutas[a].codigo===o){i=a;break}return i}onGlobalFilter(o,i){o.filterGlobal(i.target.value,"contains")}};s.\u0275fac=function(i){return new(i||s)(P(Ne),P(V),P(z),P(ye),P(N),P(L))},s.\u0275cmp=O({type:s,selectors:[["app-rutas"]],decls:23,vars:18,consts:[[1,"grid"],[1,"col-12","p-0","lg:p-3"],[1,"card","px-3","py-3","lg:px-5","lg:py-5"],["styleClass","ml-3"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[4,"ngIf"],["header","Detalles de la Plataforma",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["header","Confirmar eliminaci\xF3n",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[1,"my-2"],["pButton","","pRipple","","label","Nueva","icon","pi pi-plus","class","p-button-success mr-2 p-2",3,"click",4,"ngIf"],["pButton","","pRipple","","label","Eliminar","icon","pi pi-trash","class","p-button-danger p-2",3,"disabled","click",4,"ngIf"],["pButton","","pRipple","","label","Nueva","icon","pi pi-plus",1,"p-button-success","mr-2","p-2",3,"click"],["pButton","","pRipple","","label","Eliminar","icon","pi pi-trash",1,"p-button-danger","p-2",3,"disabled","click"],["class","m-0",4,"ngIf"],[1,"m-0"],["scrollDirection","both","scrollHeight","1000px","responsiveLayout","scroll","currentPageReportTemplate","Viendo {first} a {last} de {totalRecords} rutas","selectionMode","multiple","dataKey","id",3,"value","scrollable","columns","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","selection","rowHover","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar...",1,"w-full","sm:w-auto",3,"input"],["style","width: 3rem",4,"ngIf"],[1,"text-center"],[2,"width","3rem"],[2,"width","100%","min-width","10rem"],[1,"flex","flex-column","xl:flex-row","xl:align-items-start","p-4","gap-4","align-items-center"],[1,"flex","flex-column","sm:flex-row","justify-content-between","align-items-center","xl:align-items-start","flex-1","gap-4"],[1,"flex","flex-column","align-items-center","sm:align-items-start","gap-3"],[1,"text-2xl","font-bold","text-900"],[1,"font-bold"],[1,"text-1","text-700"],[1,"flex","flex-column"],["class","flex",4,"ngIf"],[1,"mt-4"],[3,"value"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-warning",3,"click"],["class","field"],[1,"field"],["for","nombre"],["type","text","pInputText","","id","name","maxlength","200","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","descripcion"],["id","descripcion","pInputTextarea","","maxlength","500","required","","autofocus","","rows","3","cols","20",3,"ngModel","ngClass","ngModelChange"],["for","cursos"],["optionLabel","nombre","scrollHeight","100px","placeholder","Seleccionar cursos de la ruta","display","chip",3,"options","ngModel","ngModelChange"],["header","Cursos",3,"value","listStyle","dragdrop"],["for","codigo"],["type","text","pInputText","","id","codigo","disabled","","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["type","text","pInputText","","id","codigo","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],[1,"ng-dirty","ng-invalid"],["pTemplate","item"],[1,"flex","flex-wrap","align-items-center","gap-3"],[1,"flex-1","flex","flex-column","gap-2"],[1,"flex","align-items-center","gap-2"],["pButton","","pRipple","","label","Cancelar","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Guardar","icon","pi pi-check",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Si",1,"p-button-text",3,"click"]],template:function(i,a){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),x(3,"p-toast",3),r(4,"p-toolbar",4),d(5,vn,3,2,"ng-template",5)(6,Sn,1,1,"ng-template",6),n(),d(7,Vn,6,12,"ng-container",7)(8,An,3,0,"ng-container",7),n(),r(9,"p-dialog",8),S("visibleChange",function(u){return b(a.rutaDialog,u)||(a.rutaDialog=u),u}),d(10,Nn,17,14,"ng-template",9)(11,Hn,2,0,"ng-template",10),n(),r(12,"p-dialog",11),S("visibleChange",function(u){return b(a.deleteRutaDialog,u)||(a.deleteRutaDialog=u),u}),r(13,"div",12),x(14,"i",13),d(15,qn,5,1,"span",7),n(),d(16,On,2,0,"ng-template",10),n(),r(17,"p-dialog",11),S("visibleChange",function(u){return b(a.deleteRutasDialog,u)||(a.deleteRutasDialog=u),u}),r(18,"div",12),x(19,"i",13),r(20,"span"),l(21,"\xBFEsta seguro/a de eliminar las plataformas seleccionadas?"),n()(),d(22,Gn,2,0,"ng-template",10),n()()()),i&2&&(c(7),p("ngIf",a.rutas&&a.rutas.length>0),c(),p("ngIf",!(a.rutas&&a.rutas.length>0)),c(),A(T(15,Un)),v("visible",a.rutaDialog),p("modal",!0),c(3),A(T(16,Mt)),v("visible",a.deleteRutaDialog),p("modal",!0),c(3),p("ngIf",a.ruta),c(2),A(T(17,Mt)),v("visible",a.deleteRutasDialog),p("modal",!0))},dependencies:[$,ee,ie,ne,te,K,X,Q,Z,se,le,ce,J,me,pe,ae,fe,de,_t,Ie]});let t=s;return t})();function Kn(t,s){if(t&1){let e=h();r(0,"button",16),C("click",function(){_(e);let i=m(2);return g(i.openNew())}),n()}}function Xn(t,s){if(t&1){let e=h();r(0,"button",17),C("click",function(){_(e);let i=m(2);return g(i.deleteSelectedAreasCursos())}),n()}if(t&2){let e=m(2);p("disabled",!e.selectedAreasCursos||!e.selectedAreasCursos.length)}}function Yn(t,s){if(t&1&&(r(0,"div",13),d(1,Kn,1,0,"button",14)(2,Xn,1,1,"button",15),n()),t&2){let e=m();c(),p("ngIf",e.tokenService.isAdmin()),c(),p("ngIf",e.tokenService.isAdmin()&&e.areasCursos&&e.areasCursos.length>0)}}function Zn(t,s){if(t&1&&(r(0,"h5",19),l(1),n()),t&2){let e=m(2);c(),w("Total ",e.areasCursos.length," Areas de Cursos")}}function Jn(t,s){if(t&1&&d(0,Zn,2,1,"h5",18),t&2){let e=m();p("ngIf",e.areasCursos&&e.areasCursos.length>0)}}function Qn(t,s){if(t&1){let e=h();r(0,"div",25)(1,"h5",19),l(2,"Areas de Cursos"),n(),r(3,"span",26),x(4,"i",27),r(5,"input",28),C("input",function(i){_(e),m();let a=U(2),f=m();return g(f.onGlobalFilter(a,i))}),n()()()}}function $n(t,s){t&1&&(r(0,"th",31),x(1,"p-tableHeaderCheckbox"),n())}function eo(t,s){if(t&1&&(r(0,"tr"),d(1,$n,2,0,"th",29),r(2,"th",30),l(3,"Area de Cursos "),n()()),t&2){let e=m(2);c(),p("ngIf",e.tokenService.isAdmin())}}function to(t,s){if(t&1&&(r(0,"td"),x(1,"p-tableCheckbox",41),n()),t&2){let e=m().$implicit;c(),p("value",e)}}function io(t,s){if(t&1){let e=h();r(0,"div",42)(1,"button",43),C("click",function(){_(e);let i=m().$implicit,a=m(2);return g(a.editAreaCursos(i))}),n(),r(2,"button",44),C("click",function(){_(e);let i=m().$implicit,a=m(2);return g(a.deleteAreaCursos(i))}),n()()}}function no(t,s){if(t&1&&(r(0,"tr"),d(1,to,2,1,"td",6),r(2,"td",32)(3,"div",33)(4,"div",34)(5,"div",35)(6,"div",36),l(7),n(),r(8,"div")(9,"p")(10,"span",37),l(11,"Cursos: "),n(),l(12),n()()(),r(13,"div",38),d(14,io,3,0,"div",39),r(15,"div",40)(16,"p")(17,"span",37),l(18,"Creado el: "),n(),l(19),n()(),r(20,"div")(21,"p")(22,"span",37),l(23,"Ultima actualizaci\xF3n: "),n(),l(24),n()()()()()()()),t&2){let e=s.$implicit,o=m(2);c(),p("ngIf",o.tokenService.isAdmin()),c(6),H("",e.codigo,"-",e.nombre,""),c(5),E(e.cursos?e.cursos.length:0),c(2),p("ngIf",o.tokenService.isAdmin()),c(5),E(o.datePipe.transform(e.createdAt,"dd/MM/yyyy HH:MM:SS")),c(5),E(o.datePipe.transform(e.updateAt,"dd/MM/yyyy HH:MM:SS"))}}var oo=()=>["codigo","nombre"],At=()=>[10,20,30];function ro(t,s){if(t&1){let e=h();W(0),r(1,"p-table",20,21),S("selectionChange",function(i){_(e);let a=m();return b(a.selectedAreasCursos,i)||(a.selectedAreasCursos=i),g(i)}),d(3,Qn,6,0,"ng-template",22)(4,eo,4,1,"ng-template",23)(5,no,25,7,"ng-template",24),n(),F()}if(t&2){let e=m();c(),p("value",e.areasCursos)("scrollable",!0)("columns",e.cols)("rows",10)("globalFilterFields",T(10,oo))("paginator",!0)("rowsPerPageOptions",T(11,At))("showCurrentPageReport",!0),v("selection",e.selectedAreasCursos),p("rowHover",!0)}}function ao(t,s){t&1&&(W(0),r(1,"h1",30),l(2,"No tienes areas de cursos registradas"),n(),F())}var Ye=t=>({"ng-invalid ng-dirty":t});function so(t,s){if(t&1){let e=h();r(0,"div",46)(1,"label",51),l(2,"Codigo"),n(),r(3,"input",52),S("ngModelChange",function(i){_(e);let a=m(2);return b(a.areaCursos.codigo,i)||(a.areaCursos.codigo=i),g(i)}),n()()}if(t&2){let e=m(2);c(3),v("ngModel",e.areaCursos.codigo),p("ngClass",I(2,Ye,e.submitted&&!e.areaCursos.codigo))}}function lo(t,s){t&1&&(r(0,"small",54),l(1,"El codigo es requerido."),n())}function co(t,s){if(t&1){let e=h();r(0,"div",46)(1,"label",51),l(2,"Codigo"),n(),r(3,"input",53),S("ngModelChange",function(i){_(e);let a=m(2);return b(a.areaCursos.codigo,i)||(a.areaCursos.codigo=i),g(i)}),n(),d(4,lo,2,0,"small",49),n()}if(t&2){let e=m(2);c(3),v("ngModel",e.areaCursos.codigo),p("ngClass",I(3,Ye,e.submitted&&!e.areaCursos.codigo)),c(),p("ngIf",e.submitted&&!e.areaCursos.codigo)}}function mo(t,s){t&1&&(r(0,"small",54),l(1,"El nombre es requerido."),n())}function po(t,s){t&1&&(r(0,"div",25)(1,"h5",19),l(2,"Cursos"),n()())}function uo(t,s){t&1&&(r(0,"tr")(1,"th",55),l(2,"Codigo "),x(3,"p-sortIcon",56),n(),r(4,"th",57),l(5,"Nombre "),x(6,"p-sortIcon",58),n(),r(7,"th",59),l(8,"Descripci\xF3n "),x(9,"p-sortIcon",60),n(),r(10,"th",59),l(11,"Nivel "),x(12,"p-sortIcon",60),n(),r(13,"th",61),l(14,"Curso Plataforma "),x(15,"p-sortIcon",62),n(),r(16,"th",63),l(17,"Descargar Curso "),x(18,"p-sortIcon",64),n(),r(19,"th",65),l(20,"Creaci\xF3n "),x(21,"p-sortIcon",66),n(),r(22,"th",67),l(23,"Actualizaci\xF3n "),x(24,"p-sortIcon",68),n()())}function _o(t,s){if(t&1&&(r(0,"tr")(1,"td",69)(2,"span",70),l(3,"Codigo"),n(),l(4),n(),r(5,"td",69)(6,"span",70),l(7,"Nombre"),n(),l(8),n(),r(9,"td",69)(10,"span",70),l(11,"Descripci\xF3n"),n(),l(12),n(),r(13,"td",69)(14,"span",70),l(15,"Nivel"),n(),l(16),n(),r(17,"td",69)(18,"span",70),l(19,"Curso Plataforma"),n(),l(20),n(),r(21,"td",69)(22,"span",70),l(23,"Descargar Curso"),n(),l(24),n(),r(25,"td",71)(26,"span",70),l(27,"Creaci\xF3n"),n(),l(28),n(),r(29,"td",71)(30,"span",70),l(31,"Actualizaci\xF3n"),n(),l(32),n()()),t&2){let e=s.$implicit;c(4),w(" ",e.codigo," "),c(4),w(" ",e.nombre," "),c(4),w(" ",e.descripcion," "),c(4),w(" ",e.nivel," "),c(4),w(" ",e.linkCurso," "),c(4),w(" ",e.linkCursoTeleg," "),c(4),w(" ",e.createdAt," "),c(4),w(" ",e.updateAt," ")}}function go(t,s){if(t&1&&(r(0,"p-table",50,21),d(2,po,3,0,"ng-template",22)(3,uo,25,0,"ng-template",23)(4,_o,33,8,"ng-template",24),n()),t&2){let e=m(2);p("value",e.areaCursos.cursos)("columns",e.cols)("rows",10)("paginator",!0)("rowsPerPageOptions",T(7,At))("showCurrentPageReport",!0)("rowHover",!0)}}function fo(t,s){if(t&1){let e=h();d(0,so,4,4,"div",45)(1,co,5,5),r(2,"div",46)(3,"label",47),l(4,"Nombre"),n(),r(5,"input",48),S("ngModelChange",function(i){_(e);let a=m();return b(a.areaCursos.nombre,i)||(a.areaCursos.nombre=i),g(i)}),n(),d(6,mo,2,0,"small",49),n(),d(7,go,5,8,"p-table",50)}if(t&2){let e=m();D(0,e.areaCursos.id?0:1),c(5),v("ngModel",e.areaCursos.nombre),p("ngClass",I(5,Ye,e.submitted&&!e.areaCursos.nombre)),c(),p("ngIf",e.submitted&&!e.areaCursos.nombre),c(),D(7,e.areaCursos.cursos?7:-1)}}function xo(t,s){if(t&1){let e=h();r(0,"button",72),C("click",function(){_(e);let i=m();return g(i.hideDialog())}),n(),r(1,"button",73),C("click",function(){_(e);let i=m();return g(i.saveAreaCursos())}),n()}}function Co(t,s){if(t&1&&(r(0,"span"),l(1,"\xBFEsta seguro/a de eliminar este area de cursos "),r(2,"b"),l(3),n(),l(4,"?"),n()),t&2){let e=m();c(3),E(e.areaCursos.nombre)}}function ho(t,s){if(t&1){let e=h();r(0,"button",74),C("click",function(){_(e);let i=m();return g(i.deleteAreaCursosDialog=!1)}),n(),r(1,"button",75),C("click",function(){_(e);let i=m();return g(i.confirmDelete())}),n()}}function vo(t,s){if(t&1){let e=h();r(0,"button",74),C("click",function(){_(e);let i=m();return g(i.deleteAreasCursosDialog=!1)}),n(),r(1,"button",75),C("click",function(){_(e);let i=m();return g(i.confirmDeleteSelected())}),n()}}var bo=()=>({width:"500px"}),Vt=()=>({width:"450px"}),Dt=(()=>{let s=class s{constructor(o,i,a,f,u){this.areaCursosService=o,this.messageService=i,this.datePipe=a,this.tokenService=f,this.loadingService=u,this.areasCursos=[],this.areasCursosEdit=[],this.areaCursos={},this.selectedAreasCursos=[],this.areaCursosDialog=!1,this.deleteAreaCursosDialog=!1,this.deleteAreasCursosDialog=!1,this.submitted=!1,this.cols=[],this.rowsPerPageOptions=[5,10,20]}ngOnInit(){this.loadingService.ejecutarLoading("Cargando areas de cursos..."),this.areaCursosService.getAreasCursos().subscribe({next:o=>y(this,null,function*(){o.length>0?this.areasCursos=o:this.messageService.add({severity:"warn",summary:"Sin informaci\xF3n",detail:"No tienes areas de cursos registradas",life:3e3}),this.loadingService.finalizarLoading()}),error:o=>{this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:o.statusText,life:3e3}),this.loadingService.finalizarLoading()}}),this.cols=[{field:"areaCurso",header:"Area de Cursos"}]}openNew(){this.areaCursos={},this.submitted=!1,this.areaCursosDialog=!0}deleteSelectedAreasCursos(){this.deleteAreasCursosDialog=!0}editAreaCursos(o){this.areaCursos=R({},o),this.areaCursosDialog=!0}deleteAreaCursos(o){this.deleteAreaCursosDialog=!0,this.areaCursos=R({},o),this.selectedAreasCursos.push(this.areaCursos)}confirmDeleteSelected(){return y(this,null,function*(){this.loadingService.ejecutarLoading("Eliminando areas de cursos"),this.deleteAreasCursosDialog=!1,this.selectedAreasCursos=this.areaCursosService.deleteAreasCursos(this.selectedAreasCursos),this.areasCursos=this.areasCursos.filter(o=>!this.selectedAreasCursos.includes(o)),this.selectedAreasCursos=[]})}confirmDelete(){this.deleteAreaCursosDialog=!1,this.areaCursosService.deleteAreaCursos(this.areaCursos),this.areasCursos=this.areasCursos.filter(o=>o.id!==this.areaCursos.id),this.areaCursos={}}hideDialog(){this.areaCursosDialog=!1,this.submitted=!1}saveAreaCursos(){this.submitted=!0,this.areasCursosEdit=this.areasCursos,this.areaCursos.codigo?.trim()&&this.areaCursos.nombre?.trim()&&(this.areaCursos.id?(this.loadingService.ejecutarLoading("Actualizado area de cursos"),this.areaCursosService.putAreaCursos(this.areaCursos).subscribe({next:o=>y(this,null,function*(){this.areasCursosEdit[this.findIndexById(this.areaCursos.codigo)]=yield this.areaCursos,this.messageService.add({severity:"success",summary:"Successful",detail:"Area de cursos Actualizada",life:3e3}),this.loadingService.finalizarLoading()}),error:o=>{if(typeof o.error.statusMessage=="string")this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:o.statusText,life:3e3});else for(let i of o.error.statusMessage.message)this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:i,life:3e3});this.loadingService.finalizarLoading()}})):(this.loadingService.ejecutarLoading("Guardando area de cursos"),this.areaCursosService.postAreaCursos(this.areaCursos).subscribe({next:o=>y(this,null,function*(){o.cursos=[],this.areasCursosEdit.push(o),this.messageService.add({severity:"success",summary:"Successful",detail:"Area de cursos Creada",life:3e3}),this.loadingService.finalizarLoading()}),error:o=>{if(typeof o.error.statusMessage=="string")this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:o.statusText,life:3e3});else for(let i of o.error.statusMessage.message)this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:i,life:3e3});this.loadingService.finalizarLoading()}})),this.areaCursosDialog=!1)}findIndexById(o){let i=-1;for(let a=0;a<this.areasCursos.length;a++)if(this.areasCursos[a].codigo===o){i=a;break}return i}onGlobalFilter(o,i){o.filterGlobal(i.target.value,"contains")}};s.\u0275fac=function(i){return new(i||s)(P(we),P(V),P(z),P(N),P(L))},s.\u0275cmp=O({type:s,selectors:[["app-areas-cursos"]],decls:23,vars:18,consts:[[1,"grid"],[1,"col-12","p-0","lg:p-3"],[1,"card","px-3","py-3","lg:px-5","lg:py-5"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[4,"ngIf"],["header","Detalles del Area de Cursos",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["header","Confirmar eliminaci\xF3n",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[1,"my-2"],["pButton","","pRipple","","label","Nueva","icon","pi pi-plus","class","p-button-success mr-2 p-2",3,"click",4,"ngIf"],["pButton","","pRipple","","label","Eliminar","icon","pi pi-trash","class","p-button-danger p-2",3,"disabled","click",4,"ngIf"],["pButton","","pRipple","","label","Nueva","icon","pi pi-plus",1,"p-button-success","mr-2","p-2",3,"click"],["pButton","","pRipple","","label","Eliminar","icon","pi pi-trash",1,"p-button-danger","p-2",3,"disabled","click"],["class","m-0",4,"ngIf"],[1,"m-0"],["scrollDirection","both","scrollHeight","400px","responsiveLayout","scroll","currentPageReportTemplate","Viendo {first} a {last} de {totalRecords} areas de cursos","selectionMode","multiple","dataKey","id",3,"value","scrollable","columns","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","selection","rowHover","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar...",1,"w-full","sm:w-auto",3,"input"],["style","width: 3rem",4,"ngIf"],[1,"text-center"],[2,"width","3rem"],[2,"width","100%","min-width","10rem"],[1,"flex","flex-column","xl:flex-row","xl:align-items-start","p-4","gap-4","align-items-center"],[1,"flex","flex-column","sm:flex-row","justify-content-between","align-items-center","xl:align-items-start","flex-1","gap-4"],[1,"flex","flex-column","align-items-center","sm:align-items-start","gap-3"],[1,"text-2xl","font-bold","text-900"],[1,"font-bold"],[1,"flex","flex-column"],["class","flex",4,"ngIf"],[1,"mt-4"],[3,"value"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-warning",3,"click"],["class","field"],[1,"field"],["for","nombre"],["type","text","pInputText","","id","name","maxlength","200","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["responsiveLayout","scroll","currentPageReportTemplate","Viendo {first} a {last} de {totalRecords} cursos","dataKey","id",3,"value","columns","rows","paginator","rowsPerPageOptions","showCurrentPageReport","rowHover"],["for","codigo"],["type","text","pInputText","","id","codigo","disabled","","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["type","text","pInputText","","id","codigo","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],[1,"ng-dirty","ng-invalid"],["pSortableColumn","codigo"],["field","codigo"],["pSortableColumn","nombre"],["field","nombre"],["pSortableColumn","descripcion"],["field","descripcion"],["pSortableColumn","linkCurso"],["field","linkCurso"],["pSortableColumn","descargarCurso"],["field","descargarCurso"],["pSortableColumn","creacion"],["field","creacion"],["pSortableColumn","actualizacion"],["field","actualizacion"],[2,"width","14%","min-width","10rem"],[1,"p-column-title"],[2,"width","50%","min-width","16rem"],["pButton","","pRipple","","label","Cancelar","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Guardar","icon","pi pi-check",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Si",1,"p-button-text",3,"click"]],template:function(i,a){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),x(3,"p-toast"),r(4,"p-toolbar",3),d(5,Yn,3,2,"ng-template",4)(6,Jn,1,1,"ng-template",5),n(),d(7,ro,6,12,"ng-container",6)(8,ao,3,0,"ng-container",6),n(),r(9,"p-dialog",7),S("visibleChange",function(u){return b(a.areaCursosDialog,u)||(a.areaCursosDialog=u),u}),d(10,fo,8,7,"ng-template",8)(11,xo,2,0,"ng-template",9),n(),r(12,"p-dialog",10),S("visibleChange",function(u){return b(a.deleteAreaCursosDialog,u)||(a.deleteAreaCursosDialog=u),u}),r(13,"div",11),x(14,"i",12),d(15,Co,5,1,"span",6),n(),d(16,ho,2,0,"ng-template",9),n(),r(17,"p-dialog",10),S("visibleChange",function(u){return b(a.deleteAreasCursosDialog,u)||(a.deleteAreasCursosDialog=u),u}),r(18,"div",11),x(19,"i",12),r(20,"span"),l(21,"\xBFEsta seguro/a de eliminar las areas de cursos seleccionadas?"),n()(),d(22,vo,2,0,"ng-template",9),n()()()),i&2&&(c(7),p("ngIf",a.areasCursos&&a.areasCursos.length>0),c(),p("ngIf",!(a.areasCursos&&a.areasCursos.length>0)),c(),A(T(15,bo)),v("visible",a.areaCursosDialog),p("modal",!0),c(3),A(T(16,Vt)),v("visible",a.deleteAreaCursosDialog),p("modal",!0),c(3),p("ngIf",a.areaCursos),c(2),A(T(17,Vt)),v("visible",a.deleteAreasCursosDialog),p("modal",!0))},dependencies:[$,ee,ie,ne,te,K,X,Q,Z,se,he,ve,le,ce,J,me,pe,ae,de]});let t=s;return t})();function So(t,s){if(t&1){let e=h();r(0,"button",16),C("click",function(){_(e);let i=m(2);return g(i.openNew())}),n()}}function yo(t,s){if(t&1){let e=h();r(0,"button",17),C("click",function(){_(e);let i=m(2);return g(i.deleteSelectedProfesores())}),n()}if(t&2){let e=m(2);p("disabled",!e.selectedProfesores||!e.selectedProfesores.length)}}function wo(t,s){if(t&1&&(r(0,"div",13),d(1,So,1,0,"button",14)(2,yo,1,1,"button",15),n()),t&2){let e=m();c(),p("ngIf",e.tokenService.isAdmin()),c(),p("ngIf",e.tokenService.isAdmin()&&e.profesores&&e.profesores.length>0)}}function Eo(t,s){if(t&1&&(r(0,"h5",19),l(1),n()),t&2){let e=m(2);c(),w("Total ",e.profesores.length," Profesores ")}}function To(t,s){if(t&1&&d(0,Eo,2,1,"h5",18),t&2){let e=m();p("ngIf",e.profesores&&e.profesores.length>0)}}function Po(t,s){if(t&1){let e=h();r(0,"div",25)(1,"h5",19),l(2,"Areas de Cursos"),n(),r(3,"span",26),x(4,"i",27),r(5,"input",28),C("input",function(i){_(e),m();let a=U(2),f=m();return g(f.onGlobalFilter(a,i))}),n()()()}}function Io(t,s){t&1&&(r(0,"th",31),x(1,"p-tableHeaderCheckbox"),n())}function Mo(t,s){if(t&1&&(r(0,"tr"),d(1,Io,2,0,"th",29),r(2,"th",30),l(3,"Profesor"),n()()),t&2){let e=m(2);c(),p("ngIf",e.tokenService.isAdmin())}}function ko(t,s){if(t&1&&(r(0,"td"),x(1,"p-tableCheckbox",49),n()),t&2){let e=m().$implicit;c(),p("value",e)}}function Vo(t,s){if(t&1){let e=h();r(0,"div",50)(1,"button",51),C("click",function(){_(e);let i=m().$implicit,a=m(2);return g(a.editProfesor(i))}),n(),r(2,"button",52),C("click",function(){_(e);let i=m().$implicit,a=m(2);return g(a.deleteProfesor(i))}),n()()}}function Ao(t,s){if(t&1&&(r(0,"tr"),d(1,ko,2,1,"td",6),r(2,"td")(3,"div",32)(4,"div",33)(5,"div",34)(6,"div",35),l(7),n(),r(8,"div")(9,"p")(10,"span",36),l(11,"Cursos: "),n(),l(12),n()(),r(13,"div",37)(14,"p"),l(15),n()(),r(16,"div",37)(17,"p",36),l(18,"Redes sociales"),n(),r(19,"div")(20,"a",38),x(21,"i",39),n(),r(22,"a",38),x(23,"i",40),n(),r(24,"a",38),x(25,"i",41),n(),r(26,"a",38),x(27,"i",42),n(),r(28,"a",38),Ze(),r(29,"svg",43),x(30,"path",44),n()(),Je(),r(31,"a",38),x(32,"i",45),n()()()(),r(33,"div",46),d(34,Vo,3,0,"div",47),r(35,"div",48)(36,"p")(37,"span",36),l(38,"Creado el: "),n(),l(39),n()(),r(40,"div")(41,"p")(42,"span",36),l(43,"Ultima actualizaci\xF3n: "),n(),l(44),n()()()()()()()),t&2){let e=s.$implicit,o=m(2);c(),p("ngIf",o.tokenService.isAdmin()),c(6),H("",e.codigo,"-",e.nombre,""),c(5),E(e.cursos?e.cursos.length:0),c(3),E(e.descripcion),c(5),Ce("href",e.facebook,j),c(2),Ce("href",e.linkedin,j),c(2),Ce("href",e.youtube,j),c(2),Ce("href",e.instagram,j),c(2),Ce("href",e.x,j),c(3),Ce("href",e.correo,j),c(3),p("ngIf",o.tokenService.isAdmin()),c(5),E(o.datePipe.transform(e.createdAt,"dd/MM/yyyy HH:MM:SS")),c(5),w("",o.datePipe.transform(e.updateAt,"dd/MM/yyyy HH:MM:SS")," ")}}var Do=()=>["codigo","nombre","descripcion"],Rt=()=>[10,20,30];function Lo(t,s){if(t&1){let e=h();W(0),r(1,"p-table",20,21),S("selectionChange",function(i){_(e);let a=m();return b(a.selectedProfesores,i)||(a.selectedProfesores=i),g(i)}),d(3,Po,6,0,"ng-template",22)(4,Mo,4,1,"ng-template",23)(5,Ao,45,14,"ng-template",24),n(),F()}if(t&2){let e=m();c(),p("value",e.profesores)("scrollable",!0)("columns",e.cols)("rows",10)("globalFilterFields",T(10,Do))("paginator",!0)("rowsPerPageOptions",T(11,Rt))("showCurrentPageReport",!0),v("selection",e.selectedProfesores),p("rowHover",!0)}}function Ro(t,s){t&1&&(W(0),r(1,"h1",30),l(2,"No tienes profesores registrados"),n(),F())}var qe=t=>({"ng-invalid ng-dirty":t});function Wo(t,s){if(t&1){let e=h();r(0,"div",54)(1,"label",75),l(2,"Codigo"),n(),r(3,"input",76),S("ngModelChange",function(i){_(e);let a=m(2);return b(a.profesor.codigo,i)||(a.profesor.codigo=i),g(i)}),n()()}if(t&2){let e=m(2);c(3),v("ngModel",e.profesor.codigo),p("ngClass",I(2,qe,e.submitted&&!e.profesor.codigo))}}function Fo(t,s){t&1&&(r(0,"small",78),l(1,"El codigo es requerido."),n())}function Bo(t,s){if(t&1){let e=h();r(0,"div",54)(1,"label",75),l(2,"Codigo"),n(),r(3,"input",77),S("ngModelChange",function(i){_(e);let a=m(2);return b(a.profesor.codigo,i)||(a.profesor.codigo=i),g(i)}),n(),d(4,Fo,2,0,"small",57),n()}if(t&2){let e=m(2);c(3),v("ngModel",e.profesor.codigo),p("ngClass",I(3,qe,e.submitted&&!e.profesor.codigo)),c(),p("ngIf",e.submitted&&!e.profesor.codigo)}}function jo(t,s){t&1&&(r(0,"small",78),l(1,"El nombre es requerido."),n())}function zo(t,s){t&1&&(r(0,"small",78),l(1,"La descripci\xF3n es requerida."),n())}function No(t,s){t&1&&(r(0,"div",25)(1,"h5",19),l(2,"Cursos"),n()())}function Ho(t,s){t&1&&(r(0,"tr")(1,"th",79),l(2,"Codigo "),x(3,"p-sortIcon",80),n(),r(4,"th",81),l(5,"Nombre "),x(6,"p-sortIcon",82),n(),r(7,"th",83),l(8,"Descripci\xF3n "),x(9,"p-sortIcon",84),n(),r(10,"th",83),l(11,"Nivel "),x(12,"p-sortIcon",84),n(),r(13,"th",85),l(14,"Curso Plataforma "),x(15,"p-sortIcon",86),n(),r(16,"th",87),l(17,"Descargar Curso "),x(18,"p-sortIcon",88),n(),r(19,"th",89),l(20,"Creaci\xF3n "),x(21,"p-sortIcon",90),n(),r(22,"th",91),l(23,"Actualizaci\xF3n "),x(24,"p-sortIcon",92),n()())}function qo(t,s){if(t&1&&(r(0,"tr")(1,"td",93)(2,"span",94),l(3,"Codigo"),n(),l(4),n(),r(5,"td",93)(6,"span",94),l(7,"Nombre"),n(),l(8),n(),r(9,"td",93)(10,"span",94),l(11,"Descripci\xF3n"),n(),l(12),n(),r(13,"td",93)(14,"span",94),l(15,"Nivel"),n(),l(16),n(),r(17,"td",93)(18,"span",94),l(19,"Curso Plataforma"),n(),l(20),n(),r(21,"td",93)(22,"span",94),l(23,"Descargar Curso"),n(),l(24),n(),r(25,"td",95)(26,"span",94),l(27,"Creaci\xF3n"),n(),l(28),n(),r(29,"td",95)(30,"span",94),l(31,"Actualizaci\xF3n"),n(),l(32),n()()),t&2){let e=s.$implicit;c(4),w(" ",e.codigo," "),c(4),w(" ",e.nombre," "),c(4),w(" ",e.descripcion," "),c(4),w(" ",e.nivel," "),c(4),w(" ",e.linkCurso," "),c(4),w(" ",e.linkCursoTeleg," "),c(4),w(" ",e.createdAt," "),c(4),w(" ",e.updateAt," ")}}function Oo(t,s){if(t&1&&(r(0,"p-table",74,21),d(2,No,3,0,"ng-template",22)(3,Ho,25,0,"ng-template",23)(4,qo,33,8,"ng-template",24),n()),t&2){let e=m(2);p("value",e.profesor.cursos)("columns",e.cols)("rows",10)("paginator",!0)("rowsPerPageOptions",T(7,Rt))("showCurrentPageReport",!0)("rowHover",!0)}}function Go(t,s){if(t&1){let e=h();d(0,Wo,4,4,"div",53)(1,Bo,5,5),r(2,"div",54)(3,"label",55),l(4,"Nombre"),n(),r(5,"input",56),S("ngModelChange",function(i){_(e);let a=m();return b(a.profesor.nombre,i)||(a.profesor.nombre=i),g(i)}),n(),d(6,jo,2,0,"small",57),n(),r(7,"div",54)(8,"label",58),l(9,"Descripci\xF3n"),n(),r(10,"textarea",59),S("ngModelChange",function(i){_(e);let a=m();return b(a.profesor.descripcion,i)||(a.profesor.descripcion=i),g(i)}),n(),d(11,zo,2,0,"small",57),n(),r(12,"div",54)(13,"label"),l(14,"Redes sociales"),n(),r(15,"div",60)(16,"div",61)(17,"label",62),l(18,"Linkedin"),n(),r(19,"input",63),S("ngModelChange",function(i){_(e);let a=m();return b(a.profesor.linkedin,i)||(a.profesor.linkedin=i),g(i)}),n()(),r(20,"div",61)(21,"label",64),l(22,"Youtube"),n(),r(23,"input",65),S("ngModelChange",function(i){_(e);let a=m();return b(a.profesor.youtube,i)||(a.profesor.youtube=i),g(i)}),n()()(),r(24,"div",60)(25,"div",61)(26,"label",66),l(27,"Facebook"),n(),r(28,"input",67),S("ngModelChange",function(i){_(e);let a=m();return b(a.profesor.facebook,i)||(a.profesor.facebook=i),g(i)}),n()(),r(29,"div",61)(30,"label",68),l(31,"X"),n(),r(32,"input",69),S("ngModelChange",function(i){_(e);let a=m();return b(a.profesor.x,i)||(a.profesor.x=i),g(i)}),n()()(),r(33,"div",60)(34,"div",61)(35,"label",70),l(36,"Instagram"),n(),r(37,"input",71),S("ngModelChange",function(i){_(e);let a=m();return b(a.profesor.instagram,i)||(a.profesor.instagram=i),g(i)}),n()(),r(38,"div",61)(39,"label",72),l(40,"Correo"),n(),r(41,"input",73),S("ngModelChange",function(i){_(e);let a=m();return b(a.profesor.correo,i)||(a.profesor.correo=i),g(i)}),n()()()(),d(42,Oo,5,8,"p-table",74)}if(t&2){let e=m();D(0,e.profesor.id?0:1),c(5),v("ngModel",e.profesor.nombre),p("ngClass",I(14,qe,e.submitted&&!e.profesor.nombre)),c(),p("ngIf",e.submitted&&!e.profesor.nombre),c(4),v("ngModel",e.profesor.descripcion),p("ngClass",I(16,qe,e.submitted&&!e.profesor.descripcion)),c(),p("ngIf",e.submitted&&!e.profesor.descripcion),c(8),v("ngModel",e.profesor.linkedin),c(4),v("ngModel",e.profesor.youtube),c(5),v("ngModel",e.profesor.facebook),c(4),v("ngModel",e.profesor.x),c(5),v("ngModel",e.profesor.instagram),c(4),v("ngModel",e.profesor.correo),c(),D(42,e.profesor.cursos?42:-1)}}function Uo(t,s){if(t&1){let e=h();r(0,"button",96),C("click",function(){_(e);let i=m();return g(i.hideDialog())}),n(),r(1,"button",97),C("click",function(){_(e);let i=m();return g(i.saveAreaCursos())}),n()}}function Ko(t,s){if(t&1&&(r(0,"span"),l(1,"\xBFEsta seguro/a de eliminar este area de cursos "),r(2,"b"),l(3),n(),l(4,"?"),n()),t&2){let e=m();c(3),E(e.profesor.nombre)}}function Xo(t,s){if(t&1){let e=h();r(0,"button",98),C("click",function(){_(e);let i=m();return g(i.deleteProfesorDialog=!1)}),n(),r(1,"button",99),C("click",function(){_(e);let i=m();return g(i.confirmDelete())}),n()}}function Yo(t,s){if(t&1){let e=h();r(0,"button",98),C("click",function(){_(e);let i=m();return g(i.deleteProfesoresDialog=!1)}),n(),r(1,"button",99),C("click",function(){_(e);let i=m();return g(i.confirmDeleteSelected())}),n()}}var Zo=()=>({width:"500px"}),Lt=()=>({width:"450px"}),Wt=(()=>{let s=class s{constructor(o,i,a,f,u){this.profesoresService=o,this.messageService=i,this.datePipe=a,this.tokenService=f,this.loadingService=u,this.profesores=[],this.profesoresEdit=[],this.profesor={},this.selectedProfesores=[],this.profesorDialog=!1,this.deleteProfesorDialog=!1,this.deleteProfesoresDialog=!1,this.submitted=!1,this.cols=[],this.rowsPerPageOptions=[5,10,20]}ngOnInit(){this.loadingService.ejecutarLoading("Cargando profesores..."),this.profesoresService.getProfesores().subscribe({next:o=>y(this,null,function*(){o.length>0?this.profesores=o:this.messageService.add({severity:"warn",summary:"Sin informaci\xF3n",detail:"No tienes profesores registrados",life:3e3}),this.loadingService.finalizarLoading()}),error:o=>{this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:o.statusText,life:3e3}),this.loadingService.finalizarLoading()}}),this.cols=[{field:"profesor",header:"Profesor"}]}openNew(){this.profesor={},this.submitted=!1,this.profesorDialog=!0}deleteSelectedProfesores(){this.deleteProfesoresDialog=!0}editProfesor(o){this.profesor=R({},o),this.profesorDialog=!0}deleteProfesor(o){this.deleteProfesorDialog=!0,this.profesor=R({},o),this.selectedProfesores.push(this.profesor)}confirmDeleteSelected(){return y(this,null,function*(){this.deleteProfesoresDialog=!1,this.selectedProfesores=this.profesoresService.deleteProfesores(this.selectedProfesores),this.profesores=this.profesores.filter(o=>!this.selectedProfesores.includes(o)),this.selectedProfesores=[]})}confirmDelete(){this.deleteProfesorDialog=!1,this.profesoresService.deleteProfesor(this.profesor),this.profesores=this.profesores.filter(o=>o.id!==this.profesor.id),this.profesor={}}hideDialog(){this.profesorDialog=!1,this.submitted=!1}saveAreaCursos(){this.submitted=!0,this.profesoresEdit=this.profesores,this.profesor.codigo?.trim()&&this.profesor.nombre?.trim()&&(this.profesor.id?(this.loadingService.ejecutarLoading("Actualizando profesor..."),this.profesoresService.putProfesor(this.profesor).subscribe({next:o=>y(this,null,function*(){this.profesoresEdit[this.findIndexById(this.profesor.codigo)]=yield this.profesor,this.messageService.add({severity:"success",summary:"Successful",detail:"Profesor Actualizado",life:3e3}),this.loadingService.finalizarLoading()}),error:o=>{if(typeof o.error.statusMessage=="string")this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:o.statusText,life:3e3});else for(let i of o.error.statusMessage.message)this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:i,life:3e3});this.loadingService.finalizarLoading()}})):(this.loadingService.ejecutarLoading("Guardando profesor..."),this.profesoresService.postProfesor(this.profesor).subscribe({next:o=>y(this,null,function*(){o.cursos=[],this.profesoresEdit.push(o),this.messageService.add({severity:"success",summary:"Successful",detail:"Profesor Creado",life:3e3}),this.loadingService.finalizarLoading()}),error:o=>{if(typeof o.error.statusMessage=="string")this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:o.statusText,life:3e3});else for(let i of o.error.statusMessage.message)this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:i,life:3e3});this.loadingService.finalizarLoading()}})),this.profesorDialog=!1)}findIndexById(o){let i=-1;for(let a=0;a<this.profesores.length;a++)if(this.profesores[a].codigo===o){i=a;break}return i}onGlobalFilter(o,i){o.filterGlobal(i.target.value,"contains")}};s.\u0275fac=function(i){return new(i||s)(P(Ee),P(V),P(z),P(N),P(L))},s.\u0275cmp=O({type:s,selectors:[["app-profesores"]],decls:23,vars:18,consts:[[1,"grid"],[1,"col-12","p-0","lg:p-3"],[1,"card","px-3","py-3","lg:px-5","lg:py-5"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[4,"ngIf"],["header","Detalles del Area de Cursos",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["header","Confirmar eliminaci\xF3n",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[1,"my-2"],["pButton","","pRipple","","label","Nueva","icon","pi pi-plus","class","p-button-success mr-2 p-2",3,"click",4,"ngIf"],["pButton","","pRipple","","label","Eliminar","icon","pi pi-trash","class","p-button-danger p-2",3,"disabled","click",4,"ngIf"],["pButton","","pRipple","","label","Nueva","icon","pi pi-plus",1,"p-button-success","mr-2","p-2",3,"click"],["pButton","","pRipple","","label","Eliminar","icon","pi pi-trash",1,"p-button-danger","p-2",3,"disabled","click"],["class","m-0",4,"ngIf"],[1,"m-0"],["scrollDirection","both","scrollHeight","400px","responsiveLayout","scroll","currentPageReportTemplate","Viendo {first} a {last} de {totalRecords} profesores","selectionMode","multiple","dataKey","id",3,"value","scrollable","columns","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","selection","rowHover","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar...",1,"w-full","sm:w-auto",3,"input"],["style","width: 3rem",4,"ngIf"],[1,"text-center"],[2,"width","3rem"],[1,"flex","flex-column","xl:flex-row","xl:align-items-start","p-4","gap-4","align-items-center"],[1,"flex","flex-row","justify-content-between","align-items-start","flex-1","gap-4"],[1,"flex","flex-column","align-items-center","sm:align-items-start","gap-3"],[1,"text-2xl","font-bold","text-900"],[1,"font-bold"],[1,"text-1","text-700"],["target","_blank","rel","noopener noreferrer",1,"m-2",3,"href"],[1,"pi","pi-facebook","m.2",2,"font-size","1.8rem","color","#3b5998"],[1,"pi","pi-linkedin",2,"font-size","1.8rem","color","#0e76a8"],[1,"pi","pi-youtube",2,"font-size","1.8rem","color","#c4302b"],[1,"pi","pi-instagram","p-1",2,"font-size","1.5rem","color","#ffffff","background","#f09433","background","-moz-linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%)","background","-webkit-linear-gradient(45deg, #f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%)","background","linear-gradient(45deg, #f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%)","filter","progid:DXImageTransform.Microsoft.gradient( startColorstr='#f09433', endColorstr='#bc1888',GradientType=1 )"],["xmlns","http://www.w3.org/2000/svg","width","22","height","22","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-twitter-x","p-1",2,"color","#ffffff","background-color","#000000"],["d","M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865z"],[1,"pi","pi-envelope",2,"font-size","1.8rem","color","#c4302b"],[1,"flex","flex-column"],["class","flex",4,"ngIf"],[1,"mt-4"],[3,"value"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-warning",3,"click"],["class","field"],[1,"field"],["for","nombre"],["type","text","pInputText","","id","name","maxlength","200","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","descripcion"],["id","descripcion","pInputTextarea","","maxlength","500","required","","autofocus","","rows","3","cols","20",3,"ngModel","ngClass","ngModelChange"],[1,"formgrid","grid"],[1,"field","col"],["for","linkedin"],["type","text","pInputText","","id","linkedin","maxlength","150","autofocus","",3,"ngModel","ngModelChange"],["for","youtube"],["type","text","pInputText","","id","youtube","maxlength","200","autofocus","",3,"ngModel","ngModelChange"],["for","facebook"],["type","text","pInputText","","id","facebook","maxlength","150","autofocus","",3,"ngModel","ngModelChange"],["for","x"],["type","text","pInputText","","id","x","maxlength","200","autofocus","",3,"ngModel","ngModelChange"],["for","instagram"],["type","text","pInputText","","id","instagram","maxlength","150","autofocus","",3,"ngModel","ngModelChange"],["for","correo"],["type","email","pInputText","","id","correo","maxlength","200","autofocus","",3,"ngModel","ngModelChange"],["responsiveLayout","scroll","currentPageReportTemplate","Viendo {first} a {last} de {totalRecords} cursos","dataKey","id",3,"value","columns","rows","paginator","rowsPerPageOptions","showCurrentPageReport","rowHover"],["for","codigo"],["type","text","pInputText","","id","codigo","disabled","","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["type","text","pInputText","","id","codigo","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],[1,"ng-dirty","ng-invalid"],["pSortableColumn","codigo"],["field","codigo"],["pSortableColumn","nombre"],["field","nombre"],["pSortableColumn","descripcion"],["field","descripcion"],["pSortableColumn","linkCurso"],["field","linkCurso"],["pSortableColumn","descargarCurso"],["field","descargarCurso"],["pSortableColumn","creacion"],["field","creacion"],["pSortableColumn","actualizacion"],["field","actualizacion"],[2,"width","14%","min-width","10rem"],[1,"p-column-title"],[2,"width","50%","min-width","16rem"],["pButton","","pRipple","","label","Cancelar","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Guardar","icon","pi pi-check",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Si",1,"p-button-text",3,"click"]],template:function(i,a){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),x(3,"p-toast"),r(4,"p-toolbar",3),d(5,wo,3,2,"ng-template",4)(6,To,1,1,"ng-template",5),n(),d(7,Lo,6,12,"ng-container",6)(8,Ro,3,0,"ng-container",6),n(),r(9,"p-dialog",7),S("visibleChange",function(u){return b(a.profesorDialog,u)||(a.profesorDialog=u),u}),d(10,Go,43,18,"ng-template",8)(11,Uo,2,0,"ng-template",9),n(),r(12,"p-dialog",10),S("visibleChange",function(u){return b(a.deleteProfesorDialog,u)||(a.deleteProfesorDialog=u),u}),r(13,"div",11),x(14,"i",12),d(15,Ko,5,1,"span",6),n(),d(16,Xo,2,0,"ng-template",9),n(),r(17,"p-dialog",10),S("visibleChange",function(u){return b(a.deleteProfesoresDialog,u)||(a.deleteProfesoresDialog=u),u}),r(18,"div",11),x(19,"i",12),r(20,"span"),l(21,"\xBFEsta seguro/a de eliminar las areas de cursos seleccionadas?"),n()(),d(22,Yo,2,0,"ng-template",9),n()()()),i&2&&(c(7),p("ngIf",a.profesores&&a.profesores.length>0),c(),p("ngIf",!(a.profesores&&a.profesores.length>0)),c(),A(T(15,Zo)),v("visible",a.profesorDialog),p("modal",!0),c(3),A(T(16,Lt)),v("visible",a.deleteProfesorDialog),p("modal",!0),c(3),p("ngIf",a.profesor),c(2),A(T(17,Lt)),v("visible",a.deleteProfesoresDialog),p("modal",!0))},dependencies:[$,ee,ie,ne,te,K,X,Q,Z,se,he,ve,le,ce,J,me,pe,ae,fe,de]});let t=s;return t})();var Ft=(()=>{let s=class s{};s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=Te({type:s}),s.\u0275inj=Pe({imports:[Ge.forChild([{path:"cursos",component:It},{path:"rutas",component:kt},{path:"areascursos",component:Dt},{path:"profesores",component:Wt},{path:"plataformas",component:wt}]),Ge]});let t=s;return t})();var ba=(()=>{let s=class s{};s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=Te({type:s}),s.\u0275inj=Pe({providers:[be,V,we,Ee,ye,z,Ne,N],imports:[Ue,nt,$e,Oe,Ft,tt,ft,Oe,lt,xt,Ue,et,ct,mt,Ct,at,pt,rt,ht,st,dt,gt,ut,vt]});let t=s;return t})();export{ba as CursosOnlineModule};
