import{a as tt,b as it,c as ot,d as ae,e as ge,f as xe,g as se,h as le,i as rt,j as ce,k as st,l as ue,m as lt,n as pe,o as mt,p as Ee,q as ct,r as pt,s as dt,t as ut,u as _t,v as ft,w as gt,x as xt}from"./chunk-IX2OBD6P.js";import{A as q,Aa as fe,Ac as me,B as Se,Bc as at,D as u,E as _,F as Ke,Fa as G,G as Xe,Ga as l,Ha as E,I as O,Ia as w,Ib as ze,J as we,Ja as H,Jb as j,Ka as h,La as b,Ma as y,O as D,Pa as T,Qa as P,Qb as k,T as L,V as m,Vb as Y,W as M,a as R,ac as Z,bb as U,bc as Je,cb as Ye,cc as J,d as S,db as K,dc as Qe,fc as Q,gb as N,ha as d,hb as He,hc as $,ic as ee,ja as p,jb as B,jc as $e,kb as X,kc as te,ma as V,mb as Ze,mc as ie,nc as qe,oa as A,oc as et,pa as r,pc as I,qa as n,qc as ne,ra as g,rc as oe,sa as W,ta as F,va as C,vc as re,wa as x,wc as nt,xa as c}from"./chunk-FEXNXU6M.js";var Ce=(()=>{let s=class s extends ne{constructor(o,i,a){super(o,a),this.messageService=i}getPlataforms(){return this.http.get(`${I.microproxy_cursos}plataformas`)}postPlataform(o){return this.http.post(`${I.microproxy_cursos}plataformas`,o)}putPlataform(o){return this.http.put(`${I.microproxy_cursos}plataformas`,o)}deletePlataforms(o){for(let i of o)if(i.cursosPlataforma&&i.cursosPlataforma.length>0)this.messageService.add({severity:"error",summary:"Plataforma con cursos",detail:`La plataforma ${i.nombre} tiene cursos asginados, por lo cual no se puede eliminar`,life:3e3}),o=o.filter(a=>a.id!=i.id);else{let a={headers:new B({"Content-Type":"application/json"}),body:i};this.http.delete(`${I.microproxy_cursos}plataformas`,a).subscribe({next:v=>S(this,null,function*(){console.log("Solicitud DELETE exitosa",v),this.messageService.add({severity:"success",summary:"Eliminada",detail:`Plataforma ${i.nombre} eliminada`,life:3e3})}),error:v=>{console.log("Solicitud DELETE error",v),o=o.filter(f=>f.id!=i.id),this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:v.statusText,life:3e3})}})}return o}deletePlataform(o){if(o.cursosPlataforma&&o.cursosPlataforma.length>0)this.messageService.add({severity:"error",summary:"Plataforma con cursos",detail:`La plataforma ${o.nombre} tiene cursos asginados, por lo cual no se puede eliminar`,life:3e3});else{let i={headers:new B({"Content-Type":"application/json"}),body:o};this.http.delete(`${I.microproxy_cursos}plataformas`,i).subscribe({next:a=>S(this,null,function*(){console.log("Solicitud DELETE exitosa",a),this.messageService.add({severity:"success",summary:"Eliminada",detail:`Plataforma ${o.nombre} eliminada`,life:3e3})}),error:a=>{console.log("Solicitud DELETE error",a),this.messageService.add({severity:"error",summary:"Error Eliminar",detail:`Error al eliminar la plataforma ${o.nombre}`,life:3e3})}})}}};s.\u0275fac=function(i){return new(i||s)(D(X),D(k),D(oe))},s.\u0275prov=O({token:s,factory:s.\u0275fac});let t=s;return t})();function Bt(t,s){if(t&1){let e=C();r(0,"button",16),x("click",function(){u(e);let i=c(2);return _(i.openNew())}),n()}}function Lt(t,s){if(t&1){let e=C();r(0,"button",17),x("click",function(){u(e);let i=c(2);return _(i.deleteSelectedPlataformas())}),n()}if(t&2){let e=c(2);p("disabled",!e.selectedPlataformas||!e.selectedPlataformas.length)}}function Nt(t,s){if(t&1&&(r(0,"div",13),d(1,Bt,1,0,"button",14)(2,Lt,1,1,"button",15),n()),t&2){let e=c();m(),p("ngIf",e.tokenService.isAdmin()),m(),p("ngIf",e.tokenService.isAdmin()&&e.plataformas&&e.plataformas.length>0)}}function jt(t,s){if(t&1&&(r(0,"h5",19),l(1),n()),t&2){let e=c(2);m(),w("Total ",e.plataformas.length," Plataformas")}}function Ht(t,s){if(t&1&&d(0,jt,2,1,"h5",18),t&2){let e=c();p("ngIf",e.plataformas&&e.plataformas.length>0)}}function zt(t,s){if(t&1){let e=C();r(0,"div",25)(1,"h5",19),l(2,"Plataformas"),n(),r(3,"span",26),g(4,"i",27),r(5,"input",28),x("input",function(i){u(e),c();let a=G(2),v=c();return _(v.onGlobalFilter(a,i))}),n()()()}}function qt(t,s){t&1&&(r(0,"th",31),g(1,"p-tableHeaderCheckbox"),n())}function Ot(t,s){if(t&1&&(r(0,"tr"),d(1,qt,2,0,"th",29),r(2,"th",30),l(3,"Plataforma"),n()()),t&2){let e=c(2);m(),p("ngIf",e.tokenService.isAdmin())}}function Gt(t,s){if(t&1&&(r(0,"td"),g(1,"p-tableCheckbox",45),n()),t&2){let e=c().$implicit;m(),p("value",e)}}function Ut(t,s){if(t&1){let e=C();r(0,"div",46)(1,"button",47),x("click",function(){u(e);let i=c().$implicit,a=c(2);return _(a.editPlataforma(i))}),n(),r(2,"button",48),x("click",function(){u(e);let i=c().$implicit,a=c(2);return _(a.deletePlataforma(i))}),n()()}}function Kt(t,s){if(t&1&&(r(0,"tr"),d(1,Gt,2,1,"td",6),r(2,"td")(3,"div",32),g(4,"img",33),r(5,"div",34)(6,"div",35)(7,"div",36),l(8),n(),r(9,"div")(10,"p")(11,"span",37),l(12,"Cursos: "),n(),l(13),n()(),r(14,"div",38)(15,"p"),l(16),n()(),r(17,"div",39)(18,"a",40),g(19,"button",41),n()()(),r(20,"div",42),d(21,Ut,3,0,"div",43),r(22,"div",44)(23,"p")(24,"span",37),l(25,"Creado el: "),n(),l(26),n()(),r(27,"div")(28,"p")(29,"span",37),l(30,"Ultima actualizaci\xF3n: "),n(),l(31),n()()()()()()()),t&2){let e=s.$implicit,o=c(2);m(),p("ngIf",o.tokenService.isAdmin()),m(3),p("src",e.logo,L)("alt",e.nombre),m(4),H("",e.codigo,"-",e.nombre,""),m(5),E(e.cursosPlataforma?e.cursosPlataforma.length:0),m(3),E(e.descripcion),m(2),p("href",e.link,L),m(3),p("ngIf",o.tokenService.isAdmin()),m(5),E(o.datePipe.transform(e.createdAt,"dd/MM/yyyy HH:MM:SS")),m(5),E(o.datePipe.transform(e.updateAt,"dd/MM/yyyy HH:MM:SS"))}}var Xt=()=>["codigo","nombre","descripcion"],bt=()=>[10,20,30];function Yt(t,s){if(t&1){let e=C();W(0),r(1,"p-table",20,21),y("selectionChange",function(i){u(e);let a=c();return b(a.selectedPlataformas,i)||(a.selectedPlataformas=i),_(i)}),d(3,zt,6,0,"ng-template",22)(4,Ot,4,1,"ng-template",23)(5,Kt,32,11,"ng-template",24),n(),F()}if(t&2){let e=c();m(),p("value",e.plataformas)("scrollable",!0)("columns",e.cols)("rows",2)("globalFilterFields",T(10,Xt))("paginator",!0)("rowsPerPageOptions",T(11,bt))("showCurrentPageReport",!0),h("selection",e.selectedPlataformas),p("rowHover",!0)}}function Zt(t,s){t&1&&(W(0),r(1,"h1",30),l(2,"No tienes plataformas registradas"),n(),F())}function Jt(t,s){if(t&1&&g(0,"img",64),t&2){let e=c(2);p("src",e.plataforma.logo,L)("alt",e.plataforma.logo)}}var he=t=>({"ng-invalid ng-dirty":t});function Qt(t,s){if(t&1){let e=C();r(0,"div",51)(1,"label",65),l(2,"Codigo"),n(),r(3,"input",66),y("ngModelChange",function(i){u(e);let a=c(2);return b(a.plataforma.codigo,i)||(a.plataforma.codigo=i),_(i)}),n()()}if(t&2){let e=c(2);m(3),h("ngModel",e.plataforma.codigo),p("ngClass",P(2,he,e.submitted&&!e.plataforma.codigo))}}function $t(t,s){t&1&&(r(0,"small",68),l(1,"El codigo es requerido."),n())}function ei(t,s){if(t&1){let e=C();r(0,"div",51)(1,"label",65),l(2,"Codigo"),n(),r(3,"input",67),y("ngModelChange",function(i){u(e);let a=c(2);return b(a.plataforma.codigo,i)||(a.plataforma.codigo=i),_(i)}),n(),d(4,$t,2,0,"small",54),n()}if(t&2){let e=c(2);m(3),h("ngModel",e.plataforma.codigo),p("ngClass",P(3,he,e.submitted&&!e.plataforma.codigo)),m(),p("ngIf",e.submitted&&!e.plataforma.codigo)}}function ti(t,s){t&1&&(r(0,"small",68),l(1,"El nombre es requerido."),n())}function ii(t,s){t&1&&(r(0,"small",68),l(1,"La descripci\xF3n es requerida."),n())}function ni(t,s){t&1&&(r(0,"small",68),l(1,"El logo es requerido."),n())}function oi(t,s){t&1&&(r(0,"small",68),l(1,"El link es requerido."),n())}function ri(t,s){t&1&&(r(0,"div",25)(1,"h5",19),l(2,"Cursos"),n()())}function ai(t,s){t&1&&(r(0,"tr")(1,"th",69),l(2,"Codigo "),g(3,"p-sortIcon",70),n(),r(4,"th",71),l(5,"Nombre "),g(6,"p-sortIcon",72),n(),r(7,"th",73),l(8,"Descripci\xF3n "),g(9,"p-sortIcon",74),n(),r(10,"th",73),l(11,"Nivel "),g(12,"p-sortIcon",74),n(),r(13,"th",75),l(14,"Curso Plataforma "),g(15,"p-sortIcon",76),n(),r(16,"th",77),l(17,"Descargar Curso "),g(18,"p-sortIcon",78),n(),r(19,"th",79),l(20,"Creaci\xF3n "),g(21,"p-sortIcon",80),n(),r(22,"th",81),l(23,"Actualizaci\xF3n "),g(24,"p-sortIcon",82),n()())}function si(t,s){if(t&1&&(r(0,"tr")(1,"td",83)(2,"span",84),l(3,"Codigo"),n(),l(4),n(),r(5,"td",83)(6,"span",84),l(7,"Nombre"),n(),l(8),n(),r(9,"td",83)(10,"span",84),l(11,"Descripci\xF3n"),n(),l(12),n(),r(13,"td",83)(14,"span",84),l(15,"Nivel"),n(),l(16),n(),r(17,"td",83)(18,"span",84),l(19,"Curso Plataforma"),n(),l(20),n(),r(21,"td",83)(22,"span",84),l(23,"Descargar Curso"),n(),l(24),n(),r(25,"td",85)(26,"span",84),l(27,"Creaci\xF3n"),n(),l(28),n(),r(29,"td",85)(30,"span",84),l(31,"Actualizaci\xF3n"),n(),l(32),n()()),t&2){let e=s.$implicit;m(4),w(" ",e.codigo," "),m(4),w(" ",e.nombre," "),m(4),w(" ",e.descripcion," "),m(4),w(" ",e.nivel," "),m(4),w(" ",e.linkCurso," "),m(4),w(" ",e.linkCursoTeleg," "),m(4),w(" ",e.createdAt," "),m(4),w(" ",e.updateAt," ")}}function li(t,s){if(t&1&&(r(0,"p-table",63,21),d(2,ri,3,0,"ng-template",22)(3,ai,25,0,"ng-template",23)(4,si,33,8,"ng-template",24),n()),t&2){let e=c(2);p("value",e.plataforma.cursosPlataforma)("columns",e.cols)("rows",10)("paginator",!0)("rowsPerPageOptions",T(7,bt))("showCurrentPageReport",!0)("rowHover",!0)}}function mi(t,s){if(t&1){let e=C();d(0,Jt,1,2,"img",49)(1,Qt,4,4,"div",50)(2,ei,5,5),r(3,"div",51)(4,"label",52),l(5,"Nombre"),n(),r(6,"input",53),y("ngModelChange",function(i){u(e);let a=c();return b(a.plataforma.nombre,i)||(a.plataforma.nombre=i),_(i)}),n(),d(7,ti,2,0,"small",54),n(),r(8,"div",51)(9,"label",55),l(10,"Descripci\xF3n"),n(),r(11,"textarea",56),y("ngModelChange",function(i){u(e);let a=c();return b(a.plataforma.descripcion,i)||(a.plataforma.descripcion=i),_(i)}),n(),d(12,ii,2,0,"small",54),n(),r(13,"div",57)(14,"div",58)(15,"label",59),l(16,"Logo"),n(),r(17,"input",60),y("ngModelChange",function(i){u(e);let a=c();return b(a.plataforma.logo,i)||(a.plataforma.logo=i),_(i)}),n(),d(18,ni,2,0,"small",54),n(),r(19,"div",58)(20,"label",61),l(21,"Link"),n(),r(22,"input",62),y("ngModelChange",function(i){u(e);let a=c();return b(a.plataforma.link,i)||(a.plataforma.link=i),_(i)}),n(),d(23,oi,2,0,"small",54),n()(),d(24,li,5,8,"p-table",63)}if(t&2){let e=c();p("ngIf",e.plataforma.logo),m(),A(1,e.plataforma.id?1:2),m(5),h("ngModel",e.plataforma.nombre),p("ngClass",P(15,he,e.submitted&&!e.plataforma.nombre)),m(),p("ngIf",e.submitted&&!e.plataforma.nombre),m(4),h("ngModel",e.plataforma.descripcion),p("ngClass",P(17,he,e.submitted&&!e.plataforma.descripcion)),m(),p("ngIf",e.submitted&&!e.plataforma.descripcion),m(5),h("ngModel",e.plataforma.logo),p("ngClass",P(19,he,e.submitted&&!e.plataforma.logo)),m(),p("ngIf",e.submitted&&!e.plataforma.logo),m(4),h("ngModel",e.plataforma.link),p("ngClass",P(21,he,e.submitted&&!e.plataforma.link)),m(),p("ngIf",e.submitted&&!e.plataforma.link),m(),A(24,e.plataforma.cursosPlataforma?24:-1)}}function ci(t,s){if(t&1){let e=C();r(0,"button",86),x("click",function(){u(e);let i=c();return _(i.hideDialog())}),n(),r(1,"button",87),x("click",function(){u(e);let i=c();return _(i.savePlataform())}),n()}}function pi(t,s){if(t&1&&(r(0,"span"),l(1,"\xBFEsta seguro/a de eliminar la plataforma "),r(2,"b"),l(3),n(),l(4,"?"),n()),t&2){let e=c();m(3),E(e.plataforma.nombre)}}function di(t,s){if(t&1){let e=C();r(0,"button",88),x("click",function(){u(e);let i=c();return _(i.deletePlataformaDialog=!1)}),n(),r(1,"button",89),x("click",function(){u(e);let i=c();return _(i.confirmDelete())}),n()}}function ui(t,s){if(t&1){let e=C();r(0,"button",88),x("click",function(){u(e);let i=c();return _(i.deletePlataformasDialog=!1)}),n(),r(1,"button",89),x("click",function(){u(e);let i=c();return _(i.confirmDeleteSelected())}),n()}}var _i=()=>({width:"500px"}),ht=()=>({width:"450px"}),yt=(()=>{let s=class s{constructor(o,i,a,v){this.plataformasService=o,this.messageService=i,this.datePipe=a,this.tokenService=v,this.plataformas=[],this.plataformasEdit=[],this.plataforma={},this.selectedPlataformas=[],this.plataformaDialog=!1,this.deletePlataformaDialog=!1,this.deletePlataformasDialog=!1,this.submitted=!1,this.cols=[],this.rowsPerPageOptions=[5,10,20]}ngOnInit(){this.plataformasService.getPlataforms().subscribe({next:o=>S(this,null,function*(){o.length>0?this.plataformas=o:this.messageService.add({severity:"warn",summary:"Sin informaci\xF3n",detail:"No tienes plataformas registradas",life:3e3})}),error:o=>{this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:o.statusText,life:3e3})}}),this.cols=[{field:"codigo",header:"Codigo"},{field:"nombre",header:"Nombre"},{field:"descripcion",header:"Descripci\xF3n"},{field:"logo",header:"Logo"},{field:"link",header:"Link"},{field:"cursos",header:"Cursos"},{field:"creacion",header:"Creaci\xF3n"},{field:"actualizacion",header:"Actualizaci\xF3n"}]}openNew(){this.plataforma={},this.submitted=!1,this.plataformaDialog=!0}deleteSelectedPlataformas(){this.deletePlataformasDialog=!0}editPlataforma(o){this.plataforma=R({},o),this.plataformaDialog=!0}deletePlataforma(o){this.deletePlataformaDialog=!0,this.plataforma=R({},o),this.selectedPlataformas.push(this.plataforma)}confirmDeleteSelected(){return S(this,null,function*(){this.deletePlataformasDialog=!1,this.selectedPlataformas=this.plataformasService.deletePlataforms(this.selectedPlataformas),this.plataformas=this.plataformas.filter(o=>!this.selectedPlataformas.includes(o)),this.selectedPlataformas=[]})}confirmDelete(){this.deletePlataformaDialog=!1,this.plataformasService.deletePlataform(this.plataforma),this.plataformas=this.plataformas.filter(o=>o.id!==this.plataforma.id),this.plataforma={}}hideDialog(){this.plataformaDialog=!1,this.submitted=!1}savePlataform(){this.submitted=!0,this.plataformasEdit=this.plataformas,this.plataforma.codigo?.trim()&&this.plataforma.nombre?.trim()&&this.plataforma.descripcion?.trim()&&this.plataforma.logo?.trim()&&(this.plataforma.id?this.plataformasService.putPlataform(this.plataforma).subscribe({next:o=>S(this,null,function*(){this.plataformasEdit[this.findIndexById(this.plataforma.codigo)]=yield this.plataforma,this.messageService.add({severity:"success",summary:"Successful",detail:"Plataforma Actualizada",life:3e3})}),error:o=>{if(typeof o.error.statusMessage=="string")this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:o.statusText,life:3e3});else for(let i of o.error.statusMessage.message)this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:i,life:3e3})}}):this.plataformasService.postPlataform(this.plataforma).subscribe({next:o=>S(this,null,function*(){o.cursosPlataforma=[],this.plataformasEdit.push(o),this.messageService.add({severity:"success",summary:"Successful",detail:"Plataforma Creada",life:3e3})}),error:o=>{if(typeof o.error.statusMessage=="string")this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:o.statusText,life:3e3});else for(let i of o.error.statusMessage.message)this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:i,life:3e3})}}),this.plataformaDialog=!1)}findIndexById(o){let i=-1;for(let a=0;a<this.plataformas.length;a++)if(this.plataformas[a].codigo===o){i=a;break}return i}onGlobalFilter(o,i){o.filterGlobal(i.target.value,"contains")}};s.\u0275fac=function(i){return new(i||s)(M(Ce),M(k),M(N),M(j))},s.\u0275cmp=q({type:s,selectors:[["app-plataformas"]],decls:23,vars:18,consts:[[1,"grid"],[1,"col-12","p-0","lg:p-3"],[1,"card","px-3","py-3","lg:px-5","lg:py-5"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[4,"ngIf"],["header","Detalles de la Plataforma",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["header","Confirmar eliminaci\xF3n",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[1,"my-2"],["pButton","","pRipple","","label","Nueva","icon","pi pi-plus","class","p-button-success mr-2 p-2",3,"click",4,"ngIf"],["pButton","","pRipple","","label","Eliminar","icon","pi pi-trash","class","p-button-danger p-2",3,"disabled","click",4,"ngIf"],["pButton","","pRipple","","label","Nueva","icon","pi pi-plus",1,"p-button-success","mr-2","p-2",3,"click"],["pButton","","pRipple","","label","Eliminar","icon","pi pi-trash",1,"p-button-danger","p-2",3,"disabled","click"],["class","m-0",4,"ngIf"],[1,"m-0"],["scrollDirection","both","scrollHeight","400px","responsiveLayout","scroll","currentPageReportTemplate","Viendo {first} a {last} de {totalRecords} plataformas","selectionMode","multiple","dataKey","id",3,"value","scrollable","columns","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","selection","rowHover","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar...",1,"w-full","sm:w-auto",3,"input"],["style","width: 3rem",4,"ngIf"],[1,"text-center"],[2,"width","3rem"],[1,"flex","flex-row","xl:align-items-start","p-4","gap-4","align-items-center",2,"width","600px !important"],[1,"w-2","shadow-2","block","xl:block","mx-auto","border-round",3,"src","alt"],[1,"flex","flex-row","justify-content-between","align-items-start","flex-1","gap-4"],[1,"flex","flex-column","align-items-center","sm:align-items-start","gap-2"],[1,"text-2xl","font-bold","text-900"],[1,"font-bold"],[1,"text-1","text-700"],[1,"flex","align-items-center","gap-3"],["target","_blank","rel","noopener noreferrer",3,"href"],["pButton","","pRipple","","label","Ir a la plataforma",1,"p-button-info"],[1,"flex","flex-column"],["class","flex",4,"ngIf"],[1,"mt-4"],[3,"value"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-warning",3,"click"],["width","100","class","mt-0 mx-auto mb-5 block shadow-2",3,"src","alt",4,"ngIf"],["class","field"],[1,"field"],["for","nombre"],["type","text","pInputText","","id","name","maxlength","200","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","descripcion"],["id","descripcion","pInputTextarea","","maxlength","500","required","","autofocus","","rows","3","cols","20",3,"ngModel","ngClass","ngModelChange"],[1,"formgrid","grid"],[1,"field","col"],["for","logo"],["type","text","pInputText","","id","logo","maxlength","150","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","link"],["type","text","pInputText","","id","link","maxlength","200","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["responsiveLayout","scroll","currentPageReportTemplate","Viendo {first} a {last} de {totalRecords} cursos","dataKey","id",3,"value","columns","rows","paginator","rowsPerPageOptions","showCurrentPageReport","rowHover"],["width","100",1,"mt-0","mx-auto","mb-5","block","shadow-2",3,"src","alt"],["for","codigo"],["type","text","pInputText","","id","codigo","disabled","","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["type","text","pInputText","","id","codigo","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],[1,"ng-dirty","ng-invalid"],["pSortableColumn","codigo"],["field","codigo"],["pSortableColumn","nombre"],["field","nombre"],["pSortableColumn","descripcion"],["field","descripcion"],["pSortableColumn","linkCurso"],["field","linkCurso"],["pSortableColumn","descargarCurso"],["field","descargarCurso"],["pSortableColumn","creacion"],["field","creacion"],["pSortableColumn","actualizacion"],["field","actualizacion"],[2,"width","14%","min-width","10rem"],[1,"p-column-title"],[2,"width","50%","min-width","16rem"],["pButton","","pRipple","","label","Cancelar","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Guardar","icon","pi pi-check",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Si",1,"p-button-text",3,"click"]],template:function(i,a){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),g(3,"p-toast"),r(4,"p-toolbar",3),d(5,Nt,3,2,"ng-template",4)(6,Ht,1,1,"ng-template",5),n(),d(7,Yt,6,12,"ng-container",6)(8,Zt,3,0,"ng-container",6),n(),r(9,"p-dialog",7),y("visibleChange",function(f){return b(a.plataformaDialog,f)||(a.plataformaDialog=f),f}),d(10,mi,25,23,"ng-template",8)(11,ci,2,0,"ng-template",9),n(),r(12,"p-dialog",10),y("visibleChange",function(f){return b(a.deletePlataformaDialog,f)||(a.deletePlataformaDialog=f),f}),r(13,"div",11),g(14,"i",12),d(15,pi,5,1,"span",6),n(),d(16,di,2,0,"ng-template",9),n(),r(17,"p-dialog",10),y("visibleChange",function(f){return b(a.deletePlataformasDialog,f)||(a.deletePlataformasDialog=f),f}),r(18,"div",11),g(19,"i",12),r(20,"span"),l(21,"\xBFEsta seguro/a de eliminar las plataformas seleccionadas?"),n()(),d(22,ui,2,0,"ng-template",9),n()()()),i&2&&(m(7),p("ngIf",a.plataformas&&a.plataformas.length>0),m(),p("ngIf",!(a.plataformas&&a.plataformas.length>0)),m(),V(T(15,_i)),h("visible",a.plataformaDialog),p("modal",!0),m(3),V(T(16,ht)),h("visible",a.deletePlataformaDialog),p("modal",!0),m(3),p("ngIf",a.plataforma),m(2),V(T(17,ht)),h("visible",a.deletePlataformasDialog),p("modal",!0))},dependencies:[Q,$,te,ie,ee,U,K,J,Y,ae,ge,xe,se,le,Z,me,ce,re,ue,pe]});let t=s;return t})();var be=(()=>{let s=class s extends ne{constructor(o,i,a){super(o,a),this.messageService=i}getCursos(){return this.http.get(`${I.microproxy_cursos}cursos`)}postCurso(o){return this.http.post(`${I.microproxy_cursos}cursos`,o)}putCurso(o){return this.http.put(`${I.microproxy_cursos}cursos`,o)}deleteCursos(o){for(let i of o)if(i.rutas&&i.rutas.length>0)this.messageService.add({severity:"error",summary:"Curso en rutas",detail:`El curso ${i.nombre} pertenece a rutas de aprendizaje`,life:3e3}),o=o.filter(a=>a.id!=i.id);else{let a={headers:new B({"Content-Type":"application/json"}),body:i};this.http.delete(`${I.microproxy_cursos}cursos`,a).subscribe({next:v=>S(this,null,function*(){console.log("Solicitud DELETE exitosa",v),this.messageService.add({severity:"success",summary:"Eliminado",detail:`Curso ${i.nombre} eliminado`,life:3e3})}),error:v=>{console.log("Solicitud DELETE error",v),o=o.filter(f=>f.id!=i.id),this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:v.statusText,life:3e3})}})}return o}deleteCurso(o){if(o.rutas&&o.rutas.length>0)this.messageService.add({severity:"error",summary:"Curso en rutas",detail:`El curso ${o.nombre} pertenece a rutas de aprendizaje`,life:3e3});else{let i={headers:new B({"Content-Type":"application/json"}),body:o};this.http.delete(`${I.microproxy_cursos}cursos`,i).subscribe({next:a=>S(this,null,function*(){console.log("Solicitud DELETE exitosa",a),this.messageService.add({severity:"success",summary:"Eliminado",detail:`Curso ${o.nombre} eliminado`,life:3e3})}),error:a=>{console.log("Solicitud DELETE error",a),this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:a.statusText,life:3e3})}})}}};s.\u0275fac=function(i){return new(i||s)(D(X),D(k),D(oe))},s.\u0275prov=O({token:s,factory:s.\u0275fac});let t=s;return t})();var ye=(()=>{let s=class s extends ne{constructor(o,i,a){super(o,a),this.messageService=i}getAreasCursos(){return this.http.get(`${I.microproxy_cursos}area-curso`)}postAreaCursos(o){return this.http.post(`${I.microproxy_cursos}area-curso`,o)}putAreaCursos(o){return this.http.put(`${I.microproxy_cursos}area-curso`,o)}deleteAreasCursos(o){for(let i of o)if(i.cursos&&i.cursos.length>0)this.messageService.add({severity:"error",summary:"Area de cursos con cursos",detail:`El area de cursos ${i.nombre} tiene cursos asginados, por lo cual no se puede eliminar`,life:3e3}),o=o.filter(a=>a.id!==i.id);else{let a={headers:new B({"Content-Type":"application/json"}),body:i};this.http.delete(`${I.microproxy_cursos}area-curso`,a).subscribe({next:v=>S(this,null,function*(){console.log("Solicitud DELETE exitosa",v),this.messageService.add({severity:"success",summary:"Eliminada",detail:`Area de cursos ${i.nombre} eliminada`,life:3e3})}),error:v=>{console.log("Solicitud DELETE error",v),o=o.filter(f=>f.id!==i.id),this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:v.statusText,life:3e3})}})}return o}deleteAreaCursos(o){if(o.cursos&&o.cursos.length>0)this.messageService.add({severity:"error",summary:"Area de cursos con cursos",detail:`El area de cursos ${o.nombre} tiene cursos asginados, por lo cual no se puede eliminar`,life:3e3});else{let i={headers:new B({"Content-Type":"application/json"}),body:o};this.http.delete(`${I.microproxy_cursos}area-curso`,i).subscribe({next:a=>S(this,null,function*(){console.log("Solicitud DELETE exitosa",a),this.messageService.add({severity:"success",summary:"Eliminada",detail:`Area de cursos ${o.nombre} eliminada`,life:3e3})}),error:a=>{console.log("Solicitud DELETE error",a),this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:a.statusText,life:3e3})}})}}};s.\u0275fac=function(i){return new(i||s)(D(X),D(k),D(oe))},s.\u0275prov=O({token:s,factory:s.\u0275fac});let t=s;return t})();var ve=(()=>{let s=class s extends ne{constructor(o,i,a){super(o,a),this.messageService=i}getProfesores(){return this.http.get(`${I.microproxy_cursos}profesores`)}postProfesor(o){return this.http.post(`${I.microproxy_cursos}profesores`,o)}putProfesor(o){return this.http.put(`${I.microproxy_cursos}profesores`,o)}deleteProfesores(o){for(let i of o)if(i.cursos&&i.cursos.length>0)this.messageService.add({severity:"error",summary:"Profesor con cursos",detail:`El profesor ${i.nombre} tiene cursos asginados, por lo cual no se puede eliminar`,life:3e3}),o=o.filter(a=>a.id!==i.id);else{let a={headers:new B({"Content-Type":"application/json"}),body:i};this.http.delete(`${I.microproxy_cursos}profesores`,a).subscribe({next:v=>S(this,null,function*(){console.log("Solicitud DELETE exitosa",v),this.messageService.add({severity:"success",summary:"Eliminada",detail:`Profesor ${i.nombre} eliminado`,life:3e3})}),error:v=>{console.log("Solicitud DELETE error",v),o=o.filter(f=>f.id!==i.id),this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:v.statusText,life:3e3})}})}return o}deleteProfesor(o){if(o.cursos&&o.cursos.length>0)this.messageService.add({severity:"error",summary:"Profesor con cursos",detail:`El profesor ${o.nombre} tiene cursos asginados, por lo cual no se puede eliminar`,life:3e3});else{let i={headers:new B({"Content-Type":"application/json"}),body:o};this.http.delete(`${I.microproxy_cursos}profesores`,i).subscribe({next:a=>S(this,null,function*(){console.log("Solicitud DELETE exitosa",a),this.messageService.add({severity:"success",summary:"Eliminada",detail:`Profesor ${o.nombre} eliminado`,life:3e3})}),error:a=>{console.log("Solicitud DELETE error",a),this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:a.statusText,life:3e3})}})}}};s.\u0275fac=function(i){return new(i||s)(D(X),D(k),D(oe))},s.\u0275prov=O({token:s,factory:s.\u0275fac});let t=s;return t})();function gi(t,s){if(t&1){let e=C();r(0,"button",16),x("click",function(){u(e);let i=c(2);return _(i.openNew())}),n()}}function xi(t,s){if(t&1){let e=C();r(0,"button",17),x("click",function(){u(e);let i=c(2);return _(i.deleteSelectedCursos())}),n()}if(t&2){let e=c(2);p("disabled",!e.selectedCursos||!e.selectedCursos.length)}}function Ci(t,s){if(t&1&&(r(0,"div",13),d(1,gi,1,0,"button",14)(2,xi,1,1,"button",15),n()),t&2){let e=c();m(),p("ngIf",e.tokenService.isAdmin()),m(),p("ngIf",e.tokenService.isAdmin()&&e.cursos&&e.cursos.length>0)}}function hi(t,s){if(t&1&&(r(0,"h5",19),l(1),n()),t&2){let e=c(2);m(),w("Total ",e.cursos?e.cursos.length:0," Cursos ")}}function bi(t,s){if(t&1&&d(0,hi,2,1,"h5",18),t&2){let e=c();p("ngIf",e.cursos&&e.cursos.length>0)}}function yi(t,s){if(t&1){let e=C();r(0,"div",25)(1,"h5",19),l(2,"Cursos"),n(),r(3,"span",26),g(4,"i",27),r(5,"input",28),x("input",function(i){u(e),c();let a=G(2),v=c();return _(v.onGlobalFilter(a,i))}),n()()()}}function vi(t,s){t&1&&(r(0,"th",31),g(1,"p-tableHeaderCheckbox"),n())}function Si(t,s){if(t&1&&(r(0,"tr"),d(1,vi,2,0,"th",29),r(2,"th",30),l(3,"Curso"),n()()),t&2){let e=c(2);m(),p("ngIf",e.tokenService.isAdmin())}}function wi(t,s){if(t&1&&(r(0,"td"),g(1,"p-tableCheckbox",45),n()),t&2){let e=c().$implicit;m(),p("value",e)}}function Ei(t,s){if(t&1){let e=C();r(0,"div",46)(1,"button",47),x("click",function(){u(e);let i=c().$implicit,a=c(2);return _(a.editCurso(i))}),n(),r(2,"button",48),x("click",function(){u(e);let i=c().$implicit,a=c(2);return _(a.deleteCurso(i))}),n()()}}function Ti(t,s){if(t&1&&(r(0,"span",51),l(1),n()),t&2){let e=s.$implicit;m(),E(e.nombre)}}function Pi(t,s){if(t&1&&(r(0,"div")(1,"h5",49),l(2,"Areas del Curso: "),n(),d(3,Ti,2,1,"span",50),n()),t&2){let e=c().$implicit;m(3),p("ngForOf",e.areascurso)}}function Ii(t,s){t&1&&(r(0,"h5",52),l(1,"No hay areas de cursos asignadas"),n())}function Mi(t,s){if(t&1&&(r(0,"span",51),l(1),n()),t&2){let e=s.$implicit;m(),E(e.nombre)}}function ki(t,s){if(t&1&&(r(0,"div")(1,"h5",49),l(2,"Profesores: "),n(),d(3,Mi,2,1,"span",50),n()),t&2){let e=c().$implicit;m(3),p("ngForOf",e.profesores)}}function Vi(t,s){t&1&&(r(0,"h5",52),l(1,"No hay profesores asignados"),n())}function Di(t,s){if(t&1&&(r(0,"span",51),l(1),n()),t&2){let e=s.$implicit;m(),E(e.nombre)}}function Ai(t,s){if(t&1&&(r(0,"div")(1,"h5",49),l(2,"Rutas: "),n(),d(3,Di,2,1,"span",50),n()),t&2){let e=c().$implicit;m(3),p("ngForOf",e.rutas)}}function Ri(t,s){t&1&&(r(0,"h5",52),l(1,"No esta en una ruta de aprendizaje"),n())}function Wi(t,s){if(t&1&&(r(0,"tr"),d(1,wi,2,1,"td",6),r(2,"td")(3,"div",32)(4,"div",33)(5,"div",34)(6,"div",35),l(7),n(),r(8,"div")(9,"p")(10,"span",36),l(11,"Nivel: "),n(),l(12),g(13,"br"),r(14,"span",36),l(15,"Idioma: "),n(),l(16),g(17,"br"),r(18,"span",36),l(19,"Plataforma: "),n(),l(20),n(),g(21,"p"),n(),r(22,"div",37)(23,"p"),l(24),n()(),r(25,"div",38)(26,"div",38)(27,"a",39),g(28,"button",40),n()(),r(29,"div",38)(30,"a",39),g(31,"button",41),n()()()(),r(32,"div",42),d(33,Ei,3,0,"div",43),r(34,"div"),d(35,Pi,4,1,"div")(36,Ii,2,0)(37,ki,4,1,"div")(38,Vi,2,0)(39,Ai,4,1,"div")(40,Ri,2,0),n(),r(41,"div",44)(42,"p")(43,"span",36),l(44,"Creado el: "),n(),l(45),n()(),r(46,"div")(47,"p")(48,"span",36),l(49,"Ultima actualizaci\xF3n: "),n(),l(50),n()()()()()()()),t&2){let e=s.$implicit,o=c(2);m(),p("ngIf",o.tokenService.isAdmin()),m(6),H("",e.codigo,"-",e.nombre,""),m(5),E(e.nivel),m(4),E(e.idioma),m(4),w("",e.plataforma?e.plataforma.nombre:"No esta asignado"," "),m(4),E(e.descripcion),m(3),p("href",e.linkCurso,L),m(3),p("href",e.linkCursoTeleg,L),m(3),p("ngIf",o.tokenService.isAdmin()),m(2),A(35,e.areascurso!=null&&e.areascurso.length>0?35:36),m(2),A(37,e.profesores!=null&&e.profesores.length>0?37:38),m(2),A(39,e.rutas!=null&&e.rutas.length>0?39:40),m(6),w("",o.datePipe.transform(e.createdAt,"dd/MM/yyyy HH:MM:SS")," "),m(5),w("",o.datePipe.transform(e.updateAt,"dd/MM/yyyy HH:MM:SS")," ")}}var Fi=()=>["codigo","nombre","descripcion","idioma"],Bi=()=>[10,20,30];function Li(t,s){if(t&1){let e=C();W(0),r(1,"p-table",20,21),y("selectionChange",function(i){u(e);let a=c();return b(a.selectedCursos,i)||(a.selectedCursos=i),_(i)}),d(3,yi,6,0,"ng-template",22)(4,Si,4,1,"ng-template",23)(5,Wi,51,15,"ng-template",24),n(),F()}if(t&2){let e=c();m(),p("value",e.cursos)("scrollable",!0)("columns",e.cols)("rows",2)("globalFilterFields",T(10,Fi))("paginator",!0)("rowsPerPageOptions",T(11,Bi))("showCurrentPageReport",!0),h("selection",e.selectedCursos),p("rowHover",!0)}}function Ni(t,s){t&1&&(W(0),r(1,"h1",30),l(2,"No tienes cursos registrados"),n(),F())}var _e=t=>({"ng-invalid ng-dirty":t});function ji(t,s){if(t&1){let e=C();r(0,"input",78),y("ngModelChange",function(i){u(e);let a=c(2);return b(a.curso.codigo,i)||(a.curso.codigo=i),_(i)}),n()}if(t&2){let e=c(2);h("ngModel",e.curso.codigo),p("ngClass",P(2,_e,e.submitted&&!e.curso.codigo))}}function Hi(t,s){if(t&1){let e=C();r(0,"input",79),y("ngModelChange",function(i){u(e);let a=c(2);return b(a.curso.codigo,i)||(a.curso.codigo=i),_(i)}),n()}if(t&2){let e=c(2);h("ngModel",e.curso.codigo),p("ngClass",P(2,_e,e.submitted&&!e.curso.codigo))}}function zi(t,s){t&1&&(r(0,"small",80),l(1,"El codigo es requerido."),n())}function qi(t,s){t&1&&(r(0,"small",80),l(1,"El nombre es requerido."),n())}function Oi(t,s){t&1&&(r(0,"small",80),l(1,"La descripci\xF3n es requerida."),n())}function Gi(t,s){t&1&&(r(0,"small",80),l(1,"El nivel es requerido."),n())}function Ui(t,s){t&1&&(r(0,"small",80),l(1,"El idioma es requerido."),n())}function Ki(t,s){t&1&&(r(0,"small",80),l(1,"El logo es requerido."),n())}function Xi(t,s){t&1&&(r(0,"small",80),l(1,"El link es requerido."),n())}function Yi(t,s){if(t&1&&(r(0,"div")(1,"span"),l(2),n(),l(3,"-"),r(4,"span"),l(5),n()()),t&2){let e=s.$implicit;m(2),E(e.codigo),m(3),E(e.nombre)}}function Zi(t,s){if(t&1&&(r(0,"div",82)(1,"span",83),l(2),n()()),t&2){let e=s.$implicit;m(2),E(e.nombre)}}function Ji(t,s){if(t&1&&(r(0,"div")(1,"h3"),l(2,"Areas del Curso"),n(),d(3,Zi,3,1,"div",81),n()),t&2){let e=c(2);m(3),p("ngForOf",e.selectdAreasCursos)}}function Qi(t,s){t&1&&(r(0,"div")(1,"h3",52),l(2,"No hay areas de cursos asignadas"),n()())}function $i(t,s){if(t&1&&(r(0,"div",82)(1,"span",83),l(2),n()()),t&2){let e=s.$implicit;m(2),E(e.nombre)}}function en(t,s){if(t&1&&(r(0,"div")(1,"h3"),l(2,"Profesores"),n(),d(3,$i,3,1,"div",81),n()),t&2){let e=c(2);m(3),p("ngForOf",e.selectedProfesores)}}function tn(t,s){t&1&&(r(0,"h3",52),l(1,"No hay profesores asignados"),n())}function nn(t,s){if(t&1&&(r(0,"div",82)(1,"span",83),l(2),n()()),t&2){let e=s.$implicit;m(2),E(e.nombre)}}function on(t,s){if(t&1&&(r(0,"div")(1,"h3"),l(2,"Rutas"),n(),d(3,nn,3,1,"div",81),n()),t&2){let e=c(2);m(3),p("ngForOf",e.curso.rutas)}}function rn(t,s){t&1&&(r(0,"h3",52),l(1,"No esta en una ruta de aprendizaje"),n())}function an(t,s){if(t&1){let e=C();r(0,"div",53)(1,"div",54)(2,"label",55),l(3,"Codigo"),n(),d(4,ji,1,4,"input",56)(5,Hi,1,4)(6,zi,2,0,"small",57),n()(),r(7,"div",58)(8,"label",59),l(9,"Nombre"),n(),r(10,"input",60),y("ngModelChange",function(i){u(e);let a=c();return b(a.curso.nombre,i)||(a.curso.nombre=i),_(i)}),n(),d(11,qi,2,0,"small",57),n(),r(12,"div",58)(13,"label",61),l(14,"Plataforma"),n(),r(15,"p-dropdown",62),y("ngModelChange",function(i){u(e);let a=c();return b(a.selectdPlataforma,i)||(a.selectdPlataforma=i),_(i)}),n()(),r(16,"div",58)(17,"label",63),l(18,"Descripci\xF3n"),n(),r(19,"textarea",64),y("ngModelChange",function(i){u(e);let a=c();return b(a.curso.descripcion,i)||(a.curso.descripcion=i),_(i)}),n(),d(20,Oi,2,0,"small",57),n(),r(21,"div",53)(22,"div",54)(23,"label",65),l(24,"Nivel del Curso"),n(),r(25,"input",66),y("ngModelChange",function(i){u(e);let a=c();return b(a.curso.nivel,i)||(a.curso.nivel=i),_(i)}),n(),d(26,Gi,2,0,"small",57),n(),r(27,"div",54)(28,"label",67),l(29,"Idioma"),n(),r(30,"input",68),y("ngModelChange",function(i){u(e);let a=c();return b(a.curso.idioma,i)||(a.curso.idioma=i),_(i)}),n(),d(31,Ui,2,0,"small",57),n()(),r(32,"div",53)(33,"div",54)(34,"label",69),l(35,"Link"),n(),r(36,"input",70),y("ngModelChange",function(i){u(e);let a=c();return b(a.curso.linkCurso,i)||(a.curso.linkCurso=i),_(i)}),n(),d(37,Ki,2,0,"small",57),n(),r(38,"div",54)(39,"label",71),l(40,"Link Descargar Curso"),n(),r(41,"input",72),y("ngModelChange",function(i){u(e);let a=c();return b(a.curso.linkCursoTeleg,i)||(a.curso.linkCursoTeleg=i),_(i)}),n(),d(42,Xi,2,0,"small",57),n()(),r(43,"div",58)(44,"label",73),l(45,"Areas del Curso"),n(),r(46,"p-multiSelect",74),y("ngModelChange",function(i){u(e);let a=c();return b(a.selectdAreasCursos,i)||(a.selectdAreasCursos=i),_(i)}),d(47,Yi,6,2,"ng-template",75),n()(),r(48,"div",58)(49,"label",76),l(50,"Profesores del Curso"),n(),r(51,"p-multiSelect",77),y("ngModelChange",function(i){u(e);let a=c();return b(a.selectedProfesores,i)||(a.selectedProfesores=i),_(i)}),n()(),r(52,"div",58),d(53,Ji,4,1,"div")(54,Qi,3,0),n(),r(55,"div",58),d(56,en,4,1,"div")(57,tn,2,0),n(),r(58,"div",58),d(59,on,4,1,"div")(60,rn,2,0),n()}if(t&2){let e=c();m(4),A(4,e.curso.id?4:5),m(2),p("ngIf",e.submitted&&!e.curso.codigo),m(4),h("ngModel",e.curso.nombre),p("ngClass",P(29,_e,e.submitted&&!e.curso.nombre)),m(),p("ngIf",e.submitted&&!e.curso.nombre),m(4),p("options",e.plataformas),h("ngModel",e.selectdPlataforma),m(4),h("ngModel",e.curso.descripcion),p("ngClass",P(31,_e,e.submitted&&!e.curso.descripcion)),m(),p("ngIf",e.submitted&&!e.curso.descripcion),m(5),h("ngModel",e.curso.nivel),p("ngClass",P(33,_e,e.submitted&&!e.curso.nivel)),m(),p("ngIf",e.submitted&&!e.curso.nivel),m(4),h("ngModel",e.curso.idioma),p("ngClass",P(35,_e,e.submitted&&!e.curso.idioma)),m(),p("ngIf",e.submitted&&!e.curso.idioma),m(5),h("ngModel",e.curso.linkCurso),p("ngClass",P(37,_e,e.submitted&&!e.curso.linkCurso)),m(),p("ngIf",e.submitted&&!e.curso.linkCurso),m(4),h("ngModel",e.curso.linkCursoTeleg),p("ngClass",P(39,_e,e.submitted&&!e.curso.linkCursoTeleg)),m(),p("ngIf",e.submitted&&!e.curso.linkCursoTeleg),m(4),p("options",e.areasCursos),h("ngModel",e.selectdAreasCursos),m(5),p("options",e.profesores),h("ngModel",e.selectedProfesores),m(2),A(53,e.selectdAreasCursos!=null&&e.selectdAreasCursos.length>0?53:54),m(3),A(56,e.selectedProfesores!=null&&e.selectedProfesores.length>0?56:57),m(3),A(59,e.curso.rutas!=null&&e.curso.rutas.length>0?59:60)}}function sn(t,s){if(t&1){let e=C();r(0,"button",84),x("click",function(){u(e);let i=c();return _(i.hideDialog())}),n(),r(1,"button",85),x("click",function(){u(e);let i=c();return _(i.saveCurso())}),n()}}function ln(t,s){if(t&1&&(r(0,"span"),l(1,"\xBFEsta seguro/a de eliminar la plataforma "),r(2,"b"),l(3),n(),l(4,"?"),n()),t&2){let e=c();m(3),E(e.curso.nombre)}}function mn(t,s){if(t&1){let e=C();r(0,"button",86),x("click",function(){u(e);let i=c();return _(i.deleteCursoDialog=!1)}),n(),r(1,"button",87),x("click",function(){u(e);let i=c();return _(i.confirmDelete())}),n()}}function cn(t,s){if(t&1&&(r(0,"span"),l(1,"\xBFEsta seguro/a de eliminar la plataforma "),r(2,"b"),l(3),n(),l(4,"?"),n()),t&2){let e=c();m(3),E(e.curso.nombre)}}function pn(t,s){if(t&1){let e=C();r(0,"button",86),x("click",function(){u(e);let i=c();return _(i.deleteCursoDialog=!1)}),n(),r(1,"button",87),x("click",function(){u(e);let i=c();return _(i.confirmDelete())}),n()}}function dn(t,s){if(t&1){let e=C();r(0,"button",86),x("click",function(){u(e);let i=c();return _(i.deleteCursosDialog=!1)}),n(),r(1,"button",87),x("click",function(){u(e);let i=c();return _(i.confirmDeleteSelected())}),n()}}var un=()=>({width:"500px"}),Ge=()=>({width:"450px"}),Et=(()=>{let s=class s{constructor(o,i,a,v,f,Wt,Ft){this.cursosService=o,this.plataformasService=i,this.areaCursosService=a,this.profesoresService=v,this.messageService=f,this.datePipe=Wt,this.tokenService=Ft,this.cursos=[],this.cursosEdit=[],this.curso={},this.selectedCursos=[],this.cursoDialog=!1,this.deleteCursoDialog=!1,this.deleteCursosDialog=!1,this.submitted=!1,this.rowsPerPageOptions=[5,10,20],this.plataformas=[],this.selectdPlataforma={},this.areasCursos=[],this.selectdAreasCursos=[],this.profesores=[],this.selectedProfesores=[]}ngOnInit(){this.cursosService.getCursos().subscribe({next:o=>S(this,null,function*(){o&&o.length>0?this.cursos=o:this.messageService.add({severity:"warn",summary:"Sin informaci\xF3n",detail:"No tienes cursos registrados",life:3e3})}),error:o=>S(this,null,function*(){this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:o.statusText,life:3e3})})}),this.plataformasService.getPlataforms().subscribe({next:o=>S(this,null,function*(){o&&o.length>0?(this.plataformas=o,this.plataformas.forEach(i=>{delete i.cursos})):this.messageService.add({severity:"warn",summary:"Sin informaci\xF3n",detail:"No tienes plataformas registradas",life:3e3})}),error:o=>S(this,null,function*(){this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:o.statusText,life:3e3})})}),this.areaCursosService.getAreasCursos().subscribe({next:o=>S(this,null,function*(){o&&o.length>0?(this.areasCursos=o,this.areasCursos.forEach(i=>{delete i.cursos})):this.messageService.add({severity:"warn",summary:"Sin informaci\xF3n",detail:"No tienes areas de cursos registradas",life:3e3})}),error:o=>S(this,null,function*(){this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:o.statusText,life:3e3})})}),this.profesoresService.getProfesores().subscribe({next:o=>S(this,null,function*(){o&&o.length>0?(this.profesores=o,this.profesores.forEach(i=>{delete i.cursos})):this.messageService.add({severity:"warn",summary:"Sin informaci\xF3n",detail:"No tienes profesores registrados",life:3e3})}),error:o=>S(this,null,function*(){this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:o.statusText,life:3e3})})}),this.cols=[{field:"curso",header:"Curso"}]}getNivel(o){switch(o){case 1:return"Principiante";case 2:return"Intermedio";case 3:return"Avanzado";case 4:return"Profesional";default:return"Indefinido"}}openNew(){this.selectdPlataforma={},this.selectdAreasCursos=[],this.selectedProfesores=[],this.curso={},this.submitted=!1,this.cursoDialog=!0}deleteSelectedCursos(){this.deleteCursosDialog=!0}editCurso(o){this.curso=R({},o),this.selectdPlataforma=this.curso.plataforma?this.curso.plataforma:{},this.selectdAreasCursos=this.curso.areascurso?this.curso.areascurso:[],this.selectedProfesores=this.curso.profesores?this.curso.profesores:[],this.cursoDialog=!0}deleteCurso(o){this.deleteCursoDialog=!0,this.curso=R({},o),this.selectedCursos.push(this.curso)}confirmDeleteSelected(){return S(this,null,function*(){this.deleteCursosDialog=!1,this.selectedCursos=this.cursosService.deleteCursos(this.selectedCursos),this.cursos=this.cursos.filter(o=>!this.selectedCursos.includes(o)),this.selectedCursos=[]})}confirmDelete(){this.deleteCursoDialog=!1,this.cursosService.deleteCurso(this.curso),this.cursos=this.cursos.filter(o=>o.id!==this.curso.id),this.curso={}}hideDialog(){this.cursoDialog=!1,this.submitted=!1}saveCurso(){this.submitted=!0,this.cursosEdit=this.cursos,this.curso.plataforma=this.selectdPlataforma,this.curso.areascurso=this.selectdAreasCursos,this.curso.profesores=this.selectedProfesores,this.curso.codigo?.trim()&&this.curso.nombre?.trim()&&this.curso.descripcion?.trim()&&this.curso.nivel!=null&&this.curso.idioma?.trim()?(this.curso.id?this.cursosService.putCurso(this.curso).subscribe({next:o=>S(this,null,function*(){this.cursosEdit[this.findIndexById(this.curso.codigo)]=o,this.messageService.add({severity:"success",summary:"Successful",detail:"Curso Actualizado",life:3e3})}),error:o=>{if(typeof o.error.statusMessage=="string")this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:o.statusText,life:3e3});else for(let i of o.error.statusMessage.message)this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:i,life:3e3})}}):this.cursosService.postCurso(this.curso).subscribe({next:o=>S(this,null,function*(){o.rutas=[],this.cursosEdit.push(o),this.messageService.add({severity:"success",summary:"Successful",detail:"Curso Creado",life:3e3})}),error:o=>{if(typeof o.error.statusMessage=="string")this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:o.statusText,life:3e3});else for(let i of o.error.statusMessage.message)this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:i,life:3e3})}}),this.cursoDialog=!1):this.messageService.add({severity:"error",summary:"Campos sin llenar",detail:"Algunos campos obligatorios no han sido digilenciados",life:3e3})}findIndexById(o){let i=-1;for(let a=0;a<this.cursos.length;a++)if(this.cursos[a].codigo===o){i=a;break}return i}onGlobalFilter(o,i){o.filterGlobal(i.target.value,"contains")}};s.\u0275fac=function(i){return new(i||s)(M(be),M(Ce),M(ye),M(ve),M(k),M(N),M(j))},s.\u0275cmp=q({type:s,selectors:[["app-cursos"]],decls:28,vars:24,consts:[[1,"grid"],[1,"col-12","p-0","lg:p-3"],[1,"card","px-3","py-3","lg:px-5","lg:py-5"],["styleClass","mb-4 p-2"],["pTemplate","left"],["pTemplate","right"],[4,"ngIf"],["header","Detalles del Curso",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["header","Confirmar eliminaci\xF3n",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[1,"my-2"],["pButton","","pRipple","","label","Nueva","icon","pi pi-plus","class","p-button-success mr-2 p-2",3,"click",4,"ngIf"],["pButton","","pRipple","","label","Eliminar","icon","pi pi-trash","class","p-button-danger p-2",3,"disabled","click",4,"ngIf"],["pButton","","pRipple","","label","Nueva","icon","pi pi-plus",1,"p-button-success","mr-2","p-2",3,"click"],["pButton","","pRipple","","label","Eliminar","icon","pi pi-trash",1,"p-button-danger","p-2",3,"disabled","click"],["class","m-0",4,"ngIf"],[1,"m-0"],["scrollDirection","both","scrollHeight","400px","responsiveLayout","scroll","selectionMode","multiple","dataKey","id",3,"value","scrollable","columns","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","selection","rowHover","selectionChange"],["dt",""],["pTemplate","caption","styleClass","p-2"],["pTemplate","header","styleClass","p-1"],["pTemplate","body"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center","p-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar...",1,"w-full","sm:w-auto",3,"input"],["class","p-0 text-center",4,"ngIf"],[1,"text-center"],[1,"p-0","text-center"],[1,"flex","flex-row","p-2","gap-3","align-items-start",2,"width","700px !important"],[1,"flex","flex-row","justify-content-between","align-items-start","flex-1","gap-4"],[1,"flex","flex-column","align-items-start","gap-2"],[1,"text-2xl","font-bold","text-900"],[1,"font-bold"],[1,"text-1","text-700"],[1,"flex","align-items-center","gap-3"],["target","_blank","rel","noopener noreferrer",3,"href"],["pButton","","pRipple","","label","Ir al curso",1,"p-button-info"],["pButton","","pRipple","","label","Descargar curso",1,"p-button-info"],[1,"flex","flex-column"],["class","flex",4,"ngIf"],[1,"mt-4"],[3,"value"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-warning",3,"click"],[1,"inline-block"],["class","font-bold text-white bg-primary p-2 m-2 min-w-max inline-block","style","border: solid 1px #3b82f6; border-radius: 5px;",4,"ngFor","ngForOf"],[1,"font-bold","text-white","bg-primary","p-2","m-2","min-w-max","inline-block",2,"border","solid 1px #3b82f6","border-radius","5px"],[1,"mt-2","mb-2"],[1,"formgrid","grid"],[1,"field","col"],["for","codigo"],["type","text","pInputText","","id","codigo","disabled","","required","","autofocus","",3,"ngModel","ngClass"],["class","ng-dirty ng-invalid",4,"ngIf"],[1,"field"],["for","nombre"],["type","text","pInputText","","id","name","maxlength","200","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","plataforma"],["inputId","plataforma","optionLabel","nombre","placeholder","Seleccionar plataforma",3,"options","ngModel","ngModelChange"],["for","descripcion"],["id","descripcion","pInputTextarea","","maxlength","500","required","","autofocus","","rows","3","cols","20",3,"ngModel","ngClass","ngModelChange"],["for","nivel"],["type","number","pInputText","","id","link","maxlength","200","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","idioma"],["type","text","pInputText","","id","idioma","maxlength","25","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","link"],["type","text","pInputText","","id","logo","maxlength","150","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","linkDescargar"],["type","text","pInputText","","id","link","maxlength","200","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","areascurso"],["optionLabel","nombre","placeholder","Seleccionar areas del curso","display","chip",3,"options","ngModel","ngModelChange"],["pTemplate","selectdAreasCursos"],["for","profesores"],["optionLabel","nombre","placeholder","Seleccionar profesores del curso","display","chip",3,"options","ngModel","ngModelChange"],["type","text","pInputText","","id","codigo","disabled","","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["type","text","pInputText","","id","codigo","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],[1,"ng-dirty","ng-invalid"],["class","min-w-max inline-block bg-primary p-2 m-2","style","border: solid 1px #3b82f6; border-radius: 5px;",4,"ngFor","ngForOf"],[1,"min-w-max","inline-block","bg-primary","p-2","m-2",2,"border","solid 1px #3b82f6","border-radius","5px"],[1,"font-bold","text-white"],["pButton","","pRipple","","label","Cancelar","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Guardar","icon","pi pi-check",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Si",1,"p-button-text",3,"click"]],template:function(i,a){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),g(3,"p-toast"),r(4,"p-toolbar",3),d(5,Ci,3,2,"ng-template",4)(6,bi,1,1,"ng-template",5),n(),d(7,Li,6,12,"ng-container",6)(8,Ni,3,0,"ng-container",6),n(),r(9,"p-dialog",7),y("visibleChange",function(f){return b(a.cursoDialog,f)||(a.cursoDialog=f),f}),d(10,an,61,41,"ng-template",8)(11,sn,2,0,"ng-template",9),n(),r(12,"p-dialog",10),y("visibleChange",function(f){return b(a.deleteCursoDialog,f)||(a.deleteCursoDialog=f),f}),r(13,"div",11),g(14,"i",12),d(15,ln,5,1,"span",6),n(),d(16,mn,2,0,"ng-template",9),n(),r(17,"p-dialog",10),y("visibleChange",function(f){return b(a.deleteCursoDialog,f)||(a.deleteCursoDialog=f),f}),r(18,"div",11),g(19,"i",12),d(20,cn,5,1,"span",6),n(),d(21,pn,2,0,"ng-template",9),n(),r(22,"p-dialog",10),y("visibleChange",function(f){return b(a.deleteCursosDialog,f)||(a.deleteCursosDialog=f),f}),r(23,"div",11),g(24,"i",12),r(25,"span"),l(26,"\xBFEsta seguro/a de eliminar las plataformas seleccionadas?"),n()(),d(27,dn,2,0,"ng-template",9),n()()()),i&2&&(m(7),p("ngIf",a.cursos&&a.cursos.length>0),m(),p("ngIf",!(a.cursos&&a.cursos.length>0)),m(),V(T(20,un)),h("visible",a.cursoDialog),p("modal",!0),m(3),V(T(21,Ge)),h("visible",a.deleteCursoDialog),p("modal",!0),m(3),p("ngIf",a.curso),m(2),V(T(22,Ge)),h("visible",a.deleteCursoDialog),p("modal",!0),m(3),p("ngIf",a.curso),m(2),V(T(23,Ge)),h("visible",a.deleteCursosDialog),p("modal",!0))},dependencies:[Q,$e,$,te,ie,ee,U,Ye,K,J,Y,ae,se,le,Z,me,ce,re,ue,tt,pe,Ee]});let t=s;return t})();var Le=(()=>{let s=class s extends ne{constructor(o,i,a){super(o,a),this.messageService=i}getRutas(){return this.http.get(`${I.microproxy_cursos}rutas`)}postRuta(o){return this.http.post(`${I.microproxy_cursos}rutas`,o)}putRuta(o){return this.http.put(`${I.microproxy_cursos}rutas`,o)}deleteRutas(o){for(let i of o){let a={headers:new B({"Content-Type":"application/json"}),body:i};this.http.delete(`${I.microproxy_cursos}rutas`,a).subscribe({next:v=>S(this,null,function*(){this.messageService.add({severity:"success",summary:"Eliminado",detail:`Ruta ${i.nombre} eliminada`,life:3e3})}),error:v=>{o=o.filter(f=>f.id!=i.id),this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:v.statusText,life:3e3})}})}return o}deleteRuta(o){let i={headers:new B({"Content-Type":"application/json"}),body:o};this.http.delete(`${I.microproxy_cursos}rutas`,i).subscribe({next:a=>S(this,null,function*(){this.messageService.add({severity:"success",summary:"Eliminado",detail:`Ruta ${o.nombre} eliminada`,life:3e3})}),error:a=>{this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:a.statusText,life:3e3})}})}};s.\u0275fac=function(i){return new(i||s)(D(X),D(k),D(oe))},s.\u0275prov=O({token:s,factory:s.\u0275fac});let t=s;return t})();function fn(t,s){if(t&1){let e=C();r(0,"button",17),x("click",function(){u(e);let i=c(2);return _(i.openNew())}),n()}}function gn(t,s){if(t&1){let e=C();r(0,"button",18),x("click",function(){u(e);let i=c(2);return _(i.deleteSelectedRutas())}),n()}if(t&2){let e=c(2);p("disabled",!e.selectedRutas||!e.selectedRutas.length)}}function xn(t,s){if(t&1&&(r(0,"div",14),d(1,fn,1,0,"button",15)(2,gn,1,1,"button",16),n()),t&2){let e=c();m(),p("ngIf",e.tokenService.isAdmin()),m(),p("ngIf",e.tokenService.isAdmin()&&e.rutas&&e.rutas.length>0)}}function Cn(t,s){if(t&1&&(r(0,"h5",20),l(1),n()),t&2){let e=c(2);m(),w("Total ",e.rutas.length," Rutas")}}function hn(t,s){if(t&1&&d(0,Cn,2,1,"h5",19),t&2){let e=c();p("ngIf",e.rutas&&e.rutas.length>0)}}function bn(t,s){if(t&1){let e=C();r(0,"div",26)(1,"h5",20),l(2,"Rutas"),n(),r(3,"span",27),g(4,"i",28),r(5,"input",29),x("input",function(i){u(e),c();let a=G(2),v=c();return _(v.onGlobalFilter(a,i))}),n()()()}}function yn(t,s){t&1&&(r(0,"th",32),g(1,"p-tableHeaderCheckbox"),n())}function vn(t,s){if(t&1&&(r(0,"tr"),d(1,yn,2,0,"th",30),r(2,"th",31),l(3,"Ruta"),n()()),t&2){let e=c(2);m(),p("ngIf",e.tokenService.isAdmin())}}function Sn(t,s){if(t&1&&(r(0,"td"),g(1,"p-tableCheckbox",43),n()),t&2){let e=c().$implicit;m(),p("value",e)}}function wn(t,s){if(t&1){let e=C();r(0,"div",44)(1,"button",45),x("click",function(){u(e);let i=c().$implicit,a=c(2);return _(a.editRuta(i))}),n(),r(2,"button",46),x("click",function(){u(e);let i=c().$implicit,a=c(2);return _(a.deleteRuta(i))}),n()()}}function En(t,s){if(t&1&&(r(0,"tr"),d(1,Sn,2,1,"td",7),r(2,"td",33)(3,"div",34)(4,"div",35)(5,"div",36)(6,"div",37),l(7),n(),r(8,"div")(9,"p")(10,"span",38),l(11,"Cursos: "),n(),l(12),n()(),r(13,"div",39)(14,"p"),l(15),n()()(),r(16,"div",40),d(17,wn,3,0,"div",41),r(18,"div",42)(19,"p")(20,"span",38),l(21,"Creado el: "),n(),l(22),n()(),r(23,"div")(24,"p")(25,"span",38),l(26,"Ultima actualizaci\xF3n: "),n(),l(27),n()()()()()()()),t&2){let e=s.$implicit,o=c(2);m(),p("ngIf",o.tokenService.isAdmin()),m(6),H("",e.codigo,"-",e.nombre,""),m(5),E(e.cursos?e.cursos.length:0),m(3),E(e.descripcion),m(2),p("ngIf",o.tokenService.isAdmin()),m(5),E(o.datePipe.transform(e.createdAt,"dd/MM/yyyy HH:MM:SS")),m(5),E(o.datePipe.transform(e.updateAt,"dd/MM/yyyy HH:MM:SS"))}}var Tn=()=>["codigo","nombre","descripcion"],Pn=()=>[10,20,30];function In(t,s){if(t&1){let e=C();W(0),r(1,"p-table",21,22),y("selectionChange",function(i){u(e);let a=c();return b(a.selectedRutas,i)||(a.selectedRutas=i),_(i)}),d(3,bn,6,0,"ng-template",23)(4,vn,4,1,"ng-template",24)(5,En,28,8,"ng-template",25),n(),F()}if(t&2){let e=c();m(),p("value",e.rutas)("scrollable",!0)("columns",e.cols)("rows",10)("globalFilterFields",T(10,Tn))("paginator",!0)("rowsPerPageOptions",T(11,Pn))("showCurrentPageReport",!0),h("selection",e.selectedRutas),p("rowHover",!0)}}function Mn(t,s){t&1&&(W(0),r(1,"h1",31),l(2,"No tienes rutas registradas"),n(),F())}var Ne=t=>({"ng-invalid ng-dirty":t});function kn(t,s){if(t&1){let e=C();r(0,"div",48)(1,"label",57),l(2,"Codigo"),n(),r(3,"input",58),y("ngModelChange",function(i){u(e);let a=c(2);return b(a.ruta.codigo,i)||(a.ruta.codigo=i),_(i)}),n()()}if(t&2){let e=c(2);m(3),h("ngModel",e.ruta.codigo),p("ngClass",P(2,Ne,e.submitted&&!e.ruta.codigo))}}function Vn(t,s){t&1&&(r(0,"small",60),l(1,"El codigo es requerido."),n())}function Dn(t,s){if(t&1){let e=C();r(0,"div",48)(1,"label",57),l(2,"Codigo"),n(),r(3,"input",59),y("ngModelChange",function(i){u(e);let a=c(2);return b(a.ruta.codigo,i)||(a.ruta.codigo=i),_(i)}),n(),d(4,Vn,2,0,"small",51),n()}if(t&2){let e=c(2);m(3),h("ngModel",e.ruta.codigo),p("ngClass",P(3,Ne,e.submitted&&!e.ruta.codigo)),m(),p("ngIf",e.submitted&&!e.ruta.codigo)}}function An(t,s){t&1&&(r(0,"small",60),l(1,"El nombre es requerido."),n())}function Rn(t,s){t&1&&(r(0,"small",60),l(1,"La descripci\xF3n es requerida."),n())}function Wn(t,s){if(t&1&&(r(0,"div",62)(1,"div",63)(2,"span",38),l(3),n(),r(4,"div",64)(5,"span"),l(6),n()()()()),t&2){let e=s.$implicit;m(3),H("",e.codigo,"-",e.nombre,""),m(3),E(e.descripcion)}}var Fn=()=>({"max-height":"30rem"});function Bn(t,s){if(t&1&&(r(0,"p-orderList",56),d(1,Wn,7,3,"ng-template",61),n()),t&2){let e=c(2);p("value",e.selectedCursos)("listStyle",T(3,Fn))("dragdrop",!0)}}function Ln(t,s){if(t&1){let e=C();d(0,kn,4,4,"div",47)(1,Dn,5,5),r(2,"div",48)(3,"label",49),l(4,"Nombre"),n(),r(5,"input",50),y("ngModelChange",function(i){u(e);let a=c();return b(a.ruta.nombre,i)||(a.ruta.nombre=i),_(i)}),n(),d(6,An,2,0,"small",51),n(),r(7,"div",48)(8,"label",52),l(9,"Descripci\xF3n"),n(),r(10,"textarea",53),y("ngModelChange",function(i){u(e);let a=c();return b(a.ruta.descripcion,i)||(a.ruta.descripcion=i),_(i)}),n(),d(11,Rn,2,0,"small",51),n(),r(12,"div",48)(13,"label",54),l(14,"Cursos de la ruta"),n(),r(15,"p-multiSelect",55),y("ngModelChange",function(i){u(e);let a=c();return b(a.selectedCursos,i)||(a.selectedCursos=i),_(i)}),n()(),d(16,Bn,2,4,"p-orderList",56)}if(t&2){let e=c();A(0,e.ruta.id?0:1),m(5),h("ngModel",e.ruta.nombre),p("ngClass",P(10,Ne,e.submitted&&!e.ruta.nombre)),m(),p("ngIf",e.submitted&&!e.ruta.nombre),m(4),h("ngModel",e.ruta.descripcion),p("ngClass",P(12,Ne,e.submitted&&!e.ruta.descripcion)),m(),p("ngIf",e.submitted&&!e.ruta.descripcion),m(4),p("options",e.cursos),h("ngModel",e.selectedCursos),m(),A(16,e.selectedCursos?16:-1)}}function Nn(t,s){if(t&1){let e=C();r(0,"button",65),x("click",function(){u(e);let i=c();return _(i.hideDialog())}),n(),r(1,"button",66),x("click",function(){u(e);let i=c();return _(i.saveRuta())}),n()}}function jn(t,s){if(t&1&&(r(0,"span"),l(1,"\xBFEsta seguro/a de eliminar la ruta "),r(2,"b"),l(3),n(),l(4,"?"),n()),t&2){let e=c();m(3),E(e.ruta.nombre)}}function Hn(t,s){if(t&1){let e=C();r(0,"button",67),x("click",function(){u(e);let i=c();return _(i.deleteRutaDialog=!1)}),n(),r(1,"button",68),x("click",function(){u(e);let i=c();return _(i.confirmDelete())}),n()}}function zn(t,s){if(t&1){let e=C();r(0,"button",67),x("click",function(){u(e);let i=c();return _(i.deleteRutasDialog=!1)}),n(),r(1,"button",68),x("click",function(){u(e);let i=c();return _(i.confirmDeleteSelected())}),n()}}var qn=()=>({width:"500px"}),Tt=()=>({width:"450px"}),Pt=(()=>{let s=class s{constructor(o,i,a,v,f){this.rutasService=o,this.messageService=i,this.datePipe=a,this.cursosService=v,this.tokenService=f,this.rutas=[],this.rutasEdit=[],this.ruta={},this.selectedRutas=[],this.rutaDialog=!1,this.deleteRutaDialog=!1,this.deleteRutasDialog=!1,this.submitted=!1,this.cols=[],this.rowsPerPageOptions=[5,10,20],this.cursos=[],this.selectedCursos=[]}ngOnInit(){this.rutasService.getRutas().subscribe({next:o=>S(this,null,function*(){o.length>0?this.rutas=o:this.messageService.add({severity:"warn",summary:"Sin informaci\xF3n",detail:"No tienes rutas registradas",life:3e3})}),error:o=>{this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:o.statusText,life:3e3})}}),this.cursosService.getCursos().subscribe({next:o=>S(this,null,function*(){o.length>0?(this.cursos=o,this.cursos.forEach(i=>{delete i.rutas,delete i.areascurso,delete i.plataforma,delete i.profesores})):this.messageService.add({severity:"warn",summary:"Sin informaci\xF3n",detail:"No tienes cursos registradas",life:3e3})}),error:o=>{this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:o.statusText,life:3e3})}}),this.cols=[{field:"codigo",header:"Codigo"},{field:"nombre",header:"Nombre"},{field:"descripcion",header:"Descripci\xF3n"},{field:"creacion",header:"Creaci\xF3n"},{field:"actualizacion",header:"Actualizaci\xF3n"}]}openNew(){this.ruta={},this.selectedCursos=[],this.submitted=!1,this.rutaDialog=!0}deleteSelectedRutas(){this.deleteRutasDialog=!0}editRuta(o){this.selectedCursos=o.cursos?o.cursos:[],this.ruta=R({},o),this.rutaDialog=!0}deleteRuta(o){this.deleteRutaDialog=!0,this.ruta=R({},o),this.selectedRutas.push(this.ruta)}confirmDeleteSelected(){return S(this,null,function*(){this.deleteRutasDialog=!1,this.selectedRutas=this.rutasService.deleteRutas(this.selectedRutas),this.rutas=this.rutas.filter(o=>!this.selectedRutas.includes(o)),this.selectedRutas=[]})}confirmDelete(){this.deleteRutaDialog=!1,this.rutasService.deleteRuta(this.ruta),this.rutas=this.rutas.filter(o=>o.id!==this.ruta.id),this.ruta={}}hideDialog(){this.rutaDialog=!1,this.submitted=!1}saveRuta(){this.submitted=!0,this.rutasEdit=this.rutas,this.ruta.cursos=this.selectedCursos,console.log(this.ruta),this.ruta.codigo?.trim()&&this.ruta.nombre?.trim()&&this.ruta.descripcion?.trim()&&(this.ruta.id?this.rutasService.putRuta(this.ruta).subscribe({next:o=>S(this,null,function*(){this.rutasEdit[this.findIndexById(this.ruta.codigo)]=this.ruta,this.messageService.add({severity:"success",summary:"Successful",detail:"Ruta Actualizada",life:3e3})}),error:o=>{if(typeof o.error.statusMessage=="string")this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:o.statusText,life:3e3});else for(let i of o.error.statusMessage.message)this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:i,life:3e3})}}):this.rutasService.postRuta(this.ruta).subscribe({next:o=>S(this,null,function*(){this.rutasEdit.push(o),this.messageService.add({severity:"success",summary:"Exitosa",detail:"Ruta Creada",life:3e3})}),error:o=>{if(typeof o.error.statusMessage=="string")this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:o.statusText,life:3e3});else for(let i of o.error.statusMessage.message)this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:i,life:3e3})}}),this.rutaDialog=!1)}findIndexById(o){let i=-1;for(let a=0;a<this.rutas.length;a++)if(this.rutas[a].codigo===o){i=a;break}return i}onGlobalFilter(o,i){o.filterGlobal(i.target.value,"contains")}};s.\u0275fac=function(i){return new(i||s)(M(Le),M(k),M(N),M(be),M(j))},s.\u0275cmp=q({type:s,selectors:[["app-rutas"]],decls:23,vars:18,consts:[[1,"grid"],[1,"col-12","p-0","lg:p-3"],[1,"card","px-3","py-3","lg:px-5","lg:py-5"],["styleClass","ml-3"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[4,"ngIf"],["header","Detalles de la Plataforma",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["header","Confirmar eliminaci\xF3n",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[1,"my-2"],["pButton","","pRipple","","label","Nueva","icon","pi pi-plus","class","p-button-success mr-2 p-2",3,"click",4,"ngIf"],["pButton","","pRipple","","label","Eliminar","icon","pi pi-trash","class","p-button-danger p-2",3,"disabled","click",4,"ngIf"],["pButton","","pRipple","","label","Nueva","icon","pi pi-plus",1,"p-button-success","mr-2","p-2",3,"click"],["pButton","","pRipple","","label","Eliminar","icon","pi pi-trash",1,"p-button-danger","p-2",3,"disabled","click"],["class","m-0",4,"ngIf"],[1,"m-0"],["scrollDirection","both","scrollHeight","1000px","responsiveLayout","scroll","currentPageReportTemplate","Viendo {first} a {last} de {totalRecords} rutas","selectionMode","multiple","dataKey","id",3,"value","scrollable","columns","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","selection","rowHover","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar...",1,"w-full","sm:w-auto",3,"input"],["style","width: 3rem",4,"ngIf"],[1,"text-center"],[2,"width","3rem"],[2,"width","100%","min-width","10rem"],[1,"flex","flex-column","xl:flex-row","xl:align-items-start","p-4","gap-4","align-items-center"],[1,"flex","flex-column","sm:flex-row","justify-content-between","align-items-center","xl:align-items-start","flex-1","gap-4"],[1,"flex","flex-column","align-items-center","sm:align-items-start","gap-3"],[1,"text-2xl","font-bold","text-900"],[1,"font-bold"],[1,"text-1","text-700"],[1,"flex","flex-column"],["class","flex",4,"ngIf"],[1,"mt-4"],[3,"value"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-warning",3,"click"],["class","field"],[1,"field"],["for","nombre"],["type","text","pInputText","","id","name","maxlength","200","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","descripcion"],["id","descripcion","pInputTextarea","","maxlength","500","required","","autofocus","","rows","3","cols","20",3,"ngModel","ngClass","ngModelChange"],["for","cursos"],["optionLabel","nombre","scrollHeight","100px","placeholder","Seleccionar cursos de la ruta","display","chip",3,"options","ngModel","ngModelChange"],["header","Cursos",3,"value","listStyle","dragdrop"],["for","codigo"],["type","text","pInputText","","id","codigo","disabled","","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["type","text","pInputText","","id","codigo","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],[1,"ng-dirty","ng-invalid"],["pTemplate","item"],[1,"flex","flex-wrap","align-items-center","gap-3"],[1,"flex-1","flex","flex-column","gap-2"],[1,"flex","align-items-center","gap-2"],["pButton","","pRipple","","label","Cancelar","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Guardar","icon","pi pi-check",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Si",1,"p-button-text",3,"click"]],template:function(i,a){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),g(3,"p-toast",3),r(4,"p-toolbar",4),d(5,xn,3,2,"ng-template",5)(6,hn,1,1,"ng-template",6),n(),d(7,In,6,12,"ng-container",7)(8,Mn,3,0,"ng-container",7),n(),r(9,"p-dialog",8),y("visibleChange",function(f){return b(a.rutaDialog,f)||(a.rutaDialog=f),f}),d(10,Ln,17,14,"ng-template",9)(11,Nn,2,0,"ng-template",10),n(),r(12,"p-dialog",11),y("visibleChange",function(f){return b(a.deleteRutaDialog,f)||(a.deleteRutaDialog=f),f}),r(13,"div",12),g(14,"i",13),d(15,jn,5,1,"span",7),n(),d(16,Hn,2,0,"ng-template",10),n(),r(17,"p-dialog",11),y("visibleChange",function(f){return b(a.deleteRutasDialog,f)||(a.deleteRutasDialog=f),f}),r(18,"div",12),g(19,"i",13),r(20,"span"),l(21,"\xBFEsta seguro/a de eliminar las plataformas seleccionadas?"),n()(),d(22,zn,2,0,"ng-template",10),n()()()),i&2&&(m(7),p("ngIf",a.rutas&&a.rutas.length>0),m(),p("ngIf",!(a.rutas&&a.rutas.length>0)),m(),V(T(15,qn)),h("visible",a.rutaDialog),p("modal",!0),m(3),V(T(16,Tt)),h("visible",a.deleteRutaDialog),p("modal",!0),m(3),p("ngIf",a.ruta),m(2),V(T(17,Tt)),h("visible",a.deleteRutasDialog),p("modal",!0))},dependencies:[Q,$,te,ie,ee,U,K,J,Y,ae,se,le,Z,me,ce,re,ue,pe,pt,Ee]});let t=s;return t})();function On(t,s){if(t&1){let e=C();r(0,"button",16),x("click",function(){u(e);let i=c(2);return _(i.openNew())}),n()}}function Gn(t,s){if(t&1){let e=C();r(0,"button",17),x("click",function(){u(e);let i=c(2);return _(i.deleteSelectedAreasCursos())}),n()}if(t&2){let e=c(2);p("disabled",!e.selectedAreasCursos||!e.selectedAreasCursos.length)}}function Un(t,s){if(t&1&&(r(0,"div",13),d(1,On,1,0,"button",14)(2,Gn,1,1,"button",15),n()),t&2){let e=c();m(),p("ngIf",e.tokenService.isAdmin()),m(),p("ngIf",e.tokenService.isAdmin()&&e.areasCursos&&e.areasCursos.length>0)}}function Kn(t,s){if(t&1&&(r(0,"h5",19),l(1),n()),t&2){let e=c(2);m(),w("Total ",e.areasCursos.length," Areas de Cursos")}}function Xn(t,s){if(t&1&&d(0,Kn,2,1,"h5",18),t&2){let e=c();p("ngIf",e.areasCursos&&e.areasCursos.length>0)}}function Yn(t,s){if(t&1){let e=C();r(0,"div",25)(1,"h5",19),l(2,"Areas de Cursos"),n(),r(3,"span",26),g(4,"i",27),r(5,"input",28),x("input",function(i){u(e),c();let a=G(2),v=c();return _(v.onGlobalFilter(a,i))}),n()()()}}function Zn(t,s){t&1&&(r(0,"th",31),g(1,"p-tableHeaderCheckbox"),n())}function Jn(t,s){if(t&1&&(r(0,"tr"),d(1,Zn,2,0,"th",29),r(2,"th",30),l(3,"Area de Cursos "),n()()),t&2){let e=c(2);m(),p("ngIf",e.tokenService.isAdmin())}}function Qn(t,s){if(t&1&&(r(0,"td"),g(1,"p-tableCheckbox",41),n()),t&2){let e=c().$implicit;m(),p("value",e)}}function $n(t,s){if(t&1){let e=C();r(0,"div",42)(1,"button",43),x("click",function(){u(e);let i=c().$implicit,a=c(2);return _(a.editAreaCursos(i))}),n(),r(2,"button",44),x("click",function(){u(e);let i=c().$implicit,a=c(2);return _(a.deleteAreaCursos(i))}),n()()}}function eo(t,s){if(t&1&&(r(0,"tr"),d(1,Qn,2,1,"td",6),r(2,"td",32)(3,"div",33)(4,"div",34)(5,"div",35)(6,"div",36),l(7),n(),r(8,"div")(9,"p")(10,"span",37),l(11,"Cursos: "),n(),l(12),n()()(),r(13,"div",38),d(14,$n,3,0,"div",39),r(15,"div",40)(16,"p")(17,"span",37),l(18,"Creado el: "),n(),l(19),n()(),r(20,"div")(21,"p")(22,"span",37),l(23,"Ultima actualizaci\xF3n: "),n(),l(24),n()()()()()()()),t&2){let e=s.$implicit,o=c(2);m(),p("ngIf",o.tokenService.isAdmin()),m(6),H("",e.codigo,"-",e.nombre,""),m(5),E(e.cursos?e.cursos.length:0),m(2),p("ngIf",o.tokenService.isAdmin()),m(5),E(o.datePipe.transform(e.createdAt,"dd/MM/yyyy HH:MM:SS")),m(5),E(o.datePipe.transform(e.updateAt,"dd/MM/yyyy HH:MM:SS"))}}var to=()=>["codigo","nombre"],Mt=()=>[10,20,30];function io(t,s){if(t&1){let e=C();W(0),r(1,"p-table",20,21),y("selectionChange",function(i){u(e);let a=c();return b(a.selectedAreasCursos,i)||(a.selectedAreasCursos=i),_(i)}),d(3,Yn,6,0,"ng-template",22)(4,Jn,4,1,"ng-template",23)(5,eo,25,7,"ng-template",24),n(),F()}if(t&2){let e=c();m(),p("value",e.areasCursos)("scrollable",!0)("columns",e.cols)("rows",10)("globalFilterFields",T(10,to))("paginator",!0)("rowsPerPageOptions",T(11,Mt))("showCurrentPageReport",!0),h("selection",e.selectedAreasCursos),p("rowHover",!0)}}function no(t,s){t&1&&(W(0),r(1,"h1",30),l(2,"No tienes areas de cursos registradas"),n(),F())}var Ue=t=>({"ng-invalid ng-dirty":t});function oo(t,s){if(t&1){let e=C();r(0,"div",46)(1,"label",51),l(2,"Codigo"),n(),r(3,"input",52),y("ngModelChange",function(i){u(e);let a=c(2);return b(a.areaCursos.codigo,i)||(a.areaCursos.codigo=i),_(i)}),n()()}if(t&2){let e=c(2);m(3),h("ngModel",e.areaCursos.codigo),p("ngClass",P(2,Ue,e.submitted&&!e.areaCursos.codigo))}}function ro(t,s){t&1&&(r(0,"small",54),l(1,"El codigo es requerido."),n())}function ao(t,s){if(t&1){let e=C();r(0,"div",46)(1,"label",51),l(2,"Codigo"),n(),r(3,"input",53),y("ngModelChange",function(i){u(e);let a=c(2);return b(a.areaCursos.codigo,i)||(a.areaCursos.codigo=i),_(i)}),n(),d(4,ro,2,0,"small",49),n()}if(t&2){let e=c(2);m(3),h("ngModel",e.areaCursos.codigo),p("ngClass",P(3,Ue,e.submitted&&!e.areaCursos.codigo)),m(),p("ngIf",e.submitted&&!e.areaCursos.codigo)}}function so(t,s){t&1&&(r(0,"small",54),l(1,"El nombre es requerido."),n())}function lo(t,s){t&1&&(r(0,"div",25)(1,"h5",19),l(2,"Cursos"),n()())}function mo(t,s){t&1&&(r(0,"tr")(1,"th",55),l(2,"Codigo "),g(3,"p-sortIcon",56),n(),r(4,"th",57),l(5,"Nombre "),g(6,"p-sortIcon",58),n(),r(7,"th",59),l(8,"Descripci\xF3n "),g(9,"p-sortIcon",60),n(),r(10,"th",59),l(11,"Nivel "),g(12,"p-sortIcon",60),n(),r(13,"th",61),l(14,"Curso Plataforma "),g(15,"p-sortIcon",62),n(),r(16,"th",63),l(17,"Descargar Curso "),g(18,"p-sortIcon",64),n(),r(19,"th",65),l(20,"Creaci\xF3n "),g(21,"p-sortIcon",66),n(),r(22,"th",67),l(23,"Actualizaci\xF3n "),g(24,"p-sortIcon",68),n()())}function co(t,s){if(t&1&&(r(0,"tr")(1,"td",69)(2,"span",70),l(3,"Codigo"),n(),l(4),n(),r(5,"td",69)(6,"span",70),l(7,"Nombre"),n(),l(8),n(),r(9,"td",69)(10,"span",70),l(11,"Descripci\xF3n"),n(),l(12),n(),r(13,"td",69)(14,"span",70),l(15,"Nivel"),n(),l(16),n(),r(17,"td",69)(18,"span",70),l(19,"Curso Plataforma"),n(),l(20),n(),r(21,"td",69)(22,"span",70),l(23,"Descargar Curso"),n(),l(24),n(),r(25,"td",71)(26,"span",70),l(27,"Creaci\xF3n"),n(),l(28),n(),r(29,"td",71)(30,"span",70),l(31,"Actualizaci\xF3n"),n(),l(32),n()()),t&2){let e=s.$implicit;m(4),w(" ",e.codigo," "),m(4),w(" ",e.nombre," "),m(4),w(" ",e.descripcion," "),m(4),w(" ",e.nivel," "),m(4),w(" ",e.linkCurso," "),m(4),w(" ",e.linkCursoTeleg," "),m(4),w(" ",e.createdAt," "),m(4),w(" ",e.updateAt," ")}}function po(t,s){if(t&1&&(r(0,"p-table",50,21),d(2,lo,3,0,"ng-template",22)(3,mo,25,0,"ng-template",23)(4,co,33,8,"ng-template",24),n()),t&2){let e=c(2);p("value",e.areaCursos.cursos)("columns",e.cols)("rows",10)("paginator",!0)("rowsPerPageOptions",T(7,Mt))("showCurrentPageReport",!0)("rowHover",!0)}}function uo(t,s){if(t&1){let e=C();d(0,oo,4,4,"div",45)(1,ao,5,5),r(2,"div",46)(3,"label",47),l(4,"Nombre"),n(),r(5,"input",48),y("ngModelChange",function(i){u(e);let a=c();return b(a.areaCursos.nombre,i)||(a.areaCursos.nombre=i),_(i)}),n(),d(6,so,2,0,"small",49),n(),d(7,po,5,8,"p-table",50)}if(t&2){let e=c();A(0,e.areaCursos.id?0:1),m(5),h("ngModel",e.areaCursos.nombre),p("ngClass",P(5,Ue,e.submitted&&!e.areaCursos.nombre)),m(),p("ngIf",e.submitted&&!e.areaCursos.nombre),m(),A(7,e.areaCursos.cursos?7:-1)}}function _o(t,s){if(t&1){let e=C();r(0,"button",72),x("click",function(){u(e);let i=c();return _(i.hideDialog())}),n(),r(1,"button",73),x("click",function(){u(e);let i=c();return _(i.saveAreaCursos())}),n()}}function fo(t,s){if(t&1&&(r(0,"span"),l(1,"\xBFEsta seguro/a de eliminar este area de cursos "),r(2,"b"),l(3),n(),l(4,"?"),n()),t&2){let e=c();m(3),E(e.areaCursos.nombre)}}function go(t,s){if(t&1){let e=C();r(0,"button",74),x("click",function(){u(e);let i=c();return _(i.deleteAreaCursosDialog=!1)}),n(),r(1,"button",75),x("click",function(){u(e);let i=c();return _(i.confirmDelete())}),n()}}function xo(t,s){if(t&1){let e=C();r(0,"button",74),x("click",function(){u(e);let i=c();return _(i.deleteAreasCursosDialog=!1)}),n(),r(1,"button",75),x("click",function(){u(e);let i=c();return _(i.confirmDeleteSelected())}),n()}}var Co=()=>({width:"500px"}),It=()=>({width:"450px"}),kt=(()=>{let s=class s{constructor(o,i,a,v){this.areaCursosService=o,this.messageService=i,this.datePipe=a,this.tokenService=v,this.areasCursos=[],this.areasCursosEdit=[],this.areaCursos={},this.selectedAreasCursos=[],this.areaCursosDialog=!1,this.deleteAreaCursosDialog=!1,this.deleteAreasCursosDialog=!1,this.submitted=!1,this.cols=[],this.rowsPerPageOptions=[5,10,20]}ngOnInit(){this.areaCursosService.getAreasCursos().subscribe({next:o=>S(this,null,function*(){o.length>0?this.areasCursos=o:this.messageService.add({severity:"warn",summary:"Sin informaci\xF3n",detail:"No tienes areas de cursos registradas",life:3e3})}),error:o=>{this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:o.statusText,life:3e3})}}),this.cols=[{field:"areaCurso",header:"Area de Cursos"}]}openNew(){this.areaCursos={},this.submitted=!1,this.areaCursosDialog=!0}deleteSelectedAreasCursos(){this.deleteAreasCursosDialog=!0}editAreaCursos(o){this.areaCursos=R({},o),this.areaCursosDialog=!0}deleteAreaCursos(o){this.deleteAreaCursosDialog=!0,this.areaCursos=R({},o),this.selectedAreasCursos.push(this.areaCursos)}confirmDeleteSelected(){return S(this,null,function*(){this.deleteAreasCursosDialog=!1,this.selectedAreasCursos=this.areaCursosService.deleteAreasCursos(this.selectedAreasCursos),this.areasCursos=this.areasCursos.filter(o=>!this.selectedAreasCursos.includes(o)),this.selectedAreasCursos=[]})}confirmDelete(){this.deleteAreaCursosDialog=!1,this.areaCursosService.deleteAreaCursos(this.areaCursos),this.areasCursos=this.areasCursos.filter(o=>o.id!==this.areaCursos.id),this.areaCursos={}}hideDialog(){this.areaCursosDialog=!1,this.submitted=!1}saveAreaCursos(){this.submitted=!0,this.areasCursosEdit=this.areasCursos,this.areaCursos.codigo?.trim()&&this.areaCursos.nombre?.trim()&&(this.areaCursos.id?this.areaCursosService.putAreaCursos(this.areaCursos).subscribe({next:o=>S(this,null,function*(){this.areasCursosEdit[this.findIndexById(this.areaCursos.codigo)]=yield this.areaCursos,this.messageService.add({severity:"success",summary:"Successful",detail:"Area de cursos Actualizada",life:3e3})}),error:o=>{if(typeof o.error.statusMessage=="string")this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:o.statusText,life:3e3});else for(let i of o.error.statusMessage.message)this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:i,life:3e3})}}):this.areaCursosService.postAreaCursos(this.areaCursos).subscribe({next:o=>S(this,null,function*(){o.cursos=[],this.areasCursosEdit.push(o),this.messageService.add({severity:"success",summary:"Successful",detail:"Area de cursos Creada",life:3e3})}),error:o=>{if(typeof o.error.statusMessage=="string")this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:o.statusText,life:3e3});else for(let i of o.error.statusMessage.message)this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:i,life:3e3})}}),this.areaCursosDialog=!1)}findIndexById(o){let i=-1;for(let a=0;a<this.areasCursos.length;a++)if(this.areasCursos[a].codigo===o){i=a;break}return i}onGlobalFilter(o,i){o.filterGlobal(i.target.value,"contains")}};s.\u0275fac=function(i){return new(i||s)(M(ye),M(k),M(N),M(j))},s.\u0275cmp=q({type:s,selectors:[["app-areas-cursos"]],decls:23,vars:18,consts:[[1,"grid"],[1,"col-12","p-0","lg:p-3"],[1,"card","px-3","py-3","lg:px-5","lg:py-5"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[4,"ngIf"],["header","Detalles del Area de Cursos",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["header","Confirmar eliminaci\xF3n",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[1,"my-2"],["pButton","","pRipple","","label","Nueva","icon","pi pi-plus","class","p-button-success mr-2 p-2",3,"click",4,"ngIf"],["pButton","","pRipple","","label","Eliminar","icon","pi pi-trash","class","p-button-danger p-2",3,"disabled","click",4,"ngIf"],["pButton","","pRipple","","label","Nueva","icon","pi pi-plus",1,"p-button-success","mr-2","p-2",3,"click"],["pButton","","pRipple","","label","Eliminar","icon","pi pi-trash",1,"p-button-danger","p-2",3,"disabled","click"],["class","m-0",4,"ngIf"],[1,"m-0"],["scrollDirection","both","scrollHeight","400px","responsiveLayout","scroll","currentPageReportTemplate","Viendo {first} a {last} de {totalRecords} areas de cursos","selectionMode","multiple","dataKey","id",3,"value","scrollable","columns","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","selection","rowHover","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar...",1,"w-full","sm:w-auto",3,"input"],["style","width: 3rem",4,"ngIf"],[1,"text-center"],[2,"width","3rem"],[2,"width","100%","min-width","10rem"],[1,"flex","flex-column","xl:flex-row","xl:align-items-start","p-4","gap-4","align-items-center"],[1,"flex","flex-column","sm:flex-row","justify-content-between","align-items-center","xl:align-items-start","flex-1","gap-4"],[1,"flex","flex-column","align-items-center","sm:align-items-start","gap-3"],[1,"text-2xl","font-bold","text-900"],[1,"font-bold"],[1,"flex","flex-column"],["class","flex",4,"ngIf"],[1,"mt-4"],[3,"value"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-warning",3,"click"],["class","field"],[1,"field"],["for","nombre"],["type","text","pInputText","","id","name","maxlength","200","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["responsiveLayout","scroll","currentPageReportTemplate","Viendo {first} a {last} de {totalRecords} cursos","dataKey","id",3,"value","columns","rows","paginator","rowsPerPageOptions","showCurrentPageReport","rowHover"],["for","codigo"],["type","text","pInputText","","id","codigo","disabled","","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["type","text","pInputText","","id","codigo","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],[1,"ng-dirty","ng-invalid"],["pSortableColumn","codigo"],["field","codigo"],["pSortableColumn","nombre"],["field","nombre"],["pSortableColumn","descripcion"],["field","descripcion"],["pSortableColumn","linkCurso"],["field","linkCurso"],["pSortableColumn","descargarCurso"],["field","descargarCurso"],["pSortableColumn","creacion"],["field","creacion"],["pSortableColumn","actualizacion"],["field","actualizacion"],[2,"width","14%","min-width","10rem"],[1,"p-column-title"],[2,"width","50%","min-width","16rem"],["pButton","","pRipple","","label","Cancelar","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Guardar","icon","pi pi-check",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Si",1,"p-button-text",3,"click"]],template:function(i,a){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),g(3,"p-toast"),r(4,"p-toolbar",3),d(5,Un,3,2,"ng-template",4)(6,Xn,1,1,"ng-template",5),n(),d(7,io,6,12,"ng-container",6)(8,no,3,0,"ng-container",6),n(),r(9,"p-dialog",7),y("visibleChange",function(f){return b(a.areaCursosDialog,f)||(a.areaCursosDialog=f),f}),d(10,uo,8,7,"ng-template",8)(11,_o,2,0,"ng-template",9),n(),r(12,"p-dialog",10),y("visibleChange",function(f){return b(a.deleteAreaCursosDialog,f)||(a.deleteAreaCursosDialog=f),f}),r(13,"div",11),g(14,"i",12),d(15,fo,5,1,"span",6),n(),d(16,go,2,0,"ng-template",9),n(),r(17,"p-dialog",10),y("visibleChange",function(f){return b(a.deleteAreasCursosDialog,f)||(a.deleteAreasCursosDialog=f),f}),r(18,"div",11),g(19,"i",12),r(20,"span"),l(21,"\xBFEsta seguro/a de eliminar las areas de cursos seleccionadas?"),n()(),d(22,xo,2,0,"ng-template",9),n()()()),i&2&&(m(7),p("ngIf",a.areasCursos&&a.areasCursos.length>0),m(),p("ngIf",!(a.areasCursos&&a.areasCursos.length>0)),m(),V(T(15,Co)),h("visible",a.areaCursosDialog),p("modal",!0),m(3),V(T(16,It)),h("visible",a.deleteAreaCursosDialog),p("modal",!0),m(3),p("ngIf",a.areaCursos),m(2),V(T(17,It)),h("visible",a.deleteAreasCursosDialog),p("modal",!0))},dependencies:[Q,$,te,ie,ee,U,K,J,Y,ae,ge,xe,se,le,Z,me,ce,re,pe]});let t=s;return t})();function ho(t,s){if(t&1){let e=C();r(0,"button",16),x("click",function(){u(e);let i=c(2);return _(i.openNew())}),n()}}function bo(t,s){if(t&1){let e=C();r(0,"button",17),x("click",function(){u(e);let i=c(2);return _(i.deleteSelectedProfesores())}),n()}if(t&2){let e=c(2);p("disabled",!e.selectedProfesores||!e.selectedProfesores.length)}}function yo(t,s){if(t&1&&(r(0,"div",13),d(1,ho,1,0,"button",14)(2,bo,1,1,"button",15),n()),t&2){let e=c();m(),p("ngIf",e.tokenService.isAdmin()),m(),p("ngIf",e.tokenService.isAdmin()&&e.profesores&&e.profesores.length>0)}}function vo(t,s){if(t&1&&(r(0,"h5",19),l(1),n()),t&2){let e=c(2);m(),w("Total ",e.profesores.length," Profesores ")}}function So(t,s){if(t&1&&d(0,vo,2,1,"h5",18),t&2){let e=c();p("ngIf",e.profesores&&e.profesores.length>0)}}function wo(t,s){if(t&1){let e=C();r(0,"div",25)(1,"h5",19),l(2,"Areas de Cursos"),n(),r(3,"span",26),g(4,"i",27),r(5,"input",28),x("input",function(i){u(e),c();let a=G(2),v=c();return _(v.onGlobalFilter(a,i))}),n()()()}}function Eo(t,s){t&1&&(r(0,"th",31),g(1,"p-tableHeaderCheckbox"),n())}function To(t,s){if(t&1&&(r(0,"tr"),d(1,Eo,2,0,"th",29),r(2,"th",30),l(3,"Profesor"),n()()),t&2){let e=c(2);m(),p("ngIf",e.tokenService.isAdmin())}}function Po(t,s){if(t&1&&(r(0,"td"),g(1,"p-tableCheckbox",49),n()),t&2){let e=c().$implicit;m(),p("value",e)}}function Io(t,s){if(t&1){let e=C();r(0,"div",50)(1,"button",51),x("click",function(){u(e);let i=c().$implicit,a=c(2);return _(a.editProfesor(i))}),n(),r(2,"button",52),x("click",function(){u(e);let i=c().$implicit,a=c(2);return _(a.deleteProfesor(i))}),n()()}}function Mo(t,s){if(t&1&&(r(0,"tr"),d(1,Po,2,1,"td",6),r(2,"td")(3,"div",32)(4,"div",33)(5,"div",34)(6,"div",35),l(7),n(),r(8,"div")(9,"p")(10,"span",36),l(11,"Cursos: "),n(),l(12),n()(),r(13,"div",37)(14,"p"),l(15),n()(),r(16,"div",37)(17,"p",36),l(18,"Redes sociales"),n(),r(19,"div")(20,"a",38),g(21,"i",39),n(),r(22,"a",38),g(23,"i",40),n(),r(24,"a",38),g(25,"i",41),n(),r(26,"a",38),g(27,"i",42),n(),r(28,"a",38),Ke(),r(29,"svg",43),g(30,"path",44),n()(),Xe(),r(31,"a",38),g(32,"i",45),n()()()(),r(33,"div",46),d(34,Io,3,0,"div",47),r(35,"div",48)(36,"p")(37,"span",36),l(38,"Creado el: "),n(),l(39),n()(),r(40,"div")(41,"p")(42,"span",36),l(43,"Ultima actualizaci\xF3n: "),n(),l(44),n()()()()()()()),t&2){let e=s.$implicit,o=c(2);m(),p("ngIf",o.tokenService.isAdmin()),m(6),H("",e.codigo,"-",e.nombre,""),m(5),E(e.cursos?e.cursos.length:0),m(3),E(e.descripcion),m(5),fe("href",e.facebook,L),m(2),fe("href",e.linkedin,L),m(2),fe("href",e.youtube,L),m(2),fe("href",e.instagram,L),m(2),fe("href",e.x,L),m(3),fe("href",e.correo,L),m(3),p("ngIf",o.tokenService.isAdmin()),m(5),E(o.datePipe.transform(e.createdAt,"dd/MM/yyyy HH:MM:SS")),m(5),w("",o.datePipe.transform(e.updateAt,"dd/MM/yyyy HH:MM:SS")," ")}}var ko=()=>["codigo","nombre","descripcion"],Dt=()=>[10,20,30];function Vo(t,s){if(t&1){let e=C();W(0),r(1,"p-table",20,21),y("selectionChange",function(i){u(e);let a=c();return b(a.selectedProfesores,i)||(a.selectedProfesores=i),_(i)}),d(3,wo,6,0,"ng-template",22)(4,To,4,1,"ng-template",23)(5,Mo,45,14,"ng-template",24),n(),F()}if(t&2){let e=c();m(),p("value",e.profesores)("scrollable",!0)("columns",e.cols)("rows",10)("globalFilterFields",T(10,ko))("paginator",!0)("rowsPerPageOptions",T(11,Dt))("showCurrentPageReport",!0),h("selection",e.selectedProfesores),p("rowHover",!0)}}function Do(t,s){t&1&&(W(0),r(1,"h1",30),l(2,"No tienes profesores registrados"),n(),F())}var je=t=>({"ng-invalid ng-dirty":t});function Ao(t,s){if(t&1){let e=C();r(0,"div",54)(1,"label",75),l(2,"Codigo"),n(),r(3,"input",76),y("ngModelChange",function(i){u(e);let a=c(2);return b(a.profesor.codigo,i)||(a.profesor.codigo=i),_(i)}),n()()}if(t&2){let e=c(2);m(3),h("ngModel",e.profesor.codigo),p("ngClass",P(2,je,e.submitted&&!e.profesor.codigo))}}function Ro(t,s){t&1&&(r(0,"small",78),l(1,"El codigo es requerido."),n())}function Wo(t,s){if(t&1){let e=C();r(0,"div",54)(1,"label",75),l(2,"Codigo"),n(),r(3,"input",77),y("ngModelChange",function(i){u(e);let a=c(2);return b(a.profesor.codigo,i)||(a.profesor.codigo=i),_(i)}),n(),d(4,Ro,2,0,"small",57),n()}if(t&2){let e=c(2);m(3),h("ngModel",e.profesor.codigo),p("ngClass",P(3,je,e.submitted&&!e.profesor.codigo)),m(),p("ngIf",e.submitted&&!e.profesor.codigo)}}function Fo(t,s){t&1&&(r(0,"small",78),l(1,"El nombre es requerido."),n())}function Bo(t,s){t&1&&(r(0,"small",78),l(1,"La descripci\xF3n es requerida."),n())}function Lo(t,s){t&1&&(r(0,"div",25)(1,"h5",19),l(2,"Cursos"),n()())}function No(t,s){t&1&&(r(0,"tr")(1,"th",79),l(2,"Codigo "),g(3,"p-sortIcon",80),n(),r(4,"th",81),l(5,"Nombre "),g(6,"p-sortIcon",82),n(),r(7,"th",83),l(8,"Descripci\xF3n "),g(9,"p-sortIcon",84),n(),r(10,"th",83),l(11,"Nivel "),g(12,"p-sortIcon",84),n(),r(13,"th",85),l(14,"Curso Plataforma "),g(15,"p-sortIcon",86),n(),r(16,"th",87),l(17,"Descargar Curso "),g(18,"p-sortIcon",88),n(),r(19,"th",89),l(20,"Creaci\xF3n "),g(21,"p-sortIcon",90),n(),r(22,"th",91),l(23,"Actualizaci\xF3n "),g(24,"p-sortIcon",92),n()())}function jo(t,s){if(t&1&&(r(0,"tr")(1,"td",93)(2,"span",94),l(3,"Codigo"),n(),l(4),n(),r(5,"td",93)(6,"span",94),l(7,"Nombre"),n(),l(8),n(),r(9,"td",93)(10,"span",94),l(11,"Descripci\xF3n"),n(),l(12),n(),r(13,"td",93)(14,"span",94),l(15,"Nivel"),n(),l(16),n(),r(17,"td",93)(18,"span",94),l(19,"Curso Plataforma"),n(),l(20),n(),r(21,"td",93)(22,"span",94),l(23,"Descargar Curso"),n(),l(24),n(),r(25,"td",95)(26,"span",94),l(27,"Creaci\xF3n"),n(),l(28),n(),r(29,"td",95)(30,"span",94),l(31,"Actualizaci\xF3n"),n(),l(32),n()()),t&2){let e=s.$implicit;m(4),w(" ",e.codigo," "),m(4),w(" ",e.nombre," "),m(4),w(" ",e.descripcion," "),m(4),w(" ",e.nivel," "),m(4),w(" ",e.linkCurso," "),m(4),w(" ",e.linkCursoTeleg," "),m(4),w(" ",e.createdAt," "),m(4),w(" ",e.updateAt," ")}}function Ho(t,s){if(t&1&&(r(0,"p-table",74,21),d(2,Lo,3,0,"ng-template",22)(3,No,25,0,"ng-template",23)(4,jo,33,8,"ng-template",24),n()),t&2){let e=c(2);p("value",e.profesor.cursos)("columns",e.cols)("rows",10)("paginator",!0)("rowsPerPageOptions",T(7,Dt))("showCurrentPageReport",!0)("rowHover",!0)}}function zo(t,s){if(t&1){let e=C();d(0,Ao,4,4,"div",53)(1,Wo,5,5),r(2,"div",54)(3,"label",55),l(4,"Nombre"),n(),r(5,"input",56),y("ngModelChange",function(i){u(e);let a=c();return b(a.profesor.nombre,i)||(a.profesor.nombre=i),_(i)}),n(),d(6,Fo,2,0,"small",57),n(),r(7,"div",54)(8,"label",58),l(9,"Descripci\xF3n"),n(),r(10,"textarea",59),y("ngModelChange",function(i){u(e);let a=c();return b(a.profesor.descripcion,i)||(a.profesor.descripcion=i),_(i)}),n(),d(11,Bo,2,0,"small",57),n(),r(12,"div",54)(13,"label"),l(14,"Redes sociales"),n(),r(15,"div",60)(16,"div",61)(17,"label",62),l(18,"Linkedin"),n(),r(19,"input",63),y("ngModelChange",function(i){u(e);let a=c();return b(a.profesor.linkedin,i)||(a.profesor.linkedin=i),_(i)}),n()(),r(20,"div",61)(21,"label",64),l(22,"Youtube"),n(),r(23,"input",65),y("ngModelChange",function(i){u(e);let a=c();return b(a.profesor.youtube,i)||(a.profesor.youtube=i),_(i)}),n()()(),r(24,"div",60)(25,"div",61)(26,"label",66),l(27,"Facebook"),n(),r(28,"input",67),y("ngModelChange",function(i){u(e);let a=c();return b(a.profesor.facebook,i)||(a.profesor.facebook=i),_(i)}),n()(),r(29,"div",61)(30,"label",68),l(31,"X"),n(),r(32,"input",69),y("ngModelChange",function(i){u(e);let a=c();return b(a.profesor.x,i)||(a.profesor.x=i),_(i)}),n()()(),r(33,"div",60)(34,"div",61)(35,"label",70),l(36,"Instagram"),n(),r(37,"input",71),y("ngModelChange",function(i){u(e);let a=c();return b(a.profesor.instagram,i)||(a.profesor.instagram=i),_(i)}),n()(),r(38,"div",61)(39,"label",72),l(40,"Correo"),n(),r(41,"input",73),y("ngModelChange",function(i){u(e);let a=c();return b(a.profesor.correo,i)||(a.profesor.correo=i),_(i)}),n()()()(),d(42,Ho,5,8,"p-table",74)}if(t&2){let e=c();A(0,e.profesor.id?0:1),m(5),h("ngModel",e.profesor.nombre),p("ngClass",P(14,je,e.submitted&&!e.profesor.nombre)),m(),p("ngIf",e.submitted&&!e.profesor.nombre),m(4),h("ngModel",e.profesor.descripcion),p("ngClass",P(16,je,e.submitted&&!e.profesor.descripcion)),m(),p("ngIf",e.submitted&&!e.profesor.descripcion),m(8),h("ngModel",e.profesor.linkedin),m(4),h("ngModel",e.profesor.youtube),m(5),h("ngModel",e.profesor.facebook),m(4),h("ngModel",e.profesor.x),m(5),h("ngModel",e.profesor.instagram),m(4),h("ngModel",e.profesor.correo),m(),A(42,e.profesor.cursos?42:-1)}}function qo(t,s){if(t&1){let e=C();r(0,"button",96),x("click",function(){u(e);let i=c();return _(i.hideDialog())}),n(),r(1,"button",97),x("click",function(){u(e);let i=c();return _(i.saveAreaCursos())}),n()}}function Oo(t,s){if(t&1&&(r(0,"span"),l(1,"\xBFEsta seguro/a de eliminar este area de cursos "),r(2,"b"),l(3),n(),l(4,"?"),n()),t&2){let e=c();m(3),E(e.profesor.nombre)}}function Go(t,s){if(t&1){let e=C();r(0,"button",98),x("click",function(){u(e);let i=c();return _(i.deleteProfesorDialog=!1)}),n(),r(1,"button",99),x("click",function(){u(e);let i=c();return _(i.confirmDelete())}),n()}}function Uo(t,s){if(t&1){let e=C();r(0,"button",98),x("click",function(){u(e);let i=c();return _(i.deleteProfesoresDialog=!1)}),n(),r(1,"button",99),x("click",function(){u(e);let i=c();return _(i.confirmDeleteSelected())}),n()}}var Ko=()=>({width:"500px"}),Vt=()=>({width:"450px"}),At=(()=>{let s=class s{constructor(o,i,a,v){this.profesoresService=o,this.messageService=i,this.datePipe=a,this.tokenService=v,this.profesores=[],this.profesoresEdit=[],this.profesor={},this.selectedProfesores=[],this.profesorDialog=!1,this.deleteProfesorDialog=!1,this.deleteProfesoresDialog=!1,this.submitted=!1,this.cols=[],this.rowsPerPageOptions=[5,10,20]}ngOnInit(){this.profesoresService.getProfesores().subscribe({next:o=>S(this,null,function*(){o.length>0?this.profesores=o:this.messageService.add({severity:"warn",summary:"Sin informaci\xF3n",detail:"No tienes profesores registrados",life:3e3})}),error:o=>{this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:o.statusText,life:3e3})}}),this.cols=[{field:"profesor",header:"Profesor"}]}openNew(){this.profesor={},this.submitted=!1,this.profesorDialog=!0}deleteSelectedProfesores(){this.deleteProfesoresDialog=!0}editProfesor(o){this.profesor=R({},o),this.profesorDialog=!0}deleteProfesor(o){this.deleteProfesorDialog=!0,this.profesor=R({},o),this.selectedProfesores.push(this.profesor)}confirmDeleteSelected(){return S(this,null,function*(){this.deleteProfesoresDialog=!1,this.selectedProfesores=this.profesoresService.deleteProfesores(this.selectedProfesores),this.profesores=this.profesores.filter(o=>!this.selectedProfesores.includes(o)),this.selectedProfesores=[]})}confirmDelete(){this.deleteProfesorDialog=!1,this.profesoresService.deleteProfesor(this.profesor),this.profesores=this.profesores.filter(o=>o.id!==this.profesor.id),this.profesor={}}hideDialog(){this.profesorDialog=!1,this.submitted=!1}saveAreaCursos(){this.submitted=!0,this.profesoresEdit=this.profesores,this.profesor.codigo?.trim()&&this.profesor.nombre?.trim()&&(this.profesor.id?this.profesoresService.putProfesor(this.profesor).subscribe({next:o=>S(this,null,function*(){this.profesoresEdit[this.findIndexById(this.profesor.codigo)]=yield this.profesor,this.messageService.add({severity:"success",summary:"Successful",detail:"Profesor Actualizado",life:3e3})}),error:o=>{if(typeof o.error.statusMessage=="string")this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:o.statusText,life:3e3});else for(let i of o.error.statusMessage.message)this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:i,life:3e3})}}):this.profesoresService.postProfesor(this.profesor).subscribe({next:o=>S(this,null,function*(){o.cursos=[],this.profesoresEdit.push(o),this.messageService.add({severity:"success",summary:"Successful",detail:"Profesor Creado",life:3e3})}),error:o=>{if(typeof o.error.statusMessage=="string")this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:o.statusText,life:3e3});else for(let i of o.error.statusMessage.message)this.messageService.add({severity:"error",summary:"Atenci\xF3n",detail:i,life:3e3})}}),this.profesorDialog=!1)}findIndexById(o){let i=-1;for(let a=0;a<this.profesores.length;a++)if(this.profesores[a].codigo===o){i=a;break}return i}onGlobalFilter(o,i){o.filterGlobal(i.target.value,"contains")}};s.\u0275fac=function(i){return new(i||s)(M(ve),M(k),M(N),M(j))},s.\u0275cmp=q({type:s,selectors:[["app-profesores"]],decls:23,vars:18,consts:[[1,"grid"],[1,"col-12","p-0","lg:p-3"],[1,"card","px-3","py-3","lg:px-5","lg:py-5"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[4,"ngIf"],["header","Detalles del Area de Cursos",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["header","Confirmar eliminaci\xF3n",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[1,"my-2"],["pButton","","pRipple","","label","Nueva","icon","pi pi-plus","class","p-button-success mr-2 p-2",3,"click",4,"ngIf"],["pButton","","pRipple","","label","Eliminar","icon","pi pi-trash","class","p-button-danger p-2",3,"disabled","click",4,"ngIf"],["pButton","","pRipple","","label","Nueva","icon","pi pi-plus",1,"p-button-success","mr-2","p-2",3,"click"],["pButton","","pRipple","","label","Eliminar","icon","pi pi-trash",1,"p-button-danger","p-2",3,"disabled","click"],["class","m-0",4,"ngIf"],[1,"m-0"],["scrollDirection","both","scrollHeight","400px","responsiveLayout","scroll","currentPageReportTemplate","Viendo {first} a {last} de {totalRecords} profesores","selectionMode","multiple","dataKey","id",3,"value","scrollable","columns","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","selection","rowHover","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar...",1,"w-full","sm:w-auto",3,"input"],["style","width: 3rem",4,"ngIf"],[1,"text-center"],[2,"width","3rem"],[1,"flex","flex-column","xl:flex-row","xl:align-items-start","p-4","gap-4","align-items-center"],[1,"flex","flex-row","justify-content-between","align-items-start","flex-1","gap-4"],[1,"flex","flex-column","align-items-center","sm:align-items-start","gap-3"],[1,"text-2xl","font-bold","text-900"],[1,"font-bold"],[1,"text-1","text-700"],["target","_blank","rel","noopener noreferrer",1,"m-2",3,"href"],[1,"pi","pi-facebook","m.2",2,"font-size","1.8rem","color","#3b5998"],[1,"pi","pi-linkedin",2,"font-size","1.8rem","color","#0e76a8"],[1,"pi","pi-youtube",2,"font-size","1.8rem","color","#c4302b"],[1,"pi","pi-instagram","p-1",2,"font-size","1.5rem","color","#ffffff","background","#f09433","background","-moz-linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%)","background","-webkit-linear-gradient(45deg, #f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%)","background","linear-gradient(45deg, #f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%)","filter","progid:DXImageTransform.Microsoft.gradient( startColorstr='#f09433', endColorstr='#bc1888',GradientType=1 )"],["xmlns","http://www.w3.org/2000/svg","width","22","height","22","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-twitter-x","p-1",2,"color","#ffffff","background-color","#000000"],["d","M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865z"],[1,"pi","pi-envelope",2,"font-size","1.8rem","color","#c4302b"],[1,"flex","flex-column"],["class","flex",4,"ngIf"],[1,"mt-4"],[3,"value"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-warning",3,"click"],["class","field"],[1,"field"],["for","nombre"],["type","text","pInputText","","id","name","maxlength","200","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","descripcion"],["id","descripcion","pInputTextarea","","maxlength","500","required","","autofocus","","rows","3","cols","20",3,"ngModel","ngClass","ngModelChange"],[1,"formgrid","grid"],[1,"field","col"],["for","linkedin"],["type","text","pInputText","","id","linkedin","maxlength","150","autofocus","",3,"ngModel","ngModelChange"],["for","youtube"],["type","text","pInputText","","id","youtube","maxlength","200","autofocus","",3,"ngModel","ngModelChange"],["for","facebook"],["type","text","pInputText","","id","facebook","maxlength","150","autofocus","",3,"ngModel","ngModelChange"],["for","x"],["type","text","pInputText","","id","x","maxlength","200","autofocus","",3,"ngModel","ngModelChange"],["for","instagram"],["type","text","pInputText","","id","instagram","maxlength","150","autofocus","",3,"ngModel","ngModelChange"],["for","correo"],["type","email","pInputText","","id","correo","maxlength","200","autofocus","",3,"ngModel","ngModelChange"],["responsiveLayout","scroll","currentPageReportTemplate","Viendo {first} a {last} de {totalRecords} cursos","dataKey","id",3,"value","columns","rows","paginator","rowsPerPageOptions","showCurrentPageReport","rowHover"],["for","codigo"],["type","text","pInputText","","id","codigo","disabled","","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["type","text","pInputText","","id","codigo","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],[1,"ng-dirty","ng-invalid"],["pSortableColumn","codigo"],["field","codigo"],["pSortableColumn","nombre"],["field","nombre"],["pSortableColumn","descripcion"],["field","descripcion"],["pSortableColumn","linkCurso"],["field","linkCurso"],["pSortableColumn","descargarCurso"],["field","descargarCurso"],["pSortableColumn","creacion"],["field","creacion"],["pSortableColumn","actualizacion"],["field","actualizacion"],[2,"width","14%","min-width","10rem"],[1,"p-column-title"],[2,"width","50%","min-width","16rem"],["pButton","","pRipple","","label","Cancelar","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Guardar","icon","pi pi-check",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Si",1,"p-button-text",3,"click"]],template:function(i,a){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),g(3,"p-toast"),r(4,"p-toolbar",3),d(5,yo,3,2,"ng-template",4)(6,So,1,1,"ng-template",5),n(),d(7,Vo,6,12,"ng-container",6)(8,Do,3,0,"ng-container",6),n(),r(9,"p-dialog",7),y("visibleChange",function(f){return b(a.profesorDialog,f)||(a.profesorDialog=f),f}),d(10,zo,43,18,"ng-template",8)(11,qo,2,0,"ng-template",9),n(),r(12,"p-dialog",10),y("visibleChange",function(f){return b(a.deleteProfesorDialog,f)||(a.deleteProfesorDialog=f),f}),r(13,"div",11),g(14,"i",12),d(15,Oo,5,1,"span",6),n(),d(16,Go,2,0,"ng-template",9),n(),r(17,"p-dialog",10),y("visibleChange",function(f){return b(a.deleteProfesoresDialog,f)||(a.deleteProfesoresDialog=f),f}),r(18,"div",11),g(19,"i",12),r(20,"span"),l(21,"\xBFEsta seguro/a de eliminar las areas de cursos seleccionadas?"),n()(),d(22,Uo,2,0,"ng-template",9),n()()()),i&2&&(m(7),p("ngIf",a.profesores&&a.profesores.length>0),m(),p("ngIf",!(a.profesores&&a.profesores.length>0)),m(),V(T(15,Ko)),h("visible",a.profesorDialog),p("modal",!0),m(3),V(T(16,Vt)),h("visible",a.deleteProfesorDialog),p("modal",!0),m(3),p("ngIf",a.profesor),m(2),V(T(17,Vt)),h("visible",a.deleteProfesoresDialog),p("modal",!0))},dependencies:[Q,$,te,ie,ee,U,K,J,Y,ae,ge,xe,se,le,Z,me,ce,re,ue,pe]});let t=s;return t})();var Rt=(()=>{let s=class s{};s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=Se({type:s}),s.\u0275inj=we({imports:[ze.forChild([{path:"cursos",component:Et},{path:"rutas",component:Pt},{path:"areascursos",component:kt},{path:"profesores",component:At},{path:"plataformas",component:yt}]),ze]});let t=s;return t})();var Ca=(()=>{let s=class s{};s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=Se({type:s}),s.\u0275inj=we({providers:[Ce,k,ye,ve,be,N,Le,j],imports:[qe,et,Ze,He,Rt,Qe,ut,He,rt,_t,qe,Je,at,st,ft,nt,lt,it,gt,ot,mt,dt,ct,xt]});let t=s;return t})();export{Ca as CursosOnlineModule};
